(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function vb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nw={exports:{}},Mu={},Rw={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ga=Symbol.for("react.element"),xb=Symbol.for("react.portal"),wb=Symbol.for("react.fragment"),_b=Symbol.for("react.strict_mode"),Tb=Symbol.for("react.profiler"),Eb=Symbol.for("react.provider"),Sb=Symbol.for("react.context"),Ib=Symbol.for("react.forward_ref"),bb=Symbol.for("react.suspense"),Ab=Symbol.for("react.memo"),Cb=Symbol.for("react.lazy"),Py=Symbol.iterator;function kb(t){return t===null||typeof t!="object"?null:(t=Py&&t[Py]||t["@@iterator"],typeof t=="function"?t:null)}var Dw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vw=Object.assign,jw={};function Gs(t,e,n){this.props=t,this.context=e,this.refs=jw,this.updater=n||Dw}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mw(){}Mw.prototype=Gs.prototype;function wm(t,e,n){this.props=t,this.context=e,this.refs=jw,this.updater=n||Dw}var _m=wm.prototype=new Mw;_m.constructor=wm;Vw(_m,Gs.prototype);_m.isPureReactComponent=!0;var Ny=Array.isArray,Ow=Object.prototype.hasOwnProperty,Tm={current:null},Lw={key:!0,ref:!0,__self:!0,__source:!0};function Fw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ow.call(e,r)&&!Lw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ga,type:t,key:s,ref:o,props:i,_owner:Tm.current}}function Pb(t,e){return{$$typeof:Ga,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Em(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ga}function Nb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ry=/\/+/g;function Fd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nb(""+t.key):e.toString(36)}function ac(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ga:case xb:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Fd(o,0):r,Ny(i)?(n="",t!=null&&(n=t.replace(Ry,"$&/")+"/"),ac(i,e,n,"",function(u){return u})):i!=null&&(Em(i)&&(i=Pb(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Ry,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Ny(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+Fd(s,a);o+=ac(s,e,n,c,i)}else if(c=kb(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+Fd(s,a++),o+=ac(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function kl(t,e,n){if(t==null)return t;var r=[],i=0;return ac(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Rb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var At={current:null},lc={transition:null},Db={ReactCurrentDispatcher:At,ReactCurrentBatchConfig:lc,ReactCurrentOwner:Tm};function Uw(){throw Error("act(...) is not supported in production builds of React.")}ie.Children={map:kl,forEach:function(t,e,n){kl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kl(t,function(){e++}),e},toArray:function(t){return kl(t,function(e){return e})||[]},only:function(t){if(!Em(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ie.Component=Gs;ie.Fragment=wb;ie.Profiler=Tb;ie.PureComponent=wm;ie.StrictMode=_b;ie.Suspense=bb;ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Db;ie.act=Uw;ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Vw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Ow.call(e,c)&&!Lw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Ga,type:t.type,key:i,ref:s,props:r,_owner:o}};ie.createContext=function(t){return t={$$typeof:Sb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Eb,_context:t},t.Consumer=t};ie.createElement=Fw;ie.createFactory=function(t){var e=Fw.bind(null,t);return e.type=t,e};ie.createRef=function(){return{current:null}};ie.forwardRef=function(t){return{$$typeof:Ib,render:t}};ie.isValidElement=Em;ie.lazy=function(t){return{$$typeof:Cb,_payload:{_status:-1,_result:t},_init:Rb}};ie.memo=function(t,e){return{$$typeof:Ab,type:t,compare:e===void 0?null:e}};ie.startTransition=function(t){var e=lc.transition;lc.transition={};try{t()}finally{lc.transition=e}};ie.unstable_act=Uw;ie.useCallback=function(t,e){return At.current.useCallback(t,e)};ie.useContext=function(t){return At.current.useContext(t)};ie.useDebugValue=function(){};ie.useDeferredValue=function(t){return At.current.useDeferredValue(t)};ie.useEffect=function(t,e){return At.current.useEffect(t,e)};ie.useId=function(){return At.current.useId()};ie.useImperativeHandle=function(t,e,n){return At.current.useImperativeHandle(t,e,n)};ie.useInsertionEffect=function(t,e){return At.current.useInsertionEffect(t,e)};ie.useLayoutEffect=function(t,e){return At.current.useLayoutEffect(t,e)};ie.useMemo=function(t,e){return At.current.useMemo(t,e)};ie.useReducer=function(t,e,n){return At.current.useReducer(t,e,n)};ie.useRef=function(t){return At.current.useRef(t)};ie.useState=function(t){return At.current.useState(t)};ie.useSyncExternalStore=function(t,e,n){return At.current.useSyncExternalStore(t,e,n)};ie.useTransition=function(){return At.current.useTransition()};ie.version="18.3.1";Rw.exports=ie;var O=Rw.exports;const Bw=vb(O);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vb=O,jb=Symbol.for("react.element"),Mb=Symbol.for("react.fragment"),Ob=Object.prototype.hasOwnProperty,Lb=Vb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fb={key:!0,ref:!0,__self:!0,__source:!0};function zw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Ob.call(e,r)&&!Fb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:jb,type:t,key:s,ref:o,props:i,_owner:Lb.current}}Mu.Fragment=Mb;Mu.jsx=zw;Mu.jsxs=zw;Nw.exports=Mu;var d=Nw.exports,Fh={},$w={exports:{}},Ht={},Hw={exports:{}},Ww={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,K){var X=z.length;z.push(K);e:for(;0<X;){var me=X-1>>>1,Se=z[me];if(0<i(Se,K))z[me]=K,z[X]=Se,X=me;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var K=z[0],X=z.pop();if(X!==K){z[0]=X;e:for(var me=0,Se=z.length,On=Se>>>1;me<On;){var kt=2*(me+1)-1,Ln=z[kt],Et=kt+1,yn=z[Et];if(0>i(Ln,X))Et<Se&&0>i(yn,Ln)?(z[me]=yn,z[Et]=X,me=Et):(z[me]=Ln,z[kt]=X,me=kt);else if(Et<Se&&0>i(yn,X))z[me]=yn,z[Et]=X,me=Et;else break e}}return K}function i(z,K){var X=z.sortIndex-K.sortIndex;return X!==0?X:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,m=null,p=3,x=!1,S=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(z){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=z)r(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(u)}}function N(z){if(b=!1,T(z),!S)if(n(c)!==null)S=!0,Be(V);else{var K=n(u);K!==null&&Te(N,K.startTime-z)}}function V(z,K){S=!1,b&&(b=!1,w(v),v=-1),x=!0;var X=p;try{for(T(K),m=n(c);m!==null&&(!(m.expirationTime>K)||z&&!k());){var me=m.callback;if(typeof me=="function"){m.callback=null,p=m.priorityLevel;var Se=me(m.expirationTime<=K);K=t.unstable_now(),typeof Se=="function"?m.callback=Se:m===n(c)&&r(c),T(K)}else r(c);m=n(c)}if(m!==null)var On=!0;else{var kt=n(u);kt!==null&&Te(N,kt.startTime-K),On=!1}return On}finally{m=null,p=X,x=!1}}var D=!1,E=null,v=-1,I=5,A=-1;function k(){return!(t.unstable_now()-A<I)}function R(){if(E!==null){var z=t.unstable_now();A=z;var K=!0;try{K=E(!0,z)}finally{K?C():(D=!1,E=null)}}else D=!1}var C;if(typeof y=="function")C=function(){y(R)};else if(typeof MessageChannel<"u"){var Re=new MessageChannel,Tt=Re.port2;Re.port1.onmessage=R,C=function(){Tt.postMessage(null)}}else C=function(){P(R,0)};function Be(z){E=z,D||(D=!0,C())}function Te(z,K){v=P(function(){z(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){S||x||(S=!0,Be(V))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(z){switch(p){case 1:case 2:case 3:var K=3;break;default:K=p}var X=p;p=K;try{return z()}finally{p=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var X=p;p=z;try{return K()}finally{p=X}},t.unstable_scheduleCallback=function(z,K,X){var me=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?me+X:me):X=me,z){case 1:var Se=-1;break;case 2:Se=250;break;case 5:Se=1073741823;break;case 4:Se=1e4;break;default:Se=5e3}return Se=X+Se,z={id:h++,callback:K,priorityLevel:z,startTime:X,expirationTime:Se,sortIndex:-1},X>me?(z.sortIndex=X,e(u,z),n(c)===null&&z===n(u)&&(b?(w(v),v=-1):b=!0,Te(N,X-me))):(z.sortIndex=Se,e(c,z),S||x||(S=!0,Be(V))),z},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(z){var K=p;return function(){var X=p;p=K;try{return z.apply(this,arguments)}finally{p=X}}}})(Ww);Hw.exports=Ww;var Ub=Hw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb=O,zt=Ub;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qw=new Set,pa={};function Li(t,e){Cs(t,e),Cs(t+"Capture",e)}function Cs(t,e){for(pa[t]=e,t=0;t<e.length;t++)qw.add(e[t])}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uh=Object.prototype.hasOwnProperty,zb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dy={},Vy={};function $b(t){return Uh.call(Vy,t)?!0:Uh.call(Dy,t)?!1:zb.test(t)?Vy[t]=!0:(Dy[t]=!0,!1)}function Hb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wb(t,e,n,r){if(e===null||typeof e>"u"||Hb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ct(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ut={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ut[t]=new Ct(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ut[e]=new Ct(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ut[t]=new Ct(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ut[t]=new Ct(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ut[t]=new Ct(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ut[t]=new Ct(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ut[t]=new Ct(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ut[t]=new Ct(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ut[t]=new Ct(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sm=/[\-:]([a-z])/g;function Im(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sm,Im);ut[e]=new Ct(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sm,Im);ut[e]=new Ct(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sm,Im);ut[e]=new Ct(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ut[t]=new Ct(t,1,!1,t.toLowerCase(),null,!1,!1)});ut.xlinkHref=new Ct("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ut[t]=new Ct(t,1,!1,t.toLowerCase(),null,!0,!0)});function bm(t,e,n,r){var i=ut.hasOwnProperty(e)?ut[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wb(e,n,i,r)&&(n=null),r||i===null?$b(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var or=Bb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Pl=Symbol.for("react.element"),es=Symbol.for("react.portal"),ts=Symbol.for("react.fragment"),Am=Symbol.for("react.strict_mode"),Bh=Symbol.for("react.profiler"),Gw=Symbol.for("react.provider"),Kw=Symbol.for("react.context"),Cm=Symbol.for("react.forward_ref"),zh=Symbol.for("react.suspense"),$h=Symbol.for("react.suspense_list"),km=Symbol.for("react.memo"),wr=Symbol.for("react.lazy"),Qw=Symbol.for("react.offscreen"),jy=Symbol.iterator;function So(t){return t===null||typeof t!="object"?null:(t=jy&&t[jy]||t["@@iterator"],typeof t=="function"?t:null)}var Pe=Object.assign,Ud;function Oo(t){if(Ud===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ud=e&&e[1]||""}return`
`+Ud+t}var Bd=!1;function zd(t,e){if(!t||Bd)return"";Bd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Bd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oo(t):""}function qb(t){switch(t.tag){case 5:return Oo(t.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return t=zd(t.type,!1),t;case 11:return t=zd(t.type.render,!1),t;case 1:return t=zd(t.type,!0),t;default:return""}}function Hh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ts:return"Fragment";case es:return"Portal";case Bh:return"Profiler";case Am:return"StrictMode";case zh:return"Suspense";case $h:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Kw:return(t.displayName||"Context")+".Consumer";case Gw:return(t._context.displayName||"Context")+".Provider";case Cm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case km:return e=t.displayName||null,e!==null?e:Hh(t.type)||"Memo";case wr:e=t._payload,t=t._init;try{return Hh(t(e))}catch{}}return null}function Gb(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hh(e);case 8:return e===Am?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function $r(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Kb(t){var e=Yw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nl(t){t._valueTracker||(t._valueTracker=Kb(t))}function Xw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Oc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wh(t,e){var n=e.checked;return Pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function My(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=$r(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jw(t,e){e=e.checked,e!=null&&bm(t,"checked",e,!1)}function qh(t,e){Jw(t,e);var n=$r(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gh(t,e.type,$r(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Oy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gh(t,e,n){(e!=="number"||Oc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Lo=Array.isArray;function ys(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+$r(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Kh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ly(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Lo(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:$r(n)}}function Zw(t,e){var n=$r(e.value),r=$r(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Fy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function e_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?e_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Rl,t_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Rl=Rl||document.createElement("div"),Rl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Rl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ga(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qb=["Webkit","ms","Moz","O"];Object.keys(Ko).forEach(function(t){Qb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ko[e]=Ko[t]})});function n_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ko.hasOwnProperty(t)&&Ko[t]?(""+e).trim():e+"px"}function r_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=n_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Yb=Pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yh(t,e){if(e){if(Yb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function Xh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jh=null;function Pm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Zh=null,vs=null,xs=null;function Uy(t){if(t=Ya(t)){if(typeof Zh!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Bu(e),Zh(t.stateNode,t.type,e))}}function i_(t){vs?xs?xs.push(t):xs=[t]:vs=t}function s_(){if(vs){var t=vs,e=xs;if(xs=vs=null,Uy(t),e)for(t=0;t<e.length;t++)Uy(e[t])}}function o_(t,e){return t(e)}function a_(){}var $d=!1;function l_(t,e,n){if($d)return t(e,n);$d=!0;try{return o_(t,e,n)}finally{$d=!1,(vs!==null||xs!==null)&&(a_(),s_())}}function ya(t,e){var n=t.stateNode;if(n===null)return null;var r=Bu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var ef=!1;if(Yn)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){ef=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{ef=!1}function Xb(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Qo=!1,Lc=null,Fc=!1,tf=null,Jb={onError:function(t){Qo=!0,Lc=t}};function Zb(t,e,n,r,i,s,o,a,c){Qo=!1,Lc=null,Xb.apply(Jb,arguments)}function eA(t,e,n,r,i,s,o,a,c){if(Zb.apply(this,arguments),Qo){if(Qo){var u=Lc;Qo=!1,Lc=null}else throw Error(U(198));Fc||(Fc=!0,tf=u)}}function Fi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function c_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function By(t){if(Fi(t)!==t)throw Error(U(188))}function tA(t){var e=t.alternate;if(!e){if(e=Fi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return By(i),t;if(s===r)return By(i),e;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function u_(t){return t=tA(t),t!==null?d_(t):null}function d_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=d_(t);if(e!==null)return e;t=t.sibling}return null}var h_=zt.unstable_scheduleCallback,zy=zt.unstable_cancelCallback,nA=zt.unstable_shouldYield,rA=zt.unstable_requestPaint,Fe=zt.unstable_now,iA=zt.unstable_getCurrentPriorityLevel,Nm=zt.unstable_ImmediatePriority,f_=zt.unstable_UserBlockingPriority,Uc=zt.unstable_NormalPriority,sA=zt.unstable_LowPriority,m_=zt.unstable_IdlePriority,Ou=null,bn=null;function oA(t){if(bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Ou,t,void 0,(t.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:cA,aA=Math.log,lA=Math.LN2;function cA(t){return t>>>=0,t===0?32:31-(aA(t)/lA|0)|0}var Dl=64,Vl=4194304;function Fo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Bc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Fo(a):(s&=o,s!==0&&(r=Fo(s)))}else o=n&~i,o!==0?r=Fo(o):s!==0&&(r=Fo(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-dn(e),i=1<<n,r|=t[n],e&=~i;return r}function uA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dA(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-dn(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=uA(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function nf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function p_(){var t=Dl;return Dl<<=1,!(Dl&4194240)&&(Dl=64),t}function Hd(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ka(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-dn(e),t[e]=n}function hA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-dn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Rm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-dn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var he=0;function g_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var y_,Dm,v_,x_,w_,rf=!1,jl=[],Pr=null,Nr=null,Rr=null,va=new Map,xa=new Map,Tr=[],fA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $y(t,e){switch(t){case"focusin":case"focusout":Pr=null;break;case"dragenter":case"dragleave":Nr=null;break;case"mouseover":case"mouseout":Rr=null;break;case"pointerover":case"pointerout":va.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xa.delete(e.pointerId)}}function bo(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ya(e),e!==null&&Dm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function mA(t,e,n,r,i){switch(e){case"focusin":return Pr=bo(Pr,t,e,n,r,i),!0;case"dragenter":return Nr=bo(Nr,t,e,n,r,i),!0;case"mouseover":return Rr=bo(Rr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return va.set(s,bo(va.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,xa.set(s,bo(xa.get(s)||null,t,e,n,r,i)),!0}return!1}function __(t){var e=pi(t.target);if(e!==null){var n=Fi(e);if(n!==null){if(e=n.tag,e===13){if(e=c_(n),e!==null){t.blockedOn=e,w_(t.priority,function(){v_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function cc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=sf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Jh=r,n.target.dispatchEvent(r),Jh=null}else return e=Ya(n),e!==null&&Dm(e),t.blockedOn=n,!1;e.shift()}return!0}function Hy(t,e,n){cc(t)&&n.delete(e)}function pA(){rf=!1,Pr!==null&&cc(Pr)&&(Pr=null),Nr!==null&&cc(Nr)&&(Nr=null),Rr!==null&&cc(Rr)&&(Rr=null),va.forEach(Hy),xa.forEach(Hy)}function Ao(t,e){t.blockedOn===e&&(t.blockedOn=null,rf||(rf=!0,zt.unstable_scheduleCallback(zt.unstable_NormalPriority,pA)))}function wa(t){function e(i){return Ao(i,t)}if(0<jl.length){Ao(jl[0],t);for(var n=1;n<jl.length;n++){var r=jl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pr!==null&&Ao(Pr,t),Nr!==null&&Ao(Nr,t),Rr!==null&&Ao(Rr,t),va.forEach(e),xa.forEach(e),n=0;n<Tr.length;n++)r=Tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tr.length&&(n=Tr[0],n.blockedOn===null);)__(n),n.blockedOn===null&&Tr.shift()}var ws=or.ReactCurrentBatchConfig,zc=!0;function gA(t,e,n,r){var i=he,s=ws.transition;ws.transition=null;try{he=1,Vm(t,e,n,r)}finally{he=i,ws.transition=s}}function yA(t,e,n,r){var i=he,s=ws.transition;ws.transition=null;try{he=4,Vm(t,e,n,r)}finally{he=i,ws.transition=s}}function Vm(t,e,n,r){if(zc){var i=sf(t,e,n,r);if(i===null)eh(t,e,r,$c,n),$y(t,r);else if(mA(i,t,e,n,r))r.stopPropagation();else if($y(t,r),e&4&&-1<fA.indexOf(t)){for(;i!==null;){var s=Ya(i);if(s!==null&&y_(s),s=sf(t,e,n,r),s===null&&eh(t,e,r,$c,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else eh(t,e,r,null,n)}}var $c=null;function sf(t,e,n,r){if($c=null,t=Pm(r),t=pi(t),t!==null)if(e=Fi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=c_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $c=t,null}function T_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iA()){case Nm:return 1;case f_:return 4;case Uc:case sA:return 16;case m_:return 536870912;default:return 16}default:return 16}}var Ar=null,jm=null,uc=null;function E_(){if(uc)return uc;var t,e=jm,n=e.length,r,i="value"in Ar?Ar.value:Ar.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return uc=i.slice(t,1<r?1-r:void 0)}function dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ml(){return!0}function Wy(){return!1}function Wt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ml:Wy,this.isPropagationStopped=Wy,this}return Pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ml)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ml)},persist:function(){},isPersistent:Ml}),e}var Ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mm=Wt(Ks),Qa=Pe({},Ks,{view:0,detail:0}),vA=Wt(Qa),Wd,qd,Co,Lu=Pe({},Qa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Om,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Co&&(Co&&t.type==="mousemove"?(Wd=t.screenX-Co.screenX,qd=t.screenY-Co.screenY):qd=Wd=0,Co=t),Wd)},movementY:function(t){return"movementY"in t?t.movementY:qd}}),qy=Wt(Lu),xA=Pe({},Lu,{dataTransfer:0}),wA=Wt(xA),_A=Pe({},Qa,{relatedTarget:0}),Gd=Wt(_A),TA=Pe({},Ks,{animationName:0,elapsedTime:0,pseudoElement:0}),EA=Wt(TA),SA=Pe({},Ks,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),IA=Wt(SA),bA=Pe({},Ks,{data:0}),Gy=Wt(bA),AA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function PA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=kA[t])?!!e[t]:!1}function Om(){return PA}var NA=Pe({},Qa,{key:function(t){if(t.key){var e=AA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Om,charCode:function(t){return t.type==="keypress"?dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RA=Wt(NA),DA=Pe({},Lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ky=Wt(DA),VA=Pe({},Qa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Om}),jA=Wt(VA),MA=Pe({},Ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),OA=Wt(MA),LA=Pe({},Lu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FA=Wt(LA),UA=[9,13,27,32],Lm=Yn&&"CompositionEvent"in window,Yo=null;Yn&&"documentMode"in document&&(Yo=document.documentMode);var BA=Yn&&"TextEvent"in window&&!Yo,S_=Yn&&(!Lm||Yo&&8<Yo&&11>=Yo),Qy=" ",Yy=!1;function I_(t,e){switch(t){case"keyup":return UA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function b_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ns=!1;function zA(t,e){switch(t){case"compositionend":return b_(e);case"keypress":return e.which!==32?null:(Yy=!0,Qy);case"textInput":return t=e.data,t===Qy&&Yy?null:t;default:return null}}function $A(t,e){if(ns)return t==="compositionend"||!Lm&&I_(t,e)?(t=E_(),uc=jm=Ar=null,ns=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return S_&&e.locale!=="ko"?null:e.data;default:return null}}var HA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!HA[t.type]:e==="textarea"}function A_(t,e,n,r){i_(r),e=Hc(e,"onChange"),0<e.length&&(n=new Mm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Xo=null,_a=null;function WA(t){L_(t,0)}function Fu(t){var e=ss(t);if(Xw(e))return t}function qA(t,e){if(t==="change")return e}var C_=!1;if(Yn){var Kd;if(Yn){var Qd="oninput"in document;if(!Qd){var Jy=document.createElement("div");Jy.setAttribute("oninput","return;"),Qd=typeof Jy.oninput=="function"}Kd=Qd}else Kd=!1;C_=Kd&&(!document.documentMode||9<document.documentMode)}function Zy(){Xo&&(Xo.detachEvent("onpropertychange",k_),_a=Xo=null)}function k_(t){if(t.propertyName==="value"&&Fu(_a)){var e=[];A_(e,_a,t,Pm(t)),l_(WA,e)}}function GA(t,e,n){t==="focusin"?(Zy(),Xo=e,_a=n,Xo.attachEvent("onpropertychange",k_)):t==="focusout"&&Zy()}function KA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fu(_a)}function QA(t,e){if(t==="click")return Fu(e)}function YA(t,e){if(t==="input"||t==="change")return Fu(e)}function XA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var pn=typeof Object.is=="function"?Object.is:XA;function Ta(t,e){if(pn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Uh.call(e,i)||!pn(t[i],e[i]))return!1}return!0}function ev(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tv(t,e){var n=ev(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ev(n)}}function P_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?P_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function N_(){for(var t=window,e=Oc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Oc(t.document)}return e}function Fm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JA(t){var e=N_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&P_(n.ownerDocument.documentElement,n)){if(r!==null&&Fm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=tv(n,s);var o=tv(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZA=Yn&&"documentMode"in document&&11>=document.documentMode,rs=null,of=null,Jo=null,af=!1;function nv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;af||rs==null||rs!==Oc(r)||(r=rs,"selectionStart"in r&&Fm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jo&&Ta(Jo,r)||(Jo=r,r=Hc(of,"onSelect"),0<r.length&&(e=new Mm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=rs)))}function Ol(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var is={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},Yd={},R_={};Yn&&(R_=document.createElement("div").style,"AnimationEvent"in window||(delete is.animationend.animation,delete is.animationiteration.animation,delete is.animationstart.animation),"TransitionEvent"in window||delete is.transitionend.transition);function Uu(t){if(Yd[t])return Yd[t];if(!is[t])return t;var e=is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in R_)return Yd[t]=e[n];return t}var D_=Uu("animationend"),V_=Uu("animationiteration"),j_=Uu("animationstart"),M_=Uu("transitionend"),O_=new Map,rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jr(t,e){O_.set(t,e),Li(e,[t])}for(var Xd=0;Xd<rv.length;Xd++){var Jd=rv[Xd],eC=Jd.toLowerCase(),tC=Jd[0].toUpperCase()+Jd.slice(1);Jr(eC,"on"+tC)}Jr(D_,"onAnimationEnd");Jr(V_,"onAnimationIteration");Jr(j_,"onAnimationStart");Jr("dblclick","onDoubleClick");Jr("focusin","onFocus");Jr("focusout","onBlur");Jr(M_,"onTransitionEnd");Cs("onMouseEnter",["mouseout","mouseover"]);Cs("onMouseLeave",["mouseout","mouseover"]);Cs("onPointerEnter",["pointerout","pointerover"]);Cs("onPointerLeave",["pointerout","pointerover"]);Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Li("onBeforeInput",["compositionend","keypress","textInput","paste"]);Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function iv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eA(r,e,void 0,t),t.currentTarget=null}function L_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;iv(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;iv(i,a,u),s=c}}}if(Fc)throw t=tf,Fc=!1,tf=null,t}function xe(t,e){var n=e[hf];n===void 0&&(n=e[hf]=new Set);var r=t+"__bubble";n.has(r)||(F_(e,t,2,!1),n.add(r))}function Zd(t,e,n){var r=0;e&&(r|=4),F_(n,t,r,e)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Ea(t){if(!t[Ll]){t[Ll]=!0,qw.forEach(function(n){n!=="selectionchange"&&(nC.has(n)||Zd(n,!1,t),Zd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ll]||(e[Ll]=!0,Zd("selectionchange",!1,e))}}function F_(t,e,n,r){switch(T_(e)){case 1:var i=gA;break;case 4:i=yA;break;default:i=Vm}n=i.bind(null,e,n,t),i=void 0,!ef||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function eh(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=pi(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}l_(function(){var u=s,h=Pm(n),m=[];e:{var p=O_.get(t);if(p!==void 0){var x=Mm,S=t;switch(t){case"keypress":if(dc(n)===0)break e;case"keydown":case"keyup":x=RA;break;case"focusin":S="focus",x=Gd;break;case"focusout":S="blur",x=Gd;break;case"beforeblur":case"afterblur":x=Gd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=qy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=wA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=jA;break;case D_:case V_:case j_:x=EA;break;case M_:x=OA;break;case"scroll":x=vA;break;case"wheel":x=FA;break;case"copy":case"cut":case"paste":x=IA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Ky}var b=(e&4)!==0,P=!b&&t==="scroll",w=b?p!==null?p+"Capture":null:p;b=[];for(var y=u,T;y!==null;){T=y;var N=T.stateNode;if(T.tag===5&&N!==null&&(T=N,w!==null&&(N=ya(y,w),N!=null&&b.push(Sa(y,N,T)))),P)break;y=y.return}0<b.length&&(p=new x(p,S,null,n,h),m.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",p&&n!==Jh&&(S=n.relatedTarget||n.fromElement)&&(pi(S)||S[Xn]))break e;if((x||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,x?(S=n.relatedTarget||n.toElement,x=u,S=S?pi(S):null,S!==null&&(P=Fi(S),S!==P||S.tag!==5&&S.tag!==6)&&(S=null)):(x=null,S=u),x!==S)){if(b=qy,N="onMouseLeave",w="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(b=Ky,N="onPointerLeave",w="onPointerEnter",y="pointer"),P=x==null?p:ss(x),T=S==null?p:ss(S),p=new b(N,y+"leave",x,n,h),p.target=P,p.relatedTarget=T,N=null,pi(h)===u&&(b=new b(w,y+"enter",S,n,h),b.target=T,b.relatedTarget=P,N=b),P=N,x&&S)t:{for(b=x,w=S,y=0,T=b;T;T=Ki(T))y++;for(T=0,N=w;N;N=Ki(N))T++;for(;0<y-T;)b=Ki(b),y--;for(;0<T-y;)w=Ki(w),T--;for(;y--;){if(b===w||w!==null&&b===w.alternate)break t;b=Ki(b),w=Ki(w)}b=null}else b=null;x!==null&&sv(m,p,x,b,!1),S!==null&&P!==null&&sv(m,P,S,b,!0)}}e:{if(p=u?ss(u):window,x=p.nodeName&&p.nodeName.toLowerCase(),x==="select"||x==="input"&&p.type==="file")var V=qA;else if(Xy(p))if(C_)V=YA;else{V=KA;var D=GA}else(x=p.nodeName)&&x.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(V=QA);if(V&&(V=V(t,u))){A_(m,V,n,h);break e}D&&D(t,p,u),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&Gh(p,"number",p.value)}switch(D=u?ss(u):window,t){case"focusin":(Xy(D)||D.contentEditable==="true")&&(rs=D,of=u,Jo=null);break;case"focusout":Jo=of=rs=null;break;case"mousedown":af=!0;break;case"contextmenu":case"mouseup":case"dragend":af=!1,nv(m,n,h);break;case"selectionchange":if(ZA)break;case"keydown":case"keyup":nv(m,n,h)}var E;if(Lm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else ns?I_(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(S_&&n.locale!=="ko"&&(ns||v!=="onCompositionStart"?v==="onCompositionEnd"&&ns&&(E=E_()):(Ar=h,jm="value"in Ar?Ar.value:Ar.textContent,ns=!0)),D=Hc(u,v),0<D.length&&(v=new Gy(v,t,null,n,h),m.push({event:v,listeners:D}),E?v.data=E:(E=b_(n),E!==null&&(v.data=E)))),(E=BA?zA(t,n):$A(t,n))&&(u=Hc(u,"onBeforeInput"),0<u.length&&(h=new Gy("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=E))}L_(m,e)})}function Sa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Hc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ya(t,n),s!=null&&r.unshift(Sa(t,s,i)),s=ya(t,e),s!=null&&r.push(Sa(t,s,i))),t=t.return}return r}function Ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sv(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=ya(n,s),c!=null&&o.unshift(Sa(n,c,a))):i||(c=ya(n,s),c!=null&&o.push(Sa(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var rC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function ov(t){return(typeof t=="string"?t:""+t).replace(rC,`
`).replace(iC,"")}function Fl(t,e,n){if(e=ov(e),ov(t)!==e&&n)throw Error(U(425))}function Wc(){}var lf=null,cf=null;function uf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var df=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(t){return av.resolve(null).then(t).catch(aC)}:df;function aC(t){setTimeout(function(){throw t})}function th(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),wa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);wa(e)}function Dr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Sn="__reactFiber$"+Qs,Ia="__reactProps$"+Qs,Xn="__reactContainer$"+Qs,hf="__reactEvents$"+Qs,lC="__reactListeners$"+Qs,cC="__reactHandles$"+Qs;function pi(t){var e=t[Sn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Xn]||n[Sn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=lv(t);t!==null;){if(n=t[Sn])return n;t=lv(t)}return e}t=n,n=t.parentNode}return null}function Ya(t){return t=t[Sn]||t[Xn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Bu(t){return t[Ia]||null}var ff=[],os=-1;function Zr(t){return{current:t}}function _e(t){0>os||(t.current=ff[os],ff[os]=null,os--)}function ge(t,e){os++,ff[os]=t.current,t.current=e}var Hr={},wt=Zr(Hr),Dt=Zr(!1),bi=Hr;function ks(t,e){var n=t.type.contextTypes;if(!n)return Hr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vt(t){return t=t.childContextTypes,t!=null}function qc(){_e(Dt),_e(wt)}function cv(t,e,n){if(wt.current!==Hr)throw Error(U(168));ge(wt,e),ge(Dt,n)}function U_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(U(108,Gb(t)||"Unknown",i));return Pe({},n,r)}function Gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hr,bi=wt.current,ge(wt,t),ge(Dt,Dt.current),!0}function uv(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=U_(t,e,bi),r.__reactInternalMemoizedMergedChildContext=t,_e(Dt),_e(wt),ge(wt,t)):_e(Dt),ge(Dt,n)}var Un=null,zu=!1,nh=!1;function B_(t){Un===null?Un=[t]:Un.push(t)}function uC(t){zu=!0,B_(t)}function ei(){if(!nh&&Un!==null){nh=!0;var t=0,e=he;try{var n=Un;for(he=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Un=null,zu=!1}catch(i){throw Un!==null&&(Un=Un.slice(t+1)),h_(Nm,ei),i}finally{he=e,nh=!1}}return null}var as=[],ls=0,Kc=null,Qc=0,Kt=[],Qt=0,Ai=null,zn=1,$n="";function ui(t,e){as[ls++]=Qc,as[ls++]=Kc,Kc=t,Qc=e}function z_(t,e,n){Kt[Qt++]=zn,Kt[Qt++]=$n,Kt[Qt++]=Ai,Ai=t;var r=zn;t=$n;var i=32-dn(r)-1;r&=~(1<<i),n+=1;var s=32-dn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,zn=1<<32-dn(e)+i|n<<i|r,$n=s+t}else zn=1<<s|n<<i|r,$n=t}function Um(t){t.return!==null&&(ui(t,1),z_(t,1,0))}function Bm(t){for(;t===Kc;)Kc=as[--ls],as[ls]=null,Qc=as[--ls],as[ls]=null;for(;t===Ai;)Ai=Kt[--Qt],Kt[Qt]=null,$n=Kt[--Qt],Kt[Qt]=null,zn=Kt[--Qt],Kt[Qt]=null}var Ft=null,Lt=null,Ee=!1,an=null;function $_(t,e){var n=Jt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ft=t,Lt=Dr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ft=t,Lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ai!==null?{id:zn,overflow:$n}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ft=t,Lt=null,!0):!1;default:return!1}}function mf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pf(t){if(Ee){var e=Lt;if(e){var n=e;if(!dv(t,e)){if(mf(t))throw Error(U(418));e=Dr(n.nextSibling);var r=Ft;e&&dv(t,e)?$_(r,n):(t.flags=t.flags&-4097|2,Ee=!1,Ft=t)}}else{if(mf(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ee=!1,Ft=t}}}function hv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ft=t}function Ul(t){if(t!==Ft)return!1;if(!Ee)return hv(t),Ee=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!uf(t.type,t.memoizedProps)),e&&(e=Lt)){if(mf(t))throw H_(),Error(U(418));for(;e;)$_(t,e),e=Dr(e.nextSibling)}if(hv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Lt=Dr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Lt=null}}else Lt=Ft?Dr(t.stateNode.nextSibling):null;return!0}function H_(){for(var t=Lt;t;)t=Dr(t.nextSibling)}function Ps(){Lt=Ft=null,Ee=!1}function zm(t){an===null?an=[t]:an.push(t)}var dC=or.ReactCurrentBatchConfig;function ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Bl(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fv(t){var e=t._init;return e(t._payload)}function W_(t){function e(w,y){if(t){var T=w.deletions;T===null?(w.deletions=[y],w.flags|=16):T.push(y)}}function n(w,y){if(!t)return null;for(;y!==null;)e(w,y),y=y.sibling;return null}function r(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function i(w,y){return w=Or(w,y),w.index=0,w.sibling=null,w}function s(w,y,T){return w.index=T,t?(T=w.alternate,T!==null?(T=T.index,T<y?(w.flags|=2,y):T):(w.flags|=2,y)):(w.flags|=1048576,y)}function o(w){return t&&w.alternate===null&&(w.flags|=2),w}function a(w,y,T,N){return y===null||y.tag!==6?(y=ch(T,w.mode,N),y.return=w,y):(y=i(y,T),y.return=w,y)}function c(w,y,T,N){var V=T.type;return V===ts?h(w,y,T.props.children,N,T.key):y!==null&&(y.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wr&&fv(V)===y.type)?(N=i(y,T.props),N.ref=ko(w,y,T),N.return=w,N):(N=vc(T.type,T.key,T.props,null,w.mode,N),N.ref=ko(w,y,T),N.return=w,N)}function u(w,y,T,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==T.containerInfo||y.stateNode.implementation!==T.implementation?(y=uh(T,w.mode,N),y.return=w,y):(y=i(y,T.children||[]),y.return=w,y)}function h(w,y,T,N,V){return y===null||y.tag!==7?(y=Ti(T,w.mode,N,V),y.return=w,y):(y=i(y,T),y.return=w,y)}function m(w,y,T){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ch(""+y,w.mode,T),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Pl:return T=vc(y.type,y.key,y.props,null,w.mode,T),T.ref=ko(w,null,y),T.return=w,T;case es:return y=uh(y,w.mode,T),y.return=w,y;case wr:var N=y._init;return m(w,N(y._payload),T)}if(Lo(y)||So(y))return y=Ti(y,w.mode,T,null),y.return=w,y;Bl(w,y)}return null}function p(w,y,T,N){var V=y!==null?y.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return V!==null?null:a(w,y,""+T,N);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Pl:return T.key===V?c(w,y,T,N):null;case es:return T.key===V?u(w,y,T,N):null;case wr:return V=T._init,p(w,y,V(T._payload),N)}if(Lo(T)||So(T))return V!==null?null:h(w,y,T,N,null);Bl(w,T)}return null}function x(w,y,T,N,V){if(typeof N=="string"&&N!==""||typeof N=="number")return w=w.get(T)||null,a(y,w,""+N,V);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Pl:return w=w.get(N.key===null?T:N.key)||null,c(y,w,N,V);case es:return w=w.get(N.key===null?T:N.key)||null,u(y,w,N,V);case wr:var D=N._init;return x(w,y,T,D(N._payload),V)}if(Lo(N)||So(N))return w=w.get(T)||null,h(y,w,N,V,null);Bl(y,N)}return null}function S(w,y,T,N){for(var V=null,D=null,E=y,v=y=0,I=null;E!==null&&v<T.length;v++){E.index>v?(I=E,E=null):I=E.sibling;var A=p(w,E,T[v],N);if(A===null){E===null&&(E=I);break}t&&E&&A.alternate===null&&e(w,E),y=s(A,y,v),D===null?V=A:D.sibling=A,D=A,E=I}if(v===T.length)return n(w,E),Ee&&ui(w,v),V;if(E===null){for(;v<T.length;v++)E=m(w,T[v],N),E!==null&&(y=s(E,y,v),D===null?V=E:D.sibling=E,D=E);return Ee&&ui(w,v),V}for(E=r(w,E);v<T.length;v++)I=x(E,w,v,T[v],N),I!==null&&(t&&I.alternate!==null&&E.delete(I.key===null?v:I.key),y=s(I,y,v),D===null?V=I:D.sibling=I,D=I);return t&&E.forEach(function(k){return e(w,k)}),Ee&&ui(w,v),V}function b(w,y,T,N){var V=So(T);if(typeof V!="function")throw Error(U(150));if(T=V.call(T),T==null)throw Error(U(151));for(var D=V=null,E=y,v=y=0,I=null,A=T.next();E!==null&&!A.done;v++,A=T.next()){E.index>v?(I=E,E=null):I=E.sibling;var k=p(w,E,A.value,N);if(k===null){E===null&&(E=I);break}t&&E&&k.alternate===null&&e(w,E),y=s(k,y,v),D===null?V=k:D.sibling=k,D=k,E=I}if(A.done)return n(w,E),Ee&&ui(w,v),V;if(E===null){for(;!A.done;v++,A=T.next())A=m(w,A.value,N),A!==null&&(y=s(A,y,v),D===null?V=A:D.sibling=A,D=A);return Ee&&ui(w,v),V}for(E=r(w,E);!A.done;v++,A=T.next())A=x(E,w,v,A.value,N),A!==null&&(t&&A.alternate!==null&&E.delete(A.key===null?v:A.key),y=s(A,y,v),D===null?V=A:D.sibling=A,D=A);return t&&E.forEach(function(R){return e(w,R)}),Ee&&ui(w,v),V}function P(w,y,T,N){if(typeof T=="object"&&T!==null&&T.type===ts&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case Pl:e:{for(var V=T.key,D=y;D!==null;){if(D.key===V){if(V=T.type,V===ts){if(D.tag===7){n(w,D.sibling),y=i(D,T.props.children),y.return=w,w=y;break e}}else if(D.elementType===V||typeof V=="object"&&V!==null&&V.$$typeof===wr&&fv(V)===D.type){n(w,D.sibling),y=i(D,T.props),y.ref=ko(w,D,T),y.return=w,w=y;break e}n(w,D);break}else e(w,D);D=D.sibling}T.type===ts?(y=Ti(T.props.children,w.mode,N,T.key),y.return=w,w=y):(N=vc(T.type,T.key,T.props,null,w.mode,N),N.ref=ko(w,y,T),N.return=w,w=N)}return o(w);case es:e:{for(D=T.key;y!==null;){if(y.key===D)if(y.tag===4&&y.stateNode.containerInfo===T.containerInfo&&y.stateNode.implementation===T.implementation){n(w,y.sibling),y=i(y,T.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else e(w,y);y=y.sibling}y=uh(T,w.mode,N),y.return=w,w=y}return o(w);case wr:return D=T._init,P(w,y,D(T._payload),N)}if(Lo(T))return S(w,y,T,N);if(So(T))return b(w,y,T,N);Bl(w,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,y!==null&&y.tag===6?(n(w,y.sibling),y=i(y,T),y.return=w,w=y):(n(w,y),y=ch(T,w.mode,N),y.return=w,w=y),o(w)):n(w,y)}return P}var Ns=W_(!0),q_=W_(!1),Yc=Zr(null),Xc=null,cs=null,$m=null;function Hm(){$m=cs=Xc=null}function Wm(t){var e=Yc.current;_e(Yc),t._currentValue=e}function gf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function _s(t,e){Xc=t,$m=cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rt=!0),t.firstContext=null)}function en(t){var e=t._currentValue;if($m!==t)if(t={context:t,memoizedValue:e,next:null},cs===null){if(Xc===null)throw Error(U(308));cs=t,Xc.dependencies={lanes:0,firstContext:t}}else cs=cs.next=t;return e}var gi=null;function qm(t){gi===null?gi=[t]:gi.push(t)}function G_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,qm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jn(t,r)}function Jn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _r=!1;function Gm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function K_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ce&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jn(t,n)}return i=r.interleaved,i===null?(e.next=e,qm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jn(t,n)}function hc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rm(t,n)}}function mv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Jc(t,e,n,r){var i=t.updateQueue;_r=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;o=0,h=u=c=null,a=s;do{var p=a.lane,x=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:x,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=t,b=a;switch(p=e,x=n,b.tag){case 1:if(S=b.payload,typeof S=="function"){m=S.call(x,m,p);break e}m=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,p=typeof S=="function"?S.call(x,m,p):S,p==null)break e;m=Pe({},m,p);break e;case 2:_r=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else x={eventTime:x,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=x,c=m):h=h.next=x,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(h===null&&(c=m),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ki|=o,t.lanes=o,t.memoizedState=m}}function pv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(U(191,i));i.call(r)}}}var Xa={},An=Zr(Xa),ba=Zr(Xa),Aa=Zr(Xa);function yi(t){if(t===Xa)throw Error(U(174));return t}function Km(t,e){switch(ge(Aa,e),ge(ba,t),ge(An,Xa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qh(e,t)}_e(An),ge(An,e)}function Rs(){_e(An),_e(ba),_e(Aa)}function Q_(t){yi(Aa.current);var e=yi(An.current),n=Qh(e,t.type);e!==n&&(ge(ba,t),ge(An,n))}function Qm(t){ba.current===t&&(_e(An),_e(ba))}var be=Zr(0);function Zc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rh=[];function Ym(){for(var t=0;t<rh.length;t++)rh[t]._workInProgressVersionPrimary=null;rh.length=0}var fc=or.ReactCurrentDispatcher,ih=or.ReactCurrentBatchConfig,Ci=0,ke=null,Ke=null,tt=null,eu=!1,Zo=!1,Ca=0,hC=0;function ht(){throw Error(U(321))}function Xm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!pn(t[n],e[n]))return!1;return!0}function Jm(t,e,n,r,i,s){if(Ci=s,ke=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,fc.current=t===null||t.memoizedState===null?gC:yC,t=n(r,i),Zo){s=0;do{if(Zo=!1,Ca=0,25<=s)throw Error(U(301));s+=1,tt=Ke=null,e.updateQueue=null,fc.current=vC,t=n(r,i)}while(Zo)}if(fc.current=tu,e=Ke!==null&&Ke.next!==null,Ci=0,tt=Ke=ke=null,eu=!1,e)throw Error(U(300));return t}function Zm(){var t=Ca!==0;return Ca=0,t}function Tn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?ke.memoizedState=tt=t:tt=tt.next=t,tt}function tn(){if(Ke===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ke.next;var e=tt===null?ke.memoizedState:tt.next;if(e!==null)tt=e,Ke=t;else{if(t===null)throw Error(U(310));Ke=t,t={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},tt===null?ke.memoizedState=tt=t:tt=tt.next=t}return tt}function ka(t,e){return typeof e=="function"?e(t):e}function sh(t){var e=tn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ke,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var h=u.lane;if((Ci&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=m,o=r):c=c.next=m,ke.lanes|=h,ki|=h}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,pn(r,e.memoizedState)||(Rt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ke.lanes|=s,ki|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function oh(t){var e=tn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);pn(s,e.memoizedState)||(Rt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Y_(){}function X_(t,e){var n=ke,r=tn(),i=e(),s=!pn(r.memoizedState,i);if(s&&(r.memoizedState=i,Rt=!0),r=r.queue,ep(e1.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,Pa(9,Z_.bind(null,n,r,i,e),void 0,null),rt===null)throw Error(U(349));Ci&30||J_(n,e,i)}return i}function J_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Z_(t,e,n,r){e.value=n,e.getSnapshot=r,t1(e)&&n1(t)}function e1(t,e,n){return n(function(){t1(e)&&n1(t)})}function t1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!pn(t,n)}catch{return!0}}function n1(t){var e=Jn(t,1);e!==null&&hn(e,t,1,-1)}function gv(t){var e=Tn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ka,lastRenderedState:t},e.queue=t,t=t.dispatch=pC.bind(null,ke,t),[e.memoizedState,t]}function Pa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ke.updateQueue,e===null?(e={lastEffect:null,stores:null},ke.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function r1(){return tn().memoizedState}function mc(t,e,n,r){var i=Tn();ke.flags|=t,i.memoizedState=Pa(1|e,n,void 0,r===void 0?null:r)}function $u(t,e,n,r){var i=tn();r=r===void 0?null:r;var s=void 0;if(Ke!==null){var o=Ke.memoizedState;if(s=o.destroy,r!==null&&Xm(r,o.deps)){i.memoizedState=Pa(e,n,s,r);return}}ke.flags|=t,i.memoizedState=Pa(1|e,n,s,r)}function yv(t,e){return mc(8390656,8,t,e)}function ep(t,e){return $u(2048,8,t,e)}function i1(t,e){return $u(4,2,t,e)}function s1(t,e){return $u(4,4,t,e)}function o1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function a1(t,e,n){return n=n!=null?n.concat([t]):null,$u(4,4,o1.bind(null,e,t),n)}function tp(){}function l1(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function c1(t,e){var n=tn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Xm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function u1(t,e,n){return Ci&21?(pn(n,e)||(n=p_(),ke.lanes|=n,ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rt=!0),t.memoizedState=n)}function fC(t,e){var n=he;he=n!==0&&4>n?n:4,t(!0);var r=ih.transition;ih.transition={};try{t(!1),e()}finally{he=n,ih.transition=r}}function d1(){return tn().memoizedState}function mC(t,e,n){var r=Mr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},h1(t))f1(e,n);else if(n=G_(t,e,n,r),n!==null){var i=bt();hn(n,t,r,i),m1(n,e,r)}}function pC(t,e,n){var r=Mr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(h1(t))f1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,pn(a,o)){var c=e.interleaved;c===null?(i.next=i,qm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=G_(t,e,i,r),n!==null&&(i=bt(),hn(n,t,r,i),m1(n,e,r))}}function h1(t){var e=t.alternate;return t===ke||e!==null&&e===ke}function f1(t,e){Zo=eu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function m1(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Rm(t,n)}}var tu={readContext:en,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},gC={readContext:en,useCallback:function(t,e){return Tn().memoizedState=[t,e===void 0?null:e],t},useContext:en,useEffect:yv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,mc(4194308,4,o1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return mc(4,2,t,e)},useMemo:function(t,e){var n=Tn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=mC.bind(null,ke,t),[r.memoizedState,t]},useRef:function(t){var e=Tn();return t={current:t},e.memoizedState=t},useState:gv,useDebugValue:tp,useDeferredValue:function(t){return Tn().memoizedState=t},useTransition:function(){var t=gv(!1),e=t[0];return t=fC.bind(null,t[1]),Tn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ke,i=Tn();if(Ee){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),rt===null)throw Error(U(349));Ci&30||J_(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,yv(e1.bind(null,r,s,t),[t]),r.flags|=2048,Pa(9,Z_.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Tn(),e=rt.identifierPrefix;if(Ee){var n=$n,r=zn;n=(r&~(1<<32-dn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ca++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},yC={readContext:en,useCallback:l1,useContext:en,useEffect:ep,useImperativeHandle:a1,useInsertionEffect:i1,useLayoutEffect:s1,useMemo:c1,useReducer:sh,useRef:r1,useState:function(){return sh(ka)},useDebugValue:tp,useDeferredValue:function(t){var e=tn();return u1(e,Ke.memoizedState,t)},useTransition:function(){var t=sh(ka)[0],e=tn().memoizedState;return[t,e]},useMutableSource:Y_,useSyncExternalStore:X_,useId:d1,unstable_isNewReconciler:!1},vC={readContext:en,useCallback:l1,useContext:en,useEffect:ep,useImperativeHandle:a1,useInsertionEffect:i1,useLayoutEffect:s1,useMemo:c1,useReducer:oh,useRef:r1,useState:function(){return oh(ka)},useDebugValue:tp,useDeferredValue:function(t){var e=tn();return Ke===null?e.memoizedState=t:u1(e,Ke.memoizedState,t)},useTransition:function(){var t=oh(ka)[0],e=tn().memoizedState;return[t,e]},useMutableSource:Y_,useSyncExternalStore:X_,useId:d1,unstable_isNewReconciler:!1};function sn(t,e){if(t&&t.defaultProps){e=Pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function yf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hu={isMounted:function(t){return(t=t._reactInternals)?Fi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bt(),i=Mr(t),s=qn(r,i);s.payload=e,n!=null&&(s.callback=n),e=Vr(t,s,i),e!==null&&(hn(e,t,i,r),hc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bt(),i=Mr(t),s=qn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Vr(t,s,i),e!==null&&(hn(e,t,i,r),hc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bt(),r=Mr(t),i=qn(n,r);i.tag=2,e!=null&&(i.callback=e),e=Vr(t,i,r),e!==null&&(hn(e,t,r,n),hc(e,t,r))}};function vv(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ta(n,r)||!Ta(i,s):!0}function p1(t,e,n){var r=!1,i=Hr,s=e.contextType;return typeof s=="object"&&s!==null?s=en(s):(i=Vt(e)?bi:wt.current,r=e.contextTypes,s=(r=r!=null)?ks(t,i):Hr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hu.enqueueReplaceState(e,e.state,null)}function vf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Gm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=en(s):(s=Vt(e)?bi:wt.current,i.context=ks(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(yf(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Hu.enqueueReplaceState(i,i.state,null),Jc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ds(t,e){try{var n="",r=e;do n+=qb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function ah(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function xf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xC=typeof WeakMap=="function"?WeakMap:Map;function g1(t,e,n){n=qn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ru||(ru=!0,kf=r),xf(t,e)},n}function y1(t,e,n){n=qn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){xf(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){xf(t,e),typeof r!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=DC.bind(null,t,e,n),e.then(t,t))}function _v(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Tv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=qn(-1,1),e.tag=2,Vr(n,e,1))),n.lanes|=1),t)}var wC=or.ReactCurrentOwner,Rt=!1;function It(t,e,n,r){e.child=t===null?q_(e,null,n,r):Ns(e,t.child,n,r)}function Ev(t,e,n,r,i){n=n.render;var s=e.ref;return _s(e,i),r=Jm(t,e,n,r,s,i),n=Zm(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zn(t,e,i)):(Ee&&n&&Um(e),e.flags|=1,It(t,e,r,i),e.child)}function Sv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!cp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,v1(t,e,s,r,i)):(t=vc(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ta,n(o,r)&&t.ref===e.ref)return Zn(t,e,i)}return e.flags|=1,t=Or(s,r),t.ref=e.ref,t.return=e,e.child=t}function v1(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Ta(s,r)&&t.ref===e.ref)if(Rt=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Rt=!0);else return e.lanes=t.lanes,Zn(t,e,i)}return wf(t,e,n,r,i)}function x1(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(ds,Ot),Ot|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ge(ds,Ot),Ot|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ge(ds,Ot),Ot|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ge(ds,Ot),Ot|=r;return It(t,e,i,n),e.child}function w1(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function wf(t,e,n,r,i){var s=Vt(n)?bi:wt.current;return s=ks(e,s),_s(e,i),n=Jm(t,e,n,r,s,i),r=Zm(),t!==null&&!Rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zn(t,e,i)):(Ee&&r&&Um(e),e.flags|=1,It(t,e,n,i),e.child)}function Iv(t,e,n,r,i){if(Vt(n)){var s=!0;Gc(e)}else s=!1;if(_s(e,i),e.stateNode===null)pc(t,e),p1(e,n,r),vf(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=en(u):(u=Vt(n)?bi:wt.current,u=ks(e,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&xv(e,o,r,u),_r=!1;var p=e.memoizedState;o.state=p,Jc(e,r,o,i),c=e.memoizedState,a!==r||p!==c||Dt.current||_r?(typeof h=="function"&&(yf(e,n,h,r),c=e.memoizedState),(a=_r||vv(e,n,a,r,p,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,K_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:sn(e.type,a),o.props=u,m=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=en(c):(c=Vt(n)?bi:wt.current,c=ks(e,c));var x=n.getDerivedStateFromProps;(h=typeof x=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==m||p!==c)&&xv(e,o,r,c),_r=!1,p=e.memoizedState,o.state=p,Jc(e,r,o,i);var S=e.memoizedState;a!==m||p!==S||Dt.current||_r?(typeof x=="function"&&(yf(e,n,x,r),S=e.memoizedState),(u=_r||vv(e,n,u,r,p,S,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,S,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,S,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),o.props=r,o.state=S,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return _f(t,e,n,r,s,i)}function _f(t,e,n,r,i,s){w1(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&uv(e,n,!1),Zn(t,e,s);r=e.stateNode,wC.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ns(e,t.child,null,s),e.child=Ns(e,null,a,s)):It(t,e,a,s),e.memoizedState=r.state,i&&uv(e,n,!0),e.child}function _1(t){var e=t.stateNode;e.pendingContext?cv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cv(t,e.context,!1),Km(t,e.containerInfo)}function bv(t,e,n,r,i){return Ps(),zm(i),e.flags|=256,It(t,e,n,r),e.child}var Tf={dehydrated:null,treeContext:null,retryLane:0};function Ef(t){return{baseLanes:t,cachePool:null,transitions:null}}function T1(t,e,n){var r=e.pendingProps,i=be.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ge(be,i&1),t===null)return pf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Gu(o,r,0,null),t=Ti(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Ef(n),e.memoizedState=Tf,t):np(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return _C(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Or(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Or(a,s):(s=Ti(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Ef(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Tf,r}return s=t.child,t=s.sibling,r=Or(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function np(t,e){return e=Gu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function zl(t,e,n,r){return r!==null&&zm(r),Ns(e,t.child,null,n),t=np(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _C(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=ah(Error(U(422))),zl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Gu({mode:"visible",children:r.children},i,0,null),s=Ti(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ns(e,t.child,null,o),e.child.memoizedState=Ef(o),e.memoizedState=Tf,s);if(!(e.mode&1))return zl(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(U(419)),r=ah(s,r,void 0),zl(t,e,o,r)}if(a=(o&t.childLanes)!==0,Rt||a){if(r=rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Jn(t,i),hn(r,t,i,-1))}return lp(),r=ah(Error(U(421))),zl(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Lt=Dr(i.nextSibling),Ft=e,Ee=!0,an=null,t!==null&&(Kt[Qt++]=zn,Kt[Qt++]=$n,Kt[Qt++]=Ai,zn=t.id,$n=t.overflow,Ai=e),e=np(e,r.children),e.flags|=4096,e)}function Av(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),gf(t.return,e,n)}function lh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function E1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(It(t,e,r.children,n),r=be.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Av(t,n,e);else if(t.tag===19)Av(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ge(be,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lh(e,!0,n,null,s);break;case"together":lh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Or(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Or(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function TC(t,e,n){switch(e.tag){case 3:_1(e),Ps();break;case 5:Q_(e);break;case 1:Vt(e.type)&&Gc(e);break;case 4:Km(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ge(Yc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ge(be,be.current&1),e.flags|=128,null):n&e.child.childLanes?T1(t,e,n):(ge(be,be.current&1),t=Zn(t,e,n),t!==null?t.sibling:null);ge(be,be.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return E1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ge(be,be.current),r)break;return null;case 22:case 23:return e.lanes=0,x1(t,e,n)}return Zn(t,e,n)}var S1,Sf,I1,b1;S1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Sf=function(){};I1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,yi(An.current);var s=null;switch(n){case"input":i=Wh(t,i),r=Wh(t,r),s=[];break;case"select":i=Pe({},i,{value:void 0}),r=Pe({},r,{value:void 0}),s=[];break;case"textarea":i=Kh(t,i),r=Kh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wc)}Yh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(pa.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(pa.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&xe("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};b1=function(t,e,n,r){n!==r&&(e.flags|=4)};function Po(t,e){if(!Ee)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EC(t,e,n){var r=e.pendingProps;switch(Bm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return Vt(e.type)&&qc(),ft(e),null;case 3:return r=e.stateNode,Rs(),_e(Dt),_e(wt),Ym(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ul(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,an!==null&&(Rf(an),an=null))),Sf(t,e),ft(e),null;case 5:Qm(e);var i=yi(Aa.current);if(n=e.type,t!==null&&e.stateNode!=null)I1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return ft(e),null}if(t=yi(An.current),Ul(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Sn]=e,r[Ia]=s,t=(e.mode&1)!==0,n){case"dialog":xe("cancel",r),xe("close",r);break;case"iframe":case"object":case"embed":xe("load",r);break;case"video":case"audio":for(i=0;i<Uo.length;i++)xe(Uo[i],r);break;case"source":xe("error",r);break;case"img":case"image":case"link":xe("error",r),xe("load",r);break;case"details":xe("toggle",r);break;case"input":My(r,s),xe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},xe("invalid",r);break;case"textarea":Ly(r,s),xe("invalid",r)}Yh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fl(r.textContent,a,t),i=["children",""+a]):pa.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&xe("scroll",r)}switch(n){case"input":Nl(r),Oy(r,s,!0);break;case"textarea":Nl(r),Fy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=e_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sn]=e,t[Ia]=r,S1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xh(n,r),n){case"dialog":xe("cancel",t),xe("close",t),i=r;break;case"iframe":case"object":case"embed":xe("load",t),i=r;break;case"video":case"audio":for(i=0;i<Uo.length;i++)xe(Uo[i],t);i=r;break;case"source":xe("error",t),i=r;break;case"img":case"image":case"link":xe("error",t),xe("load",t),i=r;break;case"details":xe("toggle",t),i=r;break;case"input":My(t,r),i=Wh(t,r),xe("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Pe({},r,{value:void 0}),xe("invalid",t);break;case"textarea":Ly(t,r),i=Kh(t,r),xe("invalid",t);break;default:i=r}Yh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?r_(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&t_(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ga(t,c):typeof c=="number"&&ga(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(pa.hasOwnProperty(s)?c!=null&&s==="onScroll"&&xe("scroll",t):c!=null&&bm(t,s,c,o))}switch(n){case"input":Nl(t),Oy(t,r,!1);break;case"textarea":Nl(t),Fy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+$r(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ys(t,!!r.multiple,s,!1):r.defaultValue!=null&&ys(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)b1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=yi(Aa.current),yi(An.current),Ul(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sn]=e,(s=r.nodeValue!==n)&&(t=Ft,t!==null))switch(t.tag){case 3:Fl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sn]=e,e.stateNode=r}return ft(e),null;case 13:if(_e(be),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ee&&Lt!==null&&e.mode&1&&!(e.flags&128))H_(),Ps(),e.flags|=98560,s=!1;else if(s=Ul(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Sn]=e}else Ps(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),s=!1}else an!==null&&(Rf(an),an=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||be.current&1?Ye===0&&(Ye=3):lp())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return Rs(),Sf(t,e),t===null&&Ea(e.stateNode.containerInfo),ft(e),null;case 10:return Wm(e.type._context),ft(e),null;case 17:return Vt(e.type)&&qc(),ft(e),null;case 19:if(_e(be),s=e.memoizedState,s===null)return ft(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Po(s,!1);else{if(Ye!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Zc(t),o!==null){for(e.flags|=128,Po(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ge(be,be.current&1|2),e.child}t=t.sibling}s.tail!==null&&Fe()>Vs&&(e.flags|=128,r=!0,Po(s,!1),e.lanes=4194304)}else{if(!r)if(t=Zc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Po(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ee)return ft(e),null}else 2*Fe()-s.renderingStartTime>Vs&&n!==1073741824&&(e.flags|=128,r=!0,Po(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Fe(),e.sibling=null,n=be.current,ge(be,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return ap(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ot&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function SC(t,e){switch(Bm(e),e.tag){case 1:return Vt(e.type)&&qc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Rs(),_e(Dt),_e(wt),Ym(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Qm(e),null;case 13:if(_e(be),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Ps()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _e(be),null;case 4:return Rs(),null;case 10:return Wm(e.type._context),null;case 22:case 23:return ap(),null;case 24:return null;default:return null}}var $l=!1,yt=!1,IC=typeof WeakSet=="function"?WeakSet:Set,q=null;function us(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(t,e,r)}else n.current=null}function If(t,e,n){try{n()}catch(r){je(t,e,r)}}var Cv=!1;function bC(t,e){if(lf=zc,t=N_(),Fm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,m=t,p=null;t:for(;;){for(var x;m!==n||i!==0&&m.nodeType!==3||(a=o+i),m!==s||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(x=m.firstChild)!==null;)p=m,m=x;for(;;){if(m===t)break t;if(p===n&&++u===i&&(a=o),p===s&&++h===r&&(c=o),(x=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=x}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(cf={focusedElem:t,selectionRange:n},zc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,P=S.memoizedState,w=e.stateNode,y=w.getSnapshotBeforeUpdate(e.elementType===e.type?b:sn(e.type,b),P);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(N){je(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return S=Cv,Cv=!1,S}function ea(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&If(e,n,s)}i=i.next}while(i!==r)}}function Wu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function bf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function A1(t){var e=t.alternate;e!==null&&(t.alternate=null,A1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sn],delete e[Ia],delete e[hf],delete e[lC],delete e[cC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function C1(t){return t.tag===5||t.tag===3||t.tag===4}function kv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||C1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Af(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wc));else if(r!==4&&(t=t.child,t!==null))for(Af(t,e,n),t=t.sibling;t!==null;)Af(t,e,n),t=t.sibling}function Cf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Cf(t,e,n),t=t.sibling;t!==null;)Cf(t,e,n),t=t.sibling}var st=null,on=!1;function yr(t,e,n){for(n=n.child;n!==null;)k1(t,e,n),n=n.sibling}function k1(t,e,n){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Ou,n)}catch{}switch(n.tag){case 5:yt||us(n,e);case 6:var r=st,i=on;st=null,yr(t,e,n),st=r,on=i,st!==null&&(on?(t=st,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):st.removeChild(n.stateNode));break;case 18:st!==null&&(on?(t=st,n=n.stateNode,t.nodeType===8?th(t.parentNode,n):t.nodeType===1&&th(t,n),wa(t)):th(st,n.stateNode));break;case 4:r=st,i=on,st=n.stateNode.containerInfo,on=!0,yr(t,e,n),st=r,on=i;break;case 0:case 11:case 14:case 15:if(!yt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&If(n,e,o),i=i.next}while(i!==r)}yr(t,e,n);break;case 1:if(!yt&&(us(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,e,a)}yr(t,e,n);break;case 21:yr(t,e,n);break;case 22:n.mode&1?(yt=(r=yt)||n.memoizedState!==null,yr(t,e,n),yt=r):yr(t,e,n);break;default:yr(t,e,n)}}function Pv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new IC),e.forEach(function(r){var i=jC.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:st=a.stateNode,on=!1;break e;case 3:st=a.stateNode.containerInfo,on=!0;break e;case 4:st=a.stateNode.containerInfo,on=!0;break e}a=a.return}if(st===null)throw Error(U(160));k1(s,o,i),st=null,on=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){je(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)P1(e,t),e=e.sibling}function P1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(nn(e,t),_n(t),r&4){try{ea(3,t,t.return),Wu(3,t)}catch(b){je(t,t.return,b)}try{ea(5,t,t.return)}catch(b){je(t,t.return,b)}}break;case 1:nn(e,t),_n(t),r&512&&n!==null&&us(n,n.return);break;case 5:if(nn(e,t),_n(t),r&512&&n!==null&&us(n,n.return),t.flags&32){var i=t.stateNode;try{ga(i,"")}catch(b){je(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Jw(i,s),Xh(a,o);var u=Xh(a,s);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?r_(i,m):h==="dangerouslySetInnerHTML"?t_(i,m):h==="children"?ga(i,m):bm(i,h,m,u)}switch(a){case"input":qh(i,s);break;case"textarea":Zw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var x=s.value;x!=null?ys(i,!!s.multiple,x,!1):p!==!!s.multiple&&(s.defaultValue!=null?ys(i,!!s.multiple,s.defaultValue,!0):ys(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ia]=s}catch(b){je(t,t.return,b)}}break;case 6:if(nn(e,t),_n(t),r&4){if(t.stateNode===null)throw Error(U(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){je(t,t.return,b)}}break;case 3:if(nn(e,t),_n(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wa(e.containerInfo)}catch(b){je(t,t.return,b)}break;case 4:nn(e,t),_n(t);break;case 13:nn(e,t),_n(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(sp=Fe())),r&4&&Pv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(yt=(u=yt)||h,nn(e,t),yt=u):nn(e,t),_n(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(m=q=h;q!==null;){switch(p=q,x=p.child,p.tag){case 0:case 11:case 14:case 15:ea(4,p,p.return);break;case 1:us(p,p.return);var S=p.stateNode;if(typeof S.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(b){je(r,n,b)}}break;case 5:us(p,p.return);break;case 22:if(p.memoizedState!==null){Rv(m);continue}}x!==null?(x.return=p,q=x):Rv(m)}h=h.sibling}e:for(h=null,m=t;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=n_("display",o))}catch(b){je(t,t.return,b)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(b){je(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:nn(e,t),_n(t),r&4&&Pv(t);break;case 21:break;default:nn(e,t),_n(t)}}function _n(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(C1(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ga(i,""),r.flags&=-33);var s=kv(t);Cf(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=kv(t);Af(t,a,o);break;default:throw Error(U(161))}}catch(c){je(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function AC(t,e,n){q=t,N1(t)}function N1(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var i=q,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||$l;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||yt;a=$l;var u=yt;if($l=o,(yt=c)&&!u)for(q=i;q!==null;)o=q,c=o.child,o.tag===22&&o.memoizedState!==null?Dv(i):c!==null?(c.return=o,q=c):Dv(i);for(;s!==null;)q=s,N1(s),s=s.sibling;q=i,$l=a,yt=u}Nv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,q=s):Nv(t)}}function Nv(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yt||Wu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!yt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&pv(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&wa(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}yt||e.flags&512&&bf(e)}catch(p){je(e,e.return,p)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function Rv(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function Dv(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Wu(4,e)}catch(c){je(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){je(e,i,c)}}var s=e.return;try{bf(e)}catch(c){je(e,s,c)}break;case 5:var o=e.return;try{bf(e)}catch(c){je(e,o,c)}}}catch(c){je(e,e.return,c)}if(e===t){q=null;break}var a=e.sibling;if(a!==null){a.return=e.return,q=a;break}q=e.return}}var CC=Math.ceil,nu=or.ReactCurrentDispatcher,rp=or.ReactCurrentOwner,Zt=or.ReactCurrentBatchConfig,ce=0,rt=null,He=null,ct=0,Ot=0,ds=Zr(0),Ye=0,Na=null,ki=0,qu=0,ip=0,ta=null,Nt=null,sp=0,Vs=1/0,Fn=null,ru=!1,kf=null,jr=null,Hl=!1,Cr=null,iu=0,na=0,Pf=null,gc=-1,yc=0;function bt(){return ce&6?Fe():gc!==-1?gc:gc=Fe()}function Mr(t){return t.mode&1?ce&2&&ct!==0?ct&-ct:dC.transition!==null?(yc===0&&(yc=p_()),yc):(t=he,t!==0||(t=window.event,t=t===void 0?16:T_(t.type)),t):1}function hn(t,e,n,r){if(50<na)throw na=0,Pf=null,Error(U(185));Ka(t,n,r),(!(ce&2)||t!==rt)&&(t===rt&&(!(ce&2)&&(qu|=n),Ye===4&&Er(t,ct)),jt(t,r),n===1&&ce===0&&!(e.mode&1)&&(Vs=Fe()+500,zu&&ei()))}function jt(t,e){var n=t.callbackNode;dA(t,e);var r=Bc(t,t===rt?ct:0);if(r===0)n!==null&&zy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zy(n),e===1)t.tag===0?uC(Vv.bind(null,t)):B_(Vv.bind(null,t)),oC(function(){!(ce&6)&&ei()}),n=null;else{switch(g_(r)){case 1:n=Nm;break;case 4:n=f_;break;case 16:n=Uc;break;case 536870912:n=m_;break;default:n=Uc}n=F1(n,R1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function R1(t,e){if(gc=-1,yc=0,ce&6)throw Error(U(327));var n=t.callbackNode;if(Ts()&&t.callbackNode!==n)return null;var r=Bc(t,t===rt?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=su(t,r);else{e=r;var i=ce;ce|=2;var s=V1();(rt!==t||ct!==e)&&(Fn=null,Vs=Fe()+500,_i(t,e));do try{NC();break}catch(a){D1(t,a)}while(!0);Hm(),nu.current=s,ce=i,He!==null?e=0:(rt=null,ct=0,e=Ye)}if(e!==0){if(e===2&&(i=nf(t),i!==0&&(r=i,e=Nf(t,i))),e===1)throw n=Na,_i(t,0),Er(t,r),jt(t,Fe()),n;if(e===6)Er(t,r);else{if(i=t.current.alternate,!(r&30)&&!kC(i)&&(e=su(t,r),e===2&&(s=nf(t),s!==0&&(r=s,e=Nf(t,s))),e===1))throw n=Na,_i(t,0),Er(t,r),jt(t,Fe()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:di(t,Nt,Fn);break;case 3:if(Er(t,r),(r&130023424)===r&&(e=sp+500-Fe(),10<e)){if(Bc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=df(di.bind(null,t,Nt,Fn),e);break}di(t,Nt,Fn);break;case 4:if(Er(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-dn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Fe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*CC(r/1960))-r,10<r){t.timeoutHandle=df(di.bind(null,t,Nt,Fn),r);break}di(t,Nt,Fn);break;case 5:di(t,Nt,Fn);break;default:throw Error(U(329))}}}return jt(t,Fe()),t.callbackNode===n?R1.bind(null,t):null}function Nf(t,e){var n=ta;return t.current.memoizedState.isDehydrated&&(_i(t,e).flags|=256),t=su(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&Rf(e)),t}function Rf(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function kC(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!pn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Er(t,e){for(e&=~ip,e&=~qu,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-dn(e),r=1<<n;t[n]=-1,e&=~r}}function Vv(t){if(ce&6)throw Error(U(327));Ts();var e=Bc(t,0);if(!(e&1))return jt(t,Fe()),null;var n=su(t,e);if(t.tag!==0&&n===2){var r=nf(t);r!==0&&(e=r,n=Nf(t,r))}if(n===1)throw n=Na,_i(t,0),Er(t,e),jt(t,Fe()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,Nt,Fn),jt(t,Fe()),null}function op(t,e){var n=ce;ce|=1;try{return t(e)}finally{ce=n,ce===0&&(Vs=Fe()+500,zu&&ei())}}function Pi(t){Cr!==null&&Cr.tag===0&&!(ce&6)&&Ts();var e=ce;ce|=1;var n=Zt.transition,r=he;try{if(Zt.transition=null,he=1,t)return t()}finally{he=r,Zt.transition=n,ce=e,!(ce&6)&&ei()}}function ap(){Ot=ds.current,_e(ds)}function _i(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,sC(n)),He!==null)for(n=He.return;n!==null;){var r=n;switch(Bm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&qc();break;case 3:Rs(),_e(Dt),_e(wt),Ym();break;case 5:Qm(r);break;case 4:Rs();break;case 13:_e(be);break;case 19:_e(be);break;case 10:Wm(r.type._context);break;case 22:case 23:ap()}n=n.return}if(rt=t,He=t=Or(t.current,null),ct=Ot=e,Ye=0,Na=null,ip=qu=ki=0,Nt=ta=null,gi!==null){for(e=0;e<gi.length;e++)if(n=gi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}gi=null}return t}function D1(t,e){do{var n=He;try{if(Hm(),fc.current=tu,eu){for(var r=ke.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}eu=!1}if(Ci=0,tt=Ke=ke=null,Zo=!1,Ca=0,rp.current=null,n===null||n.return===null){Ye=1,Na=e,He=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=ct,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=_v(o);if(x!==null){x.flags&=-257,Tv(x,o,a,s,e),x.mode&1&&wv(s,u,e),e=x,c=u;var S=e.updateQueue;if(S===null){var b=new Set;b.add(c),e.updateQueue=b}else S.add(c);break e}else{if(!(e&1)){wv(s,u,e),lp();break e}c=Error(U(426))}}else if(Ee&&a.mode&1){var P=_v(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Tv(P,o,a,s,e),zm(Ds(c,a));break e}}s=c=Ds(c,a),Ye!==4&&(Ye=2),ta===null?ta=[s]:ta.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=g1(s,c,e);mv(s,w);break e;case 1:a=c;var y=s.type,T=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(jr===null||!jr.has(T)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=y1(s,a,e);mv(s,N);break e}}s=s.return}while(s!==null)}M1(n)}catch(V){e=V,He===n&&n!==null&&(He=n=n.return);continue}break}while(!0)}function V1(){var t=nu.current;return nu.current=tu,t===null?tu:t}function lp(){(Ye===0||Ye===3||Ye===2)&&(Ye=4),rt===null||!(ki&268435455)&&!(qu&268435455)||Er(rt,ct)}function su(t,e){var n=ce;ce|=2;var r=V1();(rt!==t||ct!==e)&&(Fn=null,_i(t,e));do try{PC();break}catch(i){D1(t,i)}while(!0);if(Hm(),ce=n,nu.current=r,He!==null)throw Error(U(261));return rt=null,ct=0,Ye}function PC(){for(;He!==null;)j1(He)}function NC(){for(;He!==null&&!nA();)j1(He)}function j1(t){var e=L1(t.alternate,t,Ot);t.memoizedProps=t.pendingProps,e===null?M1(t):He=e,rp.current=null}function M1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=SC(n,e),n!==null){n.flags&=32767,He=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ye=6,He=null;return}}else if(n=EC(n,e,Ot),n!==null){He=n;return}if(e=e.sibling,e!==null){He=e;return}He=e=t}while(e!==null);Ye===0&&(Ye=5)}function di(t,e,n){var r=he,i=Zt.transition;try{Zt.transition=null,he=1,RC(t,e,n,r)}finally{Zt.transition=i,he=r}return null}function RC(t,e,n,r){do Ts();while(Cr!==null);if(ce&6)throw Error(U(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(hA(t,s),t===rt&&(He=rt=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Hl||(Hl=!0,F1(Uc,function(){return Ts(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Zt.transition,Zt.transition=null;var o=he;he=1;var a=ce;ce|=4,rp.current=null,bC(t,n),P1(n,t),JA(cf),zc=!!lf,cf=lf=null,t.current=n,AC(n),rA(),ce=a,he=o,Zt.transition=s}else t.current=n;if(Hl&&(Hl=!1,Cr=t,iu=i),s=t.pendingLanes,s===0&&(jr=null),oA(n.stateNode),jt(t,Fe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ru)throw ru=!1,t=kf,kf=null,t;return iu&1&&t.tag!==0&&Ts(),s=t.pendingLanes,s&1?t===Pf?na++:(na=0,Pf=t):na=0,ei(),null}function Ts(){if(Cr!==null){var t=g_(iu),e=Zt.transition,n=he;try{if(Zt.transition=null,he=16>t?16:t,Cr===null)var r=!1;else{if(t=Cr,Cr=null,iu=0,ce&6)throw Error(U(331));var i=ce;for(ce|=4,q=t.current;q!==null;){var s=q,o=s.child;if(q.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(q=u;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:ea(8,h,s)}var m=h.child;if(m!==null)m.return=h,q=m;else for(;q!==null;){h=q;var p=h.sibling,x=h.return;if(A1(h),h===u){q=null;break}if(p!==null){p.return=x,q=p;break}q=x}}}var S=s.alternate;if(S!==null){var b=S.child;if(b!==null){S.child=null;do{var P=b.sibling;b.sibling=null,b=P}while(b!==null)}}q=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,q=o;else e:for(;q!==null;){if(s=q,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ea(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,q=w;break e}q=s.return}}var y=t.current;for(q=y;q!==null;){o=q;var T=o.child;if(o.subtreeFlags&2064&&T!==null)T.return=o,q=T;else e:for(o=y;q!==null;){if(a=q,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Wu(9,a)}}catch(V){je(a,a.return,V)}if(a===o){q=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,q=N;break e}q=a.return}}if(ce=i,ei(),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Ou,t)}catch{}r=!0}return r}finally{he=n,Zt.transition=e}}return!1}function jv(t,e,n){e=Ds(n,e),e=g1(t,e,1),t=Vr(t,e,1),e=bt(),t!==null&&(Ka(t,1,e),jt(t,e))}function je(t,e,n){if(t.tag===3)jv(t,t,n);else for(;e!==null;){if(e.tag===3){jv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(jr===null||!jr.has(r))){t=Ds(n,t),t=y1(e,t,1),e=Vr(e,t,1),t=bt(),e!==null&&(Ka(e,1,t),jt(e,t));break}}e=e.return}}function DC(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bt(),t.pingedLanes|=t.suspendedLanes&n,rt===t&&(ct&n)===n&&(Ye===4||Ye===3&&(ct&130023424)===ct&&500>Fe()-sp?_i(t,0):ip|=n),jt(t,e)}function O1(t,e){e===0&&(t.mode&1?(e=Vl,Vl<<=1,!(Vl&130023424)&&(Vl=4194304)):e=1);var n=bt();t=Jn(t,e),t!==null&&(Ka(t,e,n),jt(t,n))}function VC(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),O1(t,n)}function jC(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),O1(t,n)}var L1;L1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Dt.current)Rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Rt=!1,TC(t,e,n);Rt=!!(t.flags&131072)}else Rt=!1,Ee&&e.flags&1048576&&z_(e,Qc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pc(t,e),t=e.pendingProps;var i=ks(e,wt.current);_s(e,n),i=Jm(null,e,r,t,i,n);var s=Zm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vt(r)?(s=!0,Gc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gm(e),i.updater=Hu,e.stateNode=i,i._reactInternals=e,vf(e,r,t,n),e=_f(null,e,r,!0,s,n)):(e.tag=0,Ee&&s&&Um(e),It(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=OC(r),t=sn(r,t),i){case 0:e=wf(null,e,r,t,n);break e;case 1:e=Iv(null,e,r,t,n);break e;case 11:e=Ev(null,e,r,t,n);break e;case 14:e=Sv(null,e,r,sn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),wf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),Iv(t,e,r,i,n);case 3:e:{if(_1(e),t===null)throw Error(U(387));r=e.pendingProps,s=e.memoizedState,i=s.element,K_(t,e),Jc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ds(Error(U(423)),e),e=bv(t,e,r,n,i);break e}else if(r!==i){i=Ds(Error(U(424)),e),e=bv(t,e,r,n,i);break e}else for(Lt=Dr(e.stateNode.containerInfo.firstChild),Ft=e,Ee=!0,an=null,n=q_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ps(),r===i){e=Zn(t,e,n);break e}It(t,e,r,n)}e=e.child}return e;case 5:return Q_(e),t===null&&pf(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,uf(r,i)?o=null:s!==null&&uf(r,s)&&(e.flags|=32),w1(t,e),It(t,e,o,n),e.child;case 6:return t===null&&pf(e),null;case 13:return T1(t,e,n);case 4:return Km(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ns(e,null,r,n):It(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),Ev(t,e,r,i,n);case 7:return It(t,e,e.pendingProps,n),e.child;case 8:return It(t,e,e.pendingProps.children,n),e.child;case 12:return It(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,ge(Yc,r._currentValue),r._currentValue=o,s!==null)if(pn(s.value,o)){if(s.children===i.children&&!Dt.current){e=Zn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=qn(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),gf(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),gf(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}It(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,_s(e,n),i=en(i),r=r(i),e.flags|=1,It(t,e,r,n),e.child;case 14:return r=e.type,i=sn(r,e.pendingProps),i=sn(r.type,i),Sv(t,e,r,i,n);case 15:return v1(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sn(r,i),pc(t,e),e.tag=1,Vt(r)?(t=!0,Gc(e)):t=!1,_s(e,n),p1(e,r,i),vf(e,r,i,n),_f(null,e,r,!0,t,n);case 19:return E1(t,e,n);case 22:return x1(t,e,n)}throw Error(U(156,e.tag))};function F1(t,e){return h_(t,e)}function MC(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(t,e,n,r){return new MC(t,e,n,r)}function cp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function OC(t){if(typeof t=="function")return cp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cm)return 11;if(t===km)return 14}return 2}function Or(t,e){var n=t.alternate;return n===null?(n=Jt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function vc(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")cp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ts:return Ti(n.children,i,s,e);case Am:o=8,i|=8;break;case Bh:return t=Jt(12,n,e,i|2),t.elementType=Bh,t.lanes=s,t;case zh:return t=Jt(13,n,e,i),t.elementType=zh,t.lanes=s,t;case $h:return t=Jt(19,n,e,i),t.elementType=$h,t.lanes=s,t;case Qw:return Gu(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gw:o=10;break e;case Kw:o=9;break e;case Cm:o=11;break e;case km:o=14;break e;case wr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Jt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ti(t,e,n,r){return t=Jt(7,t,r,e),t.lanes=n,t}function Gu(t,e,n,r){return t=Jt(22,t,r,e),t.elementType=Qw,t.lanes=n,t.stateNode={isHidden:!1},t}function ch(t,e,n){return t=Jt(6,t,null,e),t.lanes=n,t}function uh(t,e,n){return e=Jt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LC(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hd(0),this.expirationTimes=Hd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function up(t,e,n,r,i,s,o,a,c){return t=new LC(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Jt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gm(s),t}function FC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:es,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function U1(t){if(!t)return Hr;t=t._reactInternals;e:{if(Fi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(Vt(n))return U_(t,n,e)}return e}function B1(t,e,n,r,i,s,o,a,c){return t=up(n,r,!0,t,i,s,o,a,c),t.context=U1(null),n=t.current,r=bt(),i=Mr(n),s=qn(r,i),s.callback=e??null,Vr(n,s,i),t.current.lanes=i,Ka(t,i,r),jt(t,r),t}function Ku(t,e,n,r){var i=e.current,s=bt(),o=Mr(i);return n=U1(n),e.context===null?e.context=n:e.pendingContext=n,e=qn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vr(i,e,o),t!==null&&(hn(t,i,o,s),hc(t,i,o)),o}function ou(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Mv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dp(t,e){Mv(t,e),(t=t.alternate)&&Mv(t,e)}function UC(){return null}var z1=typeof reportError=="function"?reportError:function(t){console.error(t)};function hp(t){this._internalRoot=t}Qu.prototype.render=hp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Ku(t,e,null,null)};Qu.prototype.unmount=hp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pi(function(){Ku(null,t,null,null)}),e[Xn]=null}};function Qu(t){this._internalRoot=t}Qu.prototype.unstable_scheduleHydration=function(t){if(t){var e=x_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tr.length&&e!==0&&e<Tr[n].priority;n++);Tr.splice(n,0,t),n===0&&__(t)}};function fp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ov(){}function BC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ou(o);s.call(u)}}var o=B1(e,r,t,0,null,!1,!1,"",Ov);return t._reactRootContainer=o,t[Xn]=o.current,Ea(t.nodeType===8?t.parentNode:t),Pi(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ou(c);a.call(u)}}var c=up(t,0,!1,null,null,!1,!1,"",Ov);return t._reactRootContainer=c,t[Xn]=c.current,Ea(t.nodeType===8?t.parentNode:t),Pi(function(){Ku(e,c,n,r)}),c}function Xu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=ou(o);a.call(c)}}Ku(e,o,t,i)}else o=BC(n,e,t,i,r);return ou(o)}y_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fo(e.pendingLanes);n!==0&&(Rm(e,n|1),jt(e,Fe()),!(ce&6)&&(Vs=Fe()+500,ei()))}break;case 13:Pi(function(){var r=Jn(t,1);if(r!==null){var i=bt();hn(r,t,1,i)}}),dp(t,1)}};Dm=function(t){if(t.tag===13){var e=Jn(t,134217728);if(e!==null){var n=bt();hn(e,t,134217728,n)}dp(t,134217728)}};v_=function(t){if(t.tag===13){var e=Mr(t),n=Jn(t,e);if(n!==null){var r=bt();hn(n,t,e,r)}dp(t,e)}};x_=function(){return he};w_=function(t,e){var n=he;try{return he=t,e()}finally{he=n}};Zh=function(t,e,n){switch(e){case"input":if(qh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bu(r);if(!i)throw Error(U(90));Xw(r),qh(r,i)}}}break;case"textarea":Zw(t,n);break;case"select":e=n.value,e!=null&&ys(t,!!n.multiple,e,!1)}};o_=op;a_=Pi;var zC={usingClientEntryPoint:!1,Events:[Ya,ss,Bu,i_,s_,op]},No={findFiberByHostInstance:pi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$C={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:or.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=u_(t),t===null?null:t.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||UC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wl.isDisabled&&Wl.supportsFiber)try{Ou=Wl.inject($C),bn=Wl}catch{}}Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zC;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fp(e))throw Error(U(200));return FC(t,e,null,n)};Ht.createRoot=function(t,e){if(!fp(t))throw Error(U(299));var n=!1,r="",i=z1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=up(t,1,!1,null,null,n,!1,r,i),t[Xn]=e.current,Ea(t.nodeType===8?t.parentNode:t),new hp(e)};Ht.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=u_(e),t=t===null?null:t.stateNode,t};Ht.flushSync=function(t){return Pi(t)};Ht.hydrate=function(t,e,n){if(!Yu(e))throw Error(U(200));return Xu(null,t,e,!0,n)};Ht.hydrateRoot=function(t,e,n){if(!fp(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=z1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=B1(e,null,t,1,n??null,i,!1,s,o),t[Xn]=e.current,Ea(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qu(e)};Ht.render=function(t,e,n){if(!Yu(e))throw Error(U(200));return Xu(null,t,e,!1,n)};Ht.unmountComponentAtNode=function(t){if(!Yu(t))throw Error(U(40));return t._reactRootContainer?(Pi(function(){Xu(null,null,t,!1,function(){t._reactRootContainer=null,t[Xn]=null})}),!0):!1};Ht.unstable_batchedUpdates=op;Ht.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Yu(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Xu(t,e,n,!1,r)};Ht.version="18.3.1-next-f1338f8080-20240426";function $1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($1)}catch(t){console.error(t)}}$1(),$w.exports=Ht;var HC=$w.exports,Lv=HC;Fh.createRoot=Lv.createRoot,Fh.hydrateRoot=Lv.hydrateRoot;const mp=O.createContext({});function Ja(t){const e=O.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ju=O.createContext(null),Zu=O.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class WC extends O.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function qC({children:t,isPresent:e}){const n=O.useId(),r=O.useRef(null),i=O.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=O.useContext(Zu);return O.useInsertionEffect(()=>{const{width:o,height:a,top:c,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),d.jsx(WC,{isPresent:e,childRef:r,sizeRef:i,children:O.cloneElement(t,{ref:r})})}const GC=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Ja(KC),c=O.useId(),u=O.useCallback(m=>{a.set(m,!0);for(const p of a.values())if(!p)return;r&&r()},[a,r]),h=O.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:u,register:m=>(a.set(m,!1),()=>a.delete(m))}),s?[Math.random(),u]:[n,u]);return O.useMemo(()=>{a.forEach((m,p)=>a.set(p,!1))},[n]),O.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(qC,{isPresent:n,children:t})),d.jsx(Ju.Provider,{value:h,children:t})};function KC(){return new Map}function H1(t=!0){const e=O.useContext(Ju);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=O.useId();O.useEffect(()=>{t&&i(s)},[t]);const o=O.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const ql=t=>t.key||"";function Fv(t){const e=[];return O.Children.forEach(t,n=>{O.isValidElement(n)&&e.push(n)}),e}const pp=typeof window<"u",gp=pp?O.useLayoutEffect:O.useEffect,In=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,c]=H1(o),u=O.useMemo(()=>Fv(t),[t]),h=o&&!a?[]:u.map(ql),m=O.useRef(!0),p=O.useRef(u),x=Ja(()=>new Map),[S,b]=O.useState(u),[P,w]=O.useState(u);gp(()=>{m.current=!1,p.current=u;for(let N=0;N<P.length;N++){const V=ql(P[N]);h.includes(V)?x.delete(V):x.get(V)!==!0&&x.set(V,!1)}},[P,h.length,h.join("-")]);const y=[];if(u!==S){let N=[...u];for(let V=0;V<P.length;V++){const D=P[V],E=ql(D);h.includes(E)||(N.splice(V,0,D),y.push(D))}s==="wait"&&y.length&&(N=y),w(Fv(N)),b(u);return}const{forceRender:T}=O.useContext(mp);return d.jsx(d.Fragment,{children:P.map(N=>{const V=ql(N),D=o&&!a?!1:u===P||h.includes(V),E=()=>{if(x.has(V))x.set(V,!0);else return;let v=!0;x.forEach(I=>{I||(v=!1)}),v&&(T==null||T(),w(p.current),o&&(c==null||c()),r&&r())};return d.jsx(GC,{isPresent:D,initial:!m.current||n?void 0:!1,custom:D?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:D?void 0:E,children:N},V)})})},Ut=t=>t;let W1=Ut;function yp(t){let e;return()=>(e===void 0&&(e=t()),e)}const js=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Gn=t=>t*1e3,Kn=t=>t/1e3,QC={useManualTiming:!1};function YC(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,h=!1,m=!1)=>{const x=m&&r?e:n;return h&&s.add(u),x.has(u)||x.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,c.process(u))}};return c}const Gl=["read","resolveKeyframes","update","preRender","render","postRender"],XC=40;function q1(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Gl.reduce((w,y)=>(w[y]=YC(s),w),{}),{read:a,resolveKeyframes:c,update:u,preRender:h,render:m,postRender:p}=o,x=()=>{const w=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,XC),1),i.timestamp=w,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),h.process(i),m.process(i),p.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},S=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:Gl.reduce((w,y)=>{const T=o[y];return w[y]=(N,V=!1,D=!1)=>(n||S(),T.schedule(N,V,D)),w},{}),cancel:w=>{for(let y=0;y<Gl.length;y++)o[Gl[y]].cancel(w)},state:i,steps:o}}const{schedule:ye,cancel:er,state:ot,steps:dh}=q1(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ut,!0),G1=O.createContext({strict:!1}),Uv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ms={};for(const t in Uv)Ms[t]={isEnabled:e=>Uv[t].some(n=>!!e[n])};function JC(t){for(const e in t)Ms[e]={...Ms[e],...t[e]}}const ZC=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function au(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ZC.has(t)}let K1=t=>!au(t);function ek(t){t&&(K1=e=>e.startsWith("on")?!au(e):t(e))}try{ek(require("@emotion/is-prop-valid").default)}catch{}function tk(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(K1(i)||n===!0&&au(i)||!e&&!au(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function nk(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const ed=O.createContext({});function Ra(t){return typeof t=="string"||Array.isArray(t)}function td(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const vp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],xp=["initial",...vp];function nd(t){return td(t.animate)||xp.some(e=>Ra(t[e]))}function Q1(t){return!!(nd(t)||t.variants)}function rk(t,e){if(nd(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ra(n)?n:void 0,animate:Ra(r)?r:void 0}}return t.inherit!==!1?e:{}}function ik(t){const{initial:e,animate:n}=rk(t,O.useContext(ed));return O.useMemo(()=>({initial:e,animate:n}),[Bv(e),Bv(n)])}function Bv(t){return Array.isArray(t)?t.join(" "):t}const sk=Symbol.for("motionComponentSymbol");function hs(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ok(t,e,n){return O.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):hs(n)&&(n.current=r))},[e])}const wp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ak="framerAppearId",Y1="data-"+wp(ak),{schedule:_p}=q1(queueMicrotask,!1),X1=O.createContext({});function lk(t,e,n,r,i){var s,o;const{visualElement:a}=O.useContext(ed),c=O.useContext(G1),u=O.useContext(Ju),h=O.useContext(Zu).reducedMotion,m=O.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const p=m.current,x=O.useContext(X1);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&ck(m.current,n,i,x);const S=O.useRef(!1);O.useInsertionEffect(()=>{p&&S.current&&p.update(n,u)});const b=n[Y1],P=O.useRef(!!b&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return gp(()=>{p&&(S.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),_p.render(p.render),P.current&&p.animationState&&p.animationState.animateChanges())}),O.useEffect(()=>{p&&(!P.current&&p.animationState&&p.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,b)}),P.current=!1))}),p}function ck(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:J1(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&hs(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function J1(t){if(t)return t.options.allowProjection!==!1?t.projection:J1(t.parent)}function uk({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&JC(t);function a(u,h){let m;const p={...O.useContext(Zu),...u,layoutId:dk(u)},{isStatic:x}=p,S=ik(u),b=r(u,x);if(!x&&pp){hk();const P=fk(p);m=P.MeasureLayout,S.visualElement=lk(i,b,p,e,P.ProjectionNode)}return d.jsxs(ed.Provider,{value:S,children:[m&&S.visualElement?d.jsx(m,{visualElement:S.visualElement,...p}):null,n(i,u,ok(b,S.visualElement,h),b,x,S.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=O.forwardRef(a);return c[sk]=i,c}function dk({layoutId:t}){const e=O.useContext(mp).id;return e&&t!==void 0?e+"-"+t:t}function hk(t,e){O.useContext(G1).strict}function fk(t){const{drag:e,layout:n}=Ms;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const mk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Tp(t){return typeof t!="string"||t.includes("-")?!1:!!(mk.indexOf(t)>-1||/[A-Z]/u.test(t))}function zv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function Ep(t,e,n,r){if(typeof e=="function"){const[i,s]=zv(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=zv(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const Df=t=>Array.isArray(t),pk=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),gk=t=>Df(t)?t[t.length-1]||0:t,xt=t=>!!(t&&t.getVelocity);function xc(t){const e=xt(t)?t.get():t;return pk(e)?e.toValue():e}function yk({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:vk(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const Z1=t=>(e,n)=>{const r=O.useContext(ed),i=O.useContext(Ju),s=()=>yk(t,e,r,i);return n?s():Ja(s)};function vk(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=xc(s[p]);let{initial:o,animate:a}=t;const c=nd(t),u=Q1(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const m=h?a:o;if(m&&typeof m!="boolean"&&!td(m)){const p=Array.isArray(m)?m:[m];for(let x=0;x<p.length;x++){const S=Ep(t,p[x]);if(S){const{transitionEnd:b,transition:P,...w}=S;for(const y in w){let T=w[y];if(Array.isArray(T)){const N=h?T.length-1:0;T=T[N]}T!==null&&(i[y]=T)}for(const y in b)i[y]=b[y]}}}return i}const Ys=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ui=new Set(Ys),eT=t=>e=>typeof e=="string"&&e.startsWith(t),tT=eT("--"),xk=eT("var(--"),Sp=t=>xk(t)?wk.test(t.split("/*")[0].trim()):!1,wk=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nT=(t,e)=>e&&typeof t=="number"?e.transform(t):t,tr=(t,e,n)=>n>e?e:n<t?t:n,Xs={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Da={...Xs,transform:t=>tr(0,1,t)},Kl={...Xs,default:1},Za=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),xr=Za("deg"),Cn=Za("%"),Y=Za("px"),_k=Za("vh"),Tk=Za("vw"),$v={...Cn,parse:t=>Cn.parse(t)/100,transform:t=>Cn.transform(t*100)},Ek={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y},Sk={rotate:xr,rotateX:xr,rotateY:xr,rotateZ:xr,scale:Kl,scaleX:Kl,scaleY:Kl,scaleZ:Kl,skew:xr,skewX:xr,skewY:xr,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:Da,originX:$v,originY:$v,originZ:Y},Hv={...Xs,transform:Math.round},Ip={...Ek,...Sk,zIndex:Hv,size:Y,fillOpacity:Da,strokeOpacity:Da,numOctaves:Hv},Ik={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},bk=Ys.length;function Ak(t,e,n){let r="",i=!0;for(let s=0;s<bk;s++){const o=Ys[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=nT(a,Ip[o]);if(!c){i=!1;const h=Ik[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function bp(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(Ui.has(c)){o=!0;continue}else if(tT(c)){i[c]=u;continue}else{const h=nT(u,Ip[c]);c.startsWith("origin")?(a=!0,s[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=Ak(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${c} ${u} ${h}`}}const Ck={offset:"stroke-dashoffset",array:"stroke-dasharray"},kk={offset:"strokeDashoffset",array:"strokeDasharray"};function Pk(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Ck:kk;t[s.offset]=Y.transform(-r);const o=Y.transform(e),a=Y.transform(n);t[s.array]=`${o} ${a}`}function Wv(t,e,n){return typeof t=="string"?t:Y.transform(e+n*t)}function Nk(t,e,n){const r=Wv(e,t.x,t.width),i=Wv(n,t.y,t.height);return`${r} ${i}`}function Ap(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},h,m){if(bp(t,u,m),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:x,dimensions:S}=t;p.transform&&(S&&(x.transform=p.transform),delete p.transform),S&&(i!==void 0||s!==void 0||x.transform)&&(x.transformOrigin=Nk(S,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),o!==void 0&&Pk(p,o,a,c,!1)}const Cp=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),rT=()=>({...Cp(),attrs:{}}),kp=t=>typeof t=="string"&&t.toLowerCase()==="svg";function iT(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const sT=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function oT(t,e,n,r){iT(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(sT.has(i)?i:wp(i),e.attrs[i])}const lu={};function Rk(t){Object.assign(lu,t)}function aT(t,{layout:e,layoutId:n}){return Ui.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!lu[t]||t==="opacity")}function Pp(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(xt(i[o])||e.style&&xt(e.style[o])||aT(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function lT(t,e,n){const r=Pp(t,e,n);for(const i in t)if(xt(t[i])||xt(e[i])){const s=Ys.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function Dk(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const qv=["x","y","width","height","cx","cy","r"],Vk={useVisualState:Z1({scrapeMotionValuesFromProps:lT,createRenderState:rT,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Ui.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<qv.length;a++){const c=qv[a];t[c]!==e[c]&&(o=!0)}o&&ye.read(()=>{Dk(n,r),ye.render(()=>{Ap(r,i,kp(n.tagName),t.transformTemplate),oT(n,r)})})}})},jk={useVisualState:Z1({scrapeMotionValuesFromProps:Pp,createRenderState:Cp})};function cT(t,e,n){for(const r in e)!xt(e[r])&&!aT(r,n)&&(t[r]=e[r])}function Mk({transformTemplate:t},e){return O.useMemo(()=>{const n=Cp();return bp(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Ok(t,e){const n=t.style||{},r={};return cT(r,n,t),Object.assign(r,Mk(t,e)),r}function Lk(t,e){const n={},r=Ok(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function Fk(t,e,n,r){const i=O.useMemo(()=>{const s=rT();return Ap(s,e,kp(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};cT(s,t.style,t),i.style={...s,...i.style}}return i}function Uk(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(Tp(n)?Fk:Lk)(r,s,o,n),u=tk(r,typeof n=="string",t),h=n!==O.Fragment?{...u,...c,ref:i}:{},{children:m}=r,p=O.useMemo(()=>xt(m)?m.get():m,[m]);return O.createElement(n,{...h,children:p})}}function Bk(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Tp(r)?Vk:jk,preloadedFeatures:t,useRender:Uk(i),createVisualElement:e,Component:r};return uk(o)}}function uT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function rd(t,e,n){const r=t.getProps();return Ep(r,e,n!==void 0?n:r.custom,t)}const zk=yp(()=>window.ScrollTimeline!==void 0);class $k{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(zk()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Hk extends $k{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function Np(t,e){return t?t[e]||t.default||t:void 0}const Vf=2e4;function dT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Vf;)e+=n,r=t.next(e);return e>=Vf?1/0:e}function Rp(t){return typeof t=="function"}function Gv(t,e){t.timeline=e,t.onfinish=null}const Dp=t=>Array.isArray(t)&&typeof t[0]=="number",Wk={linearEasing:void 0};function qk(t,e){const n=yp(t);return()=>{var r;return(r=Wk[e])!==null&&r!==void 0?r:n()}}const cu=qk(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),hT=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(js(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function fT(t){return!!(typeof t=="function"&&cu()||!t||typeof t=="string"&&(t in jf||cu())||Dp(t)||Array.isArray(t)&&t.every(fT))}const Bo=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,jf={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Bo([0,.65,.55,1]),circOut:Bo([.55,0,1,.45]),backIn:Bo([.31,.01,.66,-.59]),backOut:Bo([.33,1.53,.69,.99])};function mT(t,e){if(t)return typeof t=="function"&&cu()?hT(t,e):Dp(t)?Bo(t):Array.isArray(t)?t.map(n=>mT(n,e)||jf.easeOut):jf[t]}const rn={x:!1,y:!1};function pT(){return rn.x||rn.y}function Gk(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function gT(t,e){const n=Gk(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Kv(t){return e=>{e.pointerType==="touch"||pT()||t(e)}}function Kk(t,e,n={}){const[r,i,s]=gT(t,n),o=Kv(a=>{const{target:c}=a,u=e(a);if(typeof u!="function"||!c)return;const h=Kv(m=>{u(m),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const yT=(t,e)=>e?t===e?!0:yT(t,e.parentElement):!1,Vp=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Qk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Yk(t){return Qk.has(t.tagName)||t.tabIndex!==-1}const zo=new WeakSet;function Qv(t){return e=>{e.key==="Enter"&&t(e)}}function hh(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Xk=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Qv(()=>{if(zo.has(n))return;hh(n,"down");const i=Qv(()=>{hh(n,"up")}),s=()=>hh(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Yv(t){return Vp(t)&&!pT()}function Jk(t,e,n={}){const[r,i,s]=gT(t,n),o=a=>{const c=a.currentTarget;if(!Yv(a)||zo.has(c))return;zo.add(c);const u=e(a),h=(x,S)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),!(!Yv(x)||!zo.has(c))&&(zo.delete(c),typeof u=="function"&&u(x,{success:S}))},m=x=>{h(x,n.useGlobalTarget||yT(c,x.target))},p=x=>{h(x,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{!Yk(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>Xk(u,i),i)}),s}function Zk(t){return t==="x"||t==="y"?rn[t]?null:(rn[t]=!0,()=>{rn[t]=!1}):rn.x||rn.y?null:(rn.x=rn.y=!0,()=>{rn.x=rn.y=!1})}const vT=new Set(["width","height","top","left","right","bottom",...Ys]);let wc;function eP(){wc=void 0}const kn={now:()=>(wc===void 0&&kn.set(ot.isProcessing||QC.useManualTiming?ot.timestamp:performance.now()),wc),set:t=>{wc=t,queueMicrotask(eP)}};function jp(t,e){t.indexOf(e)===-1&&t.push(e)}function Mp(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Op{constructor(){this.subscriptions=[]}add(e){return jp(this.subscriptions,e),()=>Mp(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function xT(t,e){return e?t*(1e3/e):0}const Xv=30,tP=t=>!isNaN(parseFloat(t)),ra={current:void 0};class nP{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=kn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=kn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tP(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Op);const r=this.events[e].add(n);return e==="change"?()=>{r(),ye.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return ra.current&&ra.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const e=kn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Xv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Xv);return xT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Os(t,e){return new nP(t,e)}function rP(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Os(n))}function iP(t,e){const n=rd(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=gk(s[o]);rP(t,o,a)}}function sP(t){return!!(xt(t)&&t.add)}function Mf(t,e){const n=t.getValue("willChange");if(sP(n))return n.add(e)}function wT(t){return t.props[Y1]}const _T=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,oP=1e-7,aP=12;function lP(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=_T(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>oP&&++a<aP);return o}function el(t,e,n,r){if(t===e&&n===r)return Ut;const i=s=>lP(s,0,1,t,n);return s=>s===0||s===1?s:_T(i(s),e,r)}const TT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ET=t=>e=>1-t(1-e),ST=el(.33,1.53,.69,.99),Lp=ET(ST),IT=TT(Lp),bT=t=>(t*=2)<1?.5*Lp(t):.5*(2-Math.pow(2,-10*(t-1))),Fp=t=>1-Math.sin(Math.acos(t)),AT=ET(Fp),CT=TT(Fp),kT=t=>/^0[^.\s]+$/u.test(t);function cP(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||kT(t):!0}const ia=t=>Math.round(t*1e5)/1e5,Up=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function uP(t){return t==null}const dP=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Bp=(t,e)=>n=>!!(typeof n=="string"&&dP.test(n)&&n.startsWith(t)||e&&!uP(n)&&Object.prototype.hasOwnProperty.call(n,e)),PT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(Up);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},hP=t=>tr(0,255,t),fh={...Xs,transform:t=>Math.round(hP(t))},vi={test:Bp("rgb","red"),parse:PT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+fh.transform(t)+", "+fh.transform(e)+", "+fh.transform(n)+", "+ia(Da.transform(r))+")"};function fP(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Of={test:Bp("#"),parse:fP,transform:vi.transform},fs={test:Bp("hsl","hue"),parse:PT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Cn.transform(ia(e))+", "+Cn.transform(ia(n))+", "+ia(Da.transform(r))+")"},pt={test:t=>vi.test(t)||Of.test(t)||fs.test(t),parse:t=>vi.test(t)?vi.parse(t):fs.test(t)?fs.parse(t):Of.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?vi.transform(t):fs.transform(t)},mP=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function pP(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(Up))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(mP))===null||n===void 0?void 0:n.length)||0)>0}const NT="number",RT="color",gP="var",yP="var(",Jv="${}",vP=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Va(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(vP,c=>(pt.test(c)?(r.color.push(s),i.push(RT),n.push(pt.parse(c))):c.startsWith(yP)?(r.var.push(s),i.push(gP),n.push(c)):(r.number.push(s),i.push(NT),n.push(parseFloat(c))),++s,Jv)).split(Jv);return{values:n,split:a,indexes:r,types:i}}function DT(t){return Va(t).values}function VT(t){const{split:e,types:n}=Va(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===NT?s+=ia(i[o]):a===RT?s+=pt.transform(i[o]):s+=i[o]}return s}}const xP=t=>typeof t=="number"?0:t;function wP(t){const e=DT(t);return VT(t)(e.map(xP))}const Wr={test:pP,parse:DT,createTransformer:VT,getAnimatableNone:wP},_P=new Set(["brightness","contrast","saturate","opacity"]);function TP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Up)||[];if(!r)return t;const i=n.replace(r,"");let s=_P.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const EP=/\b([a-z-]*)\(.*?\)/gu,Lf={...Wr,getAnimatableNone:t=>{const e=t.match(EP);return e?e.map(TP).join(" "):t}},SP={...Ip,color:pt,backgroundColor:pt,outlineColor:pt,fill:pt,stroke:pt,borderColor:pt,borderTopColor:pt,borderRightColor:pt,borderBottomColor:pt,borderLeftColor:pt,filter:Lf,WebkitFilter:Lf},zp=t=>SP[t];function jT(t,e){let n=zp(t);return n!==Lf&&(n=Wr),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const IP=new Set(["auto","none","0"]);function bP(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!IP.has(s)&&Va(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=jT(n,i)}const Zv=t=>t===Xs||t===Y,e0=(t,e)=>parseFloat(t.split(", ")[e]),t0=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return e0(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?e0(s[1],t):0}},AP=new Set(["x","y","z"]),CP=Ys.filter(t=>!AP.has(t));function kP(t){const e=[];return CP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ls={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:t0(4,13),y:t0(5,14)};Ls.translateX=Ls.x;Ls.translateY=Ls.y;const Ei=new Set;let Ff=!1,Uf=!1;function MT(){if(Uf){const t=Array.from(Ei).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=kP(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Uf=!1,Ff=!1,Ei.forEach(t=>t.complete()),Ei.clear()}function OT(){Ei.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Uf=!0)})}function PP(){OT(),MT()}class $p{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ei.add(this),Ff||(Ff=!0,ye.read(OT),ye.resolveKeyframes(MT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ei.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ei.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const LT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),NP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function RP(t){const e=NP.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function FT(t,e,n=1){const[r,i]=RP(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return LT(o)?parseFloat(o):o}return Sp(i)?FT(i,e,n+1):i}const UT=t=>e=>e.test(t),DP={test:t=>t==="auto",parse:t=>t},BT=[Xs,Y,Cn,xr,Tk,_k,DP],n0=t=>BT.find(UT(t));class zT extends $p{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),Sp(u))){const h=FT(u,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!vT.has(r)||e.length!==2)return;const[i,s]=e,o=n0(i),a=n0(s);if(o!==a)if(Zv(o)&&Zv(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)cP(e[i])&&r.push(i);r.length&&bP(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ls[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=Ls[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const r0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Wr.test(t)||t==="0")&&!t.startsWith("url("));function VP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function jP(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=r0(i,e),a=r0(s,e);return!o||!a?!1:VP(t)||(n==="spring"||Rp(n))&&r}const MP=t=>t!==null;function id(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(MP),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const OP=40;class $T{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=kn.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>OP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&PP(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=kn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:c,isGenerator:u}=this.options;if(!u&&!jP(e,r,i,s))if(o)this.options.duration=0;else{c&&c(id(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Ce=(t,e,n)=>t+(e-t)*n;function mh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function LP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=mh(c,a,t+1/3),s=mh(c,a,t),o=mh(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function uu(t,e){return n=>n>0?e:t}const ph=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},FP=[Of,vi,fs],UP=t=>FP.find(e=>e.test(t));function i0(t){const e=UP(t);if(!e)return!1;let n=e.parse(t);return e===fs&&(n=LP(n)),n}const s0=(t,e)=>{const n=i0(t),r=i0(e);if(!n||!r)return uu(t,e);const i={...n};return s=>(i.red=ph(n.red,r.red,s),i.green=ph(n.green,r.green,s),i.blue=ph(n.blue,r.blue,s),i.alpha=Ce(n.alpha,r.alpha,s),vi.transform(i))},BP=(t,e)=>n=>e(t(n)),tl=(...t)=>t.reduce(BP),Bf=new Set(["none","hidden"]);function zP(t,e){return Bf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function $P(t,e){return n=>Ce(t,e,n)}function Hp(t){return typeof t=="number"?$P:typeof t=="string"?Sp(t)?uu:pt.test(t)?s0:qP:Array.isArray(t)?HT:typeof t=="object"?pt.test(t)?s0:HP:uu}function HT(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>Hp(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function HP(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=Hp(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function WP(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],c=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=c,i[o]++}return r}const qP=(t,e)=>{const n=Wr.createTransformer(e),r=Va(t),i=Va(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?Bf.has(t)&&!i.values.length||Bf.has(e)&&!r.values.length?zP(t,e):tl(HT(WP(r,i),i.values),n):uu(t,e)};function WT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Ce(t,e,n):Hp(t)(t,e)}const GP=5;function qT(t,e,n){const r=Math.max(e-GP,0);return xT(n-t(r),e-r)}const Ve={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gh=.001;function KP({duration:t=Ve.duration,bounce:e=Ve.bounce,velocity:n=Ve.velocity,mass:r=Ve.mass}){let i,s,o=1-e;o=tr(Ve.minDamping,Ve.maxDamping,o),t=tr(Ve.minDuration,Ve.maxDuration,Kn(t)),o<1?(i=u=>{const h=u*o,m=h*t,p=h-n,x=zf(u,o),S=Math.exp(-m);return gh-p/x*S},s=u=>{const m=u*o*t,p=m*n+n,x=Math.pow(o,2)*Math.pow(u,2)*t,S=Math.exp(-m),b=zf(Math.pow(u,2),o);return(-i(u)+gh>0?-1:1)*((p-x)*S)/b}):(i=u=>{const h=Math.exp(-u*t),m=(u-n)*t+1;return-gh+h*m},s=u=>{const h=Math.exp(-u*t),m=(n-u)*(t*t);return h*m});const a=5/t,c=YP(i,s,a);if(t=Gn(t),isNaN(c))return{stiffness:Ve.stiffness,damping:Ve.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const QP=12;function YP(t,e,n){let r=n;for(let i=1;i<QP;i++)r=r-t(r)/e(r);return r}function zf(t,e){return t*Math.sqrt(1-e*e)}const XP=["duration","bounce"],JP=["stiffness","damping","mass"];function o0(t,e){return e.some(n=>t[n]!==void 0)}function ZP(t){let e={velocity:Ve.velocity,stiffness:Ve.stiffness,damping:Ve.damping,mass:Ve.mass,isResolvedFromDuration:!1,...t};if(!o0(t,JP)&&o0(t,XP))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*tr(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ve.mass,stiffness:i,damping:s}}else{const n=KP(t);e={...e,...n,mass:Ve.mass},e.isResolvedFromDuration=!0}return e}function GT(t=Ve.visualDuration,e=Ve.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:u,mass:h,duration:m,velocity:p,isResolvedFromDuration:x}=ZP({...n,velocity:-Kn(n.velocity||0)}),S=p||0,b=u/(2*Math.sqrt(c*h)),P=o-s,w=Kn(Math.sqrt(c/h)),y=Math.abs(P)<5;r||(r=y?Ve.restSpeed.granular:Ve.restSpeed.default),i||(i=y?Ve.restDelta.granular:Ve.restDelta.default);let T;if(b<1){const V=zf(w,b);T=D=>{const E=Math.exp(-b*w*D);return o-E*((S+b*w*P)/V*Math.sin(V*D)+P*Math.cos(V*D))}}else if(b===1)T=V=>o-Math.exp(-w*V)*(P+(S+w*P)*V);else{const V=w*Math.sqrt(b*b-1);T=D=>{const E=Math.exp(-b*w*D),v=Math.min(V*D,300);return o-E*((S+b*w*P)*Math.sinh(v)+V*P*Math.cosh(v))/V}}const N={calculatedDuration:x&&m||null,next:V=>{const D=T(V);if(x)a.done=V>=m;else{let E=0;b<1&&(E=V===0?Gn(S):qT(T,V,D));const v=Math.abs(E)<=r,I=Math.abs(o-D)<=i;a.done=v&&I}return a.value=a.done?o:D,a},toString:()=>{const V=Math.min(dT(N),Vf),D=hT(E=>N.next(V*E).value,V,30);return V+"ms "+D}};return N}function a0({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:h}){const m=t[0],p={done:!1,value:m},x=v=>a!==void 0&&v<a||c!==void 0&&v>c,S=v=>a===void 0?c:c===void 0||Math.abs(a-v)<Math.abs(c-v)?a:c;let b=n*e;const P=m+b,w=o===void 0?P:o(P);w!==P&&(b=w-m);const y=v=>-b*Math.exp(-v/r),T=v=>w+y(v),N=v=>{const I=y(v),A=T(v);p.done=Math.abs(I)<=u,p.value=p.done?w:A};let V,D;const E=v=>{x(p.value)&&(V=v,D=GT({keyframes:[p.value,S(p.value)],velocity:qT(T,v,p.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return E(0),{calculatedDuration:null,next:v=>{let I=!1;return!D&&V===void 0&&(I=!0,N(v),E(v)),V!==void 0&&v>=V?D.next(v-V):(!I&&N(v),p)}}}const eN=el(.42,0,1,1),tN=el(0,0,.58,1),KT=el(.42,0,.58,1),nN=t=>Array.isArray(t)&&typeof t[0]!="number",rN={linear:Ut,easeIn:eN,easeInOut:KT,easeOut:tN,circIn:Fp,circInOut:CT,circOut:AT,backIn:Lp,backInOut:IT,backOut:ST,anticipate:bT},l0=t=>{if(Dp(t)){W1(t.length===4);const[e,n,r,i]=t;return el(e,n,r,i)}else if(typeof t=="string")return rN[t];return t};function iN(t,e,n){const r=[],i=n||WT,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ut:e;a=tl(c,a)}r.push(a)}return r}function QT(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(W1(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=iN(e,r,i),c=a.length,u=h=>{if(o&&h<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const p=js(t[m],t[m+1],h);return a[m](p)};return n?h=>u(tr(t[0],t[s-1],h)):u}function sN(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=js(0,e,r);t.push(Ce(n,1,i))}}function oN(t){const e=[0];return sN(e,t.length-1),e}function aN(t,e){return t.map(n=>n*e)}function lN(t,e){return t.map(()=>e||KT).splice(0,t.length-1)}function du({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=nN(r)?r.map(l0):l0(r),s={done:!1,value:e[0]},o=aN(n&&n.length===e.length?n:oN(e),t),a=QT(o,e,{ease:Array.isArray(i)?i:lN(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const cN=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ye.update(e,!0),stop:()=>er(e),now:()=>ot.isProcessing?ot.timestamp:kn.now()}},uN={decay:a0,inertia:a0,tween:du,keyframes:du,spring:GT},dN=t=>t/100;class Wp extends $T{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||$p,a=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=Rp(n)?n:uN[n]||du;let c,u;a!==du&&typeof e[0]!="number"&&(c=tl(dN,WT(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=dT(h));const{calculatedDuration:m}=h,p=m+i,x=p*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:m,resolvedDuration:p,totalDuration:x}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:v}=this.options;return{done:!0,value:v[v.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:m}=r;if(this.startTime===null)return s.next(0);const{delay:p,repeat:x,repeatType:S,repeatDelay:b,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const w=this.currentTime-p*(this.speed>=0?1:-1),y=this.speed>=0?w<0:w>h;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let T=this.currentTime,N=s;if(x){const v=Math.min(this.currentTime,h)/m;let I=Math.floor(v),A=v%1;!A&&v>=1&&(A=1),A===1&&I--,I=Math.min(I,x+1),!!(I%2)&&(S==="reverse"?(A=1-A,b&&(A-=b/m)):S==="mirror"&&(N=o)),T=tr(0,1,A)*m}const V=y?{done:!1,value:c[0]}:N.next(T);a&&(V.value=a(V.value));let{done:D}=V;!y&&u!==null&&(D=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return E&&i!==void 0&&(V.value=id(c,this.options,i)),P&&P(V.value),E&&this.finish(),V}get duration(){const{resolved:e}=this;return e?Kn(e.calculatedDuration):0}get time(){return Kn(this.currentTime)}set time(e){e=Gn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Kn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=cN,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const hN=new Set(["opacity","clipPath","filter","transform"]);function fN(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const h=mT(a,i);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const mN=yp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),hu=10,pN=2e4;function gN(t){return Rp(t.type)||t.type==="spring"||!fT(t.ease)}function yN(t,e){const n=new Wp({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<pN;)r=n.sample(s),i.push(r.value),s+=hu;return{times:void 0,keyframes:i,duration:s-hu,ease:"linear"}}const YT={anticipate:bT,backInOut:IT,circInOut:CT};function vN(t){return t in YT}class c0 extends $T{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new zT(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:c,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&cu()&&vN(s)&&(s=YT[s]),gN(this.options)){const{onComplete:m,onUpdate:p,motionValue:x,element:S,...b}=this.options,P=yN(e,b);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,i=P.times,s=P.ease,o="keyframes"}const h=fN(a.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(Gv(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:m}=this.options;a.set(id(e,this.options,n)),m&&m(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Kn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Kn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Gn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Ut;const{animation:r}=n;Gv(r,e)}return Ut}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:m,element:p,...x}=this.options,S=new Wp({...x,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),b=Gn(this.time);u.setWithVelocity(S.sample(b-hu).value,S.sample(b).value,hu)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return mN()&&r&&hN.has(r)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const xN={type:"spring",stiffness:500,damping:25,restSpeed:10},wN=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),_N={type:"keyframes",duration:.8},TN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},EN=(t,{keyframes:e})=>e.length>2?_N:Ui.has(t)?t.startsWith("scale")?wN(e[1]):xN:TN;function SN({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const qp=(t,e,n,r={},i,s)=>o=>{const a=Np(r,t)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Gn(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};SN(a)||(h={...h,...EN(t,h)}),h.duration&&(h.duration=Gn(h.duration)),h.repeatDelay&&(h.repeatDelay=Gn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(m=!0)),m&&!s&&e.get()!==void 0){const p=id(h.keyframes,a);if(p!==void 0)return ye.update(()=>{h.onUpdate(p),h.onComplete()}),new Hk([])}return!s&&c0.supports(h)?new c0(h):new Wp(h)};function IN({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function XT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(o=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const m in c){const p=t.getValue(m,(s=t.latestValues[m])!==null&&s!==void 0?s:null),x=c[m];if(x===void 0||h&&IN(h,m))continue;const S={delay:n,...Np(o||{},m)};let b=!1;if(window.MotionHandoffAnimation){const w=wT(t);if(w){const y=window.MotionHandoffAnimation(w,m,ye);y!==null&&(S.startTime=y,b=!0)}}Mf(t,m),p.start(qp(m,p,x,t.shouldReduceMotion&&vT.has(m)?{type:!1}:S,t,b));const P=p.animation;P&&u.push(P)}return a&&Promise.all(u).then(()=>{ye.update(()=>{a&&iP(t,a)})}),u}function $f(t,e,n={}){var r;const i=rd(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(XT(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:p}=s;return bN(t,e,h+u,m,p,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,h]=c==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function bN(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(AN).forEach((u,h)=>{u.notify("AnimationStart",e),o.push($f(u,e,{...s,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function AN(t,e){return t.sortNodePosition(e)}function CN(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>$f(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=$f(t,e,n);else{const i=typeof e=="function"?rd(t,e,n.custom):e;r=Promise.all(XT(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const kN=xp.length;function JT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?JT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<kN;n++){const r=xp[n],i=t.props[r];(Ra(i)||i===!1)&&(e[r]=i)}return e}const PN=[...vp].reverse(),NN=vp.length;function RN(t){return e=>Promise.all(e.map(({animation:n,options:r})=>CN(t,n,r)))}function DN(t){let e=RN(t),n=u0(),r=!0;const i=c=>(u,h)=>{var m;const p=rd(t,h,c==="exit"?(m=t.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(p){const{transition:x,transitionEnd:S,...b}=p;u={...u,...b,...S}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,h=JT(t.parent)||{},m=[],p=new Set;let x={},S=1/0;for(let P=0;P<NN;P++){const w=PN[P],y=n[w],T=u[w]!==void 0?u[w]:h[w],N=Ra(T),V=w===c?y.isActive:null;V===!1&&(S=P);let D=T===h[w]&&T!==u[w]&&N;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),y.protectedKeys={...x},!y.isActive&&V===null||!T&&!y.prevProp||td(T)||typeof T=="boolean")continue;const E=VN(y.prevProp,T);let v=E||w===c&&y.isActive&&!D&&N||P>S&&N,I=!1;const A=Array.isArray(T)?T:[T];let k=A.reduce(i(w),{});V===!1&&(k={});const{prevResolvedValues:R={}}=y,C={...R,...k},Re=Te=>{v=!0,p.has(Te)&&(I=!0,p.delete(Te)),y.needsAnimating[Te]=!0;const z=t.getValue(Te);z&&(z.liveStyle=!1)};for(const Te in C){const z=k[Te],K=R[Te];if(x.hasOwnProperty(Te))continue;let X=!1;Df(z)&&Df(K)?X=!uT(z,K):X=z!==K,X?z!=null?Re(Te):p.add(Te):z!==void 0&&p.has(Te)?Re(Te):y.protectedKeys[Te]=!0}y.prevProp=T,y.prevResolvedValues=k,y.isActive&&(x={...x,...k}),r&&t.blockInitialAnimation&&(v=!1),v&&(!(D&&E)||I)&&m.push(...A.map(Te=>({animation:Te,options:{type:w}})))}if(p.size){const P={};p.forEach(w=>{const y=t.getBaseTarget(w),T=t.getValue(w);T&&(T.liveStyle=!0),P[w]=y??null}),m.push({animation:P})}let b=!!m.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(m):Promise.resolve()}function a(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(p=>{var x;return(x=p.animationState)===null||x===void 0?void 0:x.setActive(c,u)}),n[c].isActive=u;const m=o(c);for(const p in n)n[p].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=u0(),r=!0}}}function VN(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uT(e,t):!1}function ci(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function u0(){return{animate:ci(!0),whileInView:ci(),whileHover:ci(),whileTap:ci(),whileDrag:ci(),whileFocus:ci(),exit:ci()}}class ti{constructor(e){this.isMounted=!1,this.node=e}update(){}}class jN extends ti{constructor(e){super(e),e.animationState||(e.animationState=DN(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();td(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let MN=0;class ON extends ti{constructor(){super(...arguments),this.id=MN++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LN={animation:{Feature:jN},exit:{Feature:ON}};function ja(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function nl(t){return{point:{x:t.pageX,y:t.pageY}}}const FN=t=>e=>Vp(e)&&t(e,nl(e));function sa(t,e,n,r){return ja(t,e,FN(n),r)}const d0=(t,e)=>Math.abs(t-e);function UN(t,e){const n=d0(t.x,e.x),r=d0(t.y,e.y);return Math.sqrt(n**2+r**2)}class ZT{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=vh(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,x=UN(m.offset,{x:0,y:0})>=3;if(!p&&!x)return;const{point:S}=m,{timestamp:b}=ot;this.history.push({...S,timestamp:b});const{onStart:P,onMove:w}=this.handlers;p||(P&&P(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,m)},this.handlePointerMove=(m,p)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=yh(p,this.transformPagePoint),ye.update(this.updatePoint,!0)},this.handlePointerUp=(m,p)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=vh(m.type==="pointercancel"?this.lastMoveEventInfo:yh(p,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,P),S&&S(m,P)},!Vp(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=nl(e),a=yh(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=ot;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,vh(a,this.history)),this.removeListeners=tl(sa(this.contextWindow,"pointermove",this.handlePointerMove),sa(this.contextWindow,"pointerup",this.handlePointerUp),sa(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),er(this.updatePoint)}}function yh(t,e){return e?{point:e(t.point)}:t}function h0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function vh({point:t},e){return{point:t,delta:h0(t,eE(e)),offset:h0(t,BN(e)),velocity:zN(e,.1)}}function BN(t){return t[0]}function eE(t){return t[t.length-1]}function zN(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=eE(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Gn(e)));)n--;if(!r)return{x:0,y:0};const s=Kn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const tE=1e-4,$N=1-tE,HN=1+tE,nE=.01,WN=0-nE,qN=0+nE;function $t(t){return t.max-t.min}function GN(t,e,n){return Math.abs(t-e)<=n}function f0(t,e,n,r=.5){t.origin=r,t.originPoint=Ce(e.min,e.max,t.origin),t.scale=$t(n)/$t(e),t.translate=Ce(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$N&&t.scale<=HN||isNaN(t.scale))&&(t.scale=1),(t.translate>=WN&&t.translate<=qN||isNaN(t.translate))&&(t.translate=0)}function oa(t,e,n,r){f0(t.x,e.x,n.x,r?r.originX:void 0),f0(t.y,e.y,n.y,r?r.originY:void 0)}function m0(t,e,n){t.min=n.min+e.min,t.max=t.min+$t(e)}function KN(t,e,n){m0(t.x,e.x,n.x),m0(t.y,e.y,n.y)}function p0(t,e,n){t.min=e.min-n.min,t.max=t.min+$t(e)}function aa(t,e,n){p0(t.x,e.x,n.x),p0(t.y,e.y,n.y)}function QN(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Ce(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Ce(n,t,r.max):Math.min(t,n)),t}function g0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function YN(t,{top:e,left:n,bottom:r,right:i}){return{x:g0(t.x,n,i),y:g0(t.y,e,r)}}function y0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function XN(t,e){return{x:y0(t.x,e.x),y:y0(t.y,e.y)}}function JN(t,e){let n=.5;const r=$t(t),i=$t(e);return i>r?n=js(e.min,e.max-r,t.min):r>i&&(n=js(t.min,t.max-i,e.min)),tr(0,1,n)}function ZN(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Hf=.35;function eR(t=Hf){return t===!1?t=0:t===!0&&(t=Hf),{x:v0(t,"left","right"),y:v0(t,"top","bottom")}}function v0(t,e,n){return{min:x0(t,e),max:x0(t,n)}}function x0(t,e){return typeof t=="number"?t:t[e]||0}const w0=()=>({translate:0,scale:1,origin:0,originPoint:0}),ms=()=>({x:w0(),y:w0()}),_0=()=>({min:0,max:0}),Oe=()=>({x:_0(),y:_0()});function Gt(t){return[t("x"),t("y")]}function rE({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function tR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function nR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function xh(t){return t===void 0||t===1}function Wf({scale:t,scaleX:e,scaleY:n}){return!xh(t)||!xh(e)||!xh(n)}function hi(t){return Wf(t)||iE(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function iE(t){return T0(t.x)||T0(t.y)}function T0(t){return t&&t!=="0%"}function fu(t,e,n){const r=t-n,i=e*r;return n+i}function E0(t,e,n,r,i){return i!==void 0&&(t=fu(t,i,r)),fu(t,n,r)+e}function qf(t,e=0,n=1,r,i){t.min=E0(t.min,e,n,r,i),t.max=E0(t.max,e,n,r,i)}function sE(t,{x:e,y:n}){qf(t.x,e.translate,e.scale,e.originPoint),qf(t.y,n.translate,n.scale,n.originPoint)}const S0=.999999999999,I0=1.0000000000001;function rR(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&gs(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,sE(t,o)),r&&hi(s.latestValues)&&gs(t,s.latestValues))}e.x<I0&&e.x>S0&&(e.x=1),e.y<I0&&e.y>S0&&(e.y=1)}function ps(t,e){t.min=t.min+e,t.max=t.max+e}function b0(t,e,n,r,i=.5){const s=Ce(t.min,t.max,i);qf(t,e,n,s,r)}function gs(t,e){b0(t.x,e.x,e.scaleX,e.scale,e.originX),b0(t.y,e.y,e.scaleY,e.scale,e.originY)}function oE(t,e){return rE(nR(t.getBoundingClientRect(),e))}function iR(t,e,n){const r=oE(t,n),{scroll:i}=e;return i&&(ps(r.x,i.offset.x),ps(r.y,i.offset.y)),r}const aE=({current:t})=>t?t.ownerDocument.defaultView:null,sR=new WeakMap;class oR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Oe(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nl(h).point)},s=(h,m)=>{const{drag:p,dragPropagation:x,onDragStart:S}=this.getProps();if(p&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Zk(p),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Gt(P=>{let w=this.getAxisMotionValue(P).get()||0;if(Cn.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const T=y.layout.layoutBox[P];T&&(w=$t(T)*(parseFloat(w)/100))}}this.originPoint[P]=w}),S&&ye.postRender(()=>S(h,m)),Mf(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(h,m)=>{const{dragPropagation:p,dragDirectionLock:x,onDirectionLock:S,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:P}=m;if(x&&this.currentDirection===null){this.currentDirection=aR(P),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",m.point,P),this.updateAxis("y",m.point,P),this.visualElement.render(),b&&b(h,m)},a=(h,m)=>this.stop(h,m),c=()=>Gt(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new ZT(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:aE(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ye.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Ql(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=QN(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&hs(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=YN(i.layoutBox,n):this.constraints=!1,this.elastic=eR(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Gt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=ZN(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!hs(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=iR(r,i.root,this.visualElement.getTransformPagePoint());let o=XN(i.layout.layoutBox,s);if(n){const a=n(tR(o));this.hasMutatedConstraints=!!a,a&&(o=rE(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Gt(h=>{if(!Ql(h,n,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const p=i?200:1e6,x=i?40:1e7,S={type:"inertia",velocity:r?e[h]:0,bounceStiffness:p,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(h,S)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Mf(this.visualElement,e),r.start(qp(e,r,0,n,this.visualElement,!1))}stopAnimation(){Gt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Gt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Gt(n=>{const{drag:r}=this.getProps();if(!Ql(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Ce(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!hs(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Gt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=JN({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Gt(o=>{if(!Ql(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(Ce(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;sR.set(this.visualElement,this);const e=this.visualElement.current,n=sa(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();hs(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ye.read(r);const o=ja(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Gt(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Hf,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Ql(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function aR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class lR extends ti{constructor(e){super(e),this.removeGroupControls=Ut,this.removeListeners=Ut,this.controls=new oR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ut}unmount(){this.removeGroupControls(),this.removeListeners()}}const A0=t=>(e,n)=>{t&&ye.postRender(()=>t(e,n))};class cR extends ti{constructor(){super(...arguments),this.removePointerDownListener=Ut}onPointerDown(e){this.session=new ZT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aE(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:A0(e),onStart:A0(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ye.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=sa(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const _c={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function C0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ro={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Y.test(t))t=parseFloat(t);else return t;const n=C0(t,e.target.x),r=C0(t,e.target.y);return`${n}% ${r}%`}},uR={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Wr.parse(t);if(i.length>5)return r;const s=Wr.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=Ce(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class dR extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;Rk(hR),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),_c.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ye.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),_p.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lE(t){const[e,n]=H1(),r=O.useContext(mp);return d.jsx(dR,{...t,layoutGroup:r,switchLayoutGroup:O.useContext(X1),isPresent:e,safeToRemove:n})}const hR={borderRadius:{...Ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ro,borderTopRightRadius:Ro,borderBottomLeftRadius:Ro,borderBottomRightRadius:Ro,boxShadow:uR};function fR(t,e,n){const r=xt(t)?t:Os(t);return r.start(qp("",r,e,n)),r.animation}function mR(t){return t instanceof SVGElement&&t.tagName!=="svg"}const pR=(t,e)=>t.depth-e.depth;class gR{constructor(){this.children=[],this.isDirty=!1}add(e){jp(this.children,e),this.isDirty=!0}remove(e){Mp(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pR),this.isDirty=!1,this.children.forEach(e)}}function yR(t,e){const n=kn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(er(r),t(s-e))};return ye.read(r,!0),()=>er(r)}const cE=["TopLeft","TopRight","BottomLeft","BottomRight"],vR=cE.length,k0=t=>typeof t=="string"?parseFloat(t):t,P0=t=>typeof t=="number"||Y.test(t);function xR(t,e,n,r,i,s){i?(t.opacity=Ce(0,n.opacity!==void 0?n.opacity:1,wR(r)),t.opacityExit=Ce(e.opacity!==void 0?e.opacity:1,0,_R(r))):s&&(t.opacity=Ce(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<vR;o++){const a=`border${cE[o]}Radius`;let c=N0(e,a),u=N0(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||P0(c)===P0(u)?(t[a]=Math.max(Ce(k0(c),k0(u),r),0),(Cn.test(u)||Cn.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=Ce(e.rotate||0,n.rotate||0,r))}function N0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wR=uE(0,.5,AT),_R=uE(.5,.95,Ut);function uE(t,e,n){return r=>r<t?0:r>e?1:n(js(t,e,r))}function R0(t,e){t.min=e.min,t.max=e.max}function qt(t,e){R0(t.x,e.x),R0(t.y,e.y)}function D0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function V0(t,e,n,r,i){return t-=e,t=fu(t,1/n,r),i!==void 0&&(t=fu(t,1/i,r)),t}function TR(t,e=0,n=1,r=.5,i,s=t,o=t){if(Cn.test(e)&&(e=parseFloat(e),e=Ce(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Ce(s.min,s.max,r);t===s&&(a-=e),t.min=V0(t.min,e,n,a,i),t.max=V0(t.max,e,n,a,i)}function j0(t,e,[n,r,i],s,o){TR(t,e[n],e[r],e[i],e.scale,s,o)}const ER=["x","scaleX","originX"],SR=["y","scaleY","originY"];function M0(t,e,n,r){j0(t.x,e,ER,n?n.x:void 0,r?r.x:void 0),j0(t.y,e,SR,n?n.y:void 0,r?r.y:void 0)}function O0(t){return t.translate===0&&t.scale===1}function dE(t){return O0(t.x)&&O0(t.y)}function L0(t,e){return t.min===e.min&&t.max===e.max}function IR(t,e){return L0(t.x,e.x)&&L0(t.y,e.y)}function F0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function hE(t,e){return F0(t.x,e.x)&&F0(t.y,e.y)}function U0(t){return $t(t.x)/$t(t.y)}function B0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class bR{constructor(){this.members=[]}add(e){jp(this.members,e),e.scheduleRender()}remove(e){if(Mp(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function AR(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:m,rotateY:p,skewX:x,skewY:S}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),p&&(r+=`rotateY(${p}deg) `),x&&(r+=`skewX(${x}deg) `),S&&(r+=`skewY(${S}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const fi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},$o=typeof window<"u"&&window.MotionDebug!==void 0,wh=["","X","Y","Z"],CR={visibility:"hidden"},z0=1e3;let kR=0;function _h(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function fE(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=wT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ye,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&fE(r)}function mE({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=kR++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,$o&&(fi.totalNodes=fi.resolvedTargetDeltas=fi.recalculatedProjection=0),this.nodes.forEach(RR),this.nodes.forEach(OR),this.nodes.forEach(LR),this.nodes.forEach(DR),$o&&window.MotionDebug.record(fi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new gR)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Op),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=mR(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),t){let m;const p=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=yR(p,250),_c.hasAnimatedSinceResize&&(_c.hasAnimatedSinceResize=!1,this.nodes.forEach(H0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:p,hasRelativeTargetChanged:x,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||h.getDefaultTransition()||$R,{onLayoutAnimationStart:P,onLayoutAnimationComplete:w}=h.getProps(),y=!this.targetLayout||!hE(this.targetLayout,S)||x,T=!p&&x;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||T||p&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,T);const N={...Np(b,"layout"),onPlay:P,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else p||H0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,er(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FR),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&fE(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach($0);return}this.isUpdating||this.nodes.forEach(jR),this.isUpdating=!1,this.nodes.forEach(MR),this.nodes.forEach(PR),this.nodes.forEach(NR),this.clearAllSnapshots();const a=kn.now();ot.delta=tr(0,1e3/60,a-ot.timestamp),ot.timestamp=a,ot.isProcessing=!0,dh.update.process(ot),dh.preRender.process(ot),dh.render.process(ot),ot.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,_p.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(VR),this.sharedNodes.forEach(UR)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ye.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ye.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Oe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!dE(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||hi(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),HR(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Oe();const c=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(WR))){const{scroll:h}=this.root;h&&(ps(c.x,h.offset.x),ps(c.y,h.offset.y))}return c}removeElementScroll(o){var a;const c=Oe();if(qt(c,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:m,options:p}=h;h!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&qt(c,o),ps(c.x,m.offset.x),ps(c.y,m.offset.y))}return c}applyTransform(o,a=!1){const c=Oe();qt(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&gs(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),hi(h.latestValues)&&gs(c,h.latestValues)}return hi(this.latestValues)&&gs(c,this.latestValues),c}removeTransform(o){const a=Oe();qt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!hi(u.latestValues))continue;Wf(u.latestValues)&&u.updateSnapshot();const h=Oe(),m=u.measurePageBox();qt(h,m),M0(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return hi(this.latestValues)&&M0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ot.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:p}=this.options;if(!(!this.layout||!(m||p))){if(this.resolvedRelativeTargetAt=ot.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),aa(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Oe(),this.targetWithTransforms=Oe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KN(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qt(this.target,this.layout.layoutBox),sE(this.target,this.targetDelta)):qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Oe(),this.relativeTargetOrigin=Oe(),aa(this.relativeTargetOrigin,this.target,x.target),qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}$o&&fi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Wf(this.parent.latestValues)||iE(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ot.timestamp&&(u=!1),u)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;qt(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,x=this.treeScale.y;rR(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Oe());const{target:S}=a;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(D0(this.prevProjectionDelta.x,this.projectionDelta.x),D0(this.prevProjectionDelta.y,this.projectionDelta.y)),oa(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==p||this.treeScale.y!==x||!B0(this.projectionDelta.x,this.prevProjectionDelta.x)||!B0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),$o&&fi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ms(),this.projectionDelta=ms(),this.projectionDeltaWithTransform=ms()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},m=ms();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=Oe(),x=c?c.source:void 0,S=this.layout?this.layout.source:void 0,b=x!==S,P=this.getStack(),w=!P||P.members.length<=1,y=!!(b&&!w&&this.options.crossfade===!0&&!this.path.some(zR));this.animationProgress=0;let T;this.mixTargetDelta=N=>{const V=N/1e3;W0(m.x,o.x,V),W0(m.y,o.y,V),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(aa(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),BR(this.relativeTarget,this.relativeTargetOrigin,p,V),T&&IR(this.relativeTarget,T)&&(this.isProjectionDirty=!1),T||(T=Oe()),qt(T,this.relativeTarget)),b&&(this.animationValues=h,xR(h,u,this.latestValues,V,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=V},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(er(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ye.update(()=>{_c.hasAnimatedSinceResize=!0,this.currentAnimation=fR(0,z0,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(z0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:h}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&pE(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Oe();const m=$t(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=$t(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}qt(a,c),gs(a,h),oa(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new bR),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&_h("z",o,u,this.animationValues);for(let h=0;h<wh.length;h++)_h(`rotate${wh[h]}`,o,u,this.animationValues),_h(`skew${wh[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return CR;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=xc(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=xc(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!hi(this.latestValues)&&(b.transform=h?h({},""):"none",this.hasProjected=!1),b}const p=m.animationValues||m.latestValues;this.applyTransformsToTarget(),u.transform=AR(this.projectionDeltaWithTransform,this.treeScale,p),h&&(u.transform=h(p,u.transform));const{x,y:S}=this.projectionDelta;u.transformOrigin=`${x.origin*100}% ${S.origin*100}% 0`,m.animationValues?u.opacity=m===this?(c=(a=p.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=m===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in lu){if(p[b]===void 0)continue;const{correct:P,applyTo:w}=lu[b],y=u.transform==="none"?p[b]:P(p[b],m);if(w){const T=w.length;for(let N=0;N<T;N++)u[w[N]]=y}else u[b]=y}return this.options.layoutId&&(u.pointerEvents=m===this?xc(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach($0),this.root.sharedNodes.clear()}}}function PR(t){t.updateLayout()}function NR(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Gt(m=>{const p=o?n.measuredBox[m]:n.layoutBox[m],x=$t(p);p.min=r[m].min,p.max=p.min+x}):pE(s,n.layoutBox,r)&&Gt(m=>{const p=o?n.measuredBox[m]:n.layoutBox[m],x=$t(r[m]);p.max=p.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+x)});const a=ms();oa(a,r,n.layoutBox);const c=ms();o?oa(c,t.applyTransform(i,!0),n.measuredBox):oa(c,r,n.layoutBox);const u=!dE(a);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:x}=m;if(p&&x){const S=Oe();aa(S,n.layoutBox,p.layoutBox);const b=Oe();aa(b,r,x.layoutBox),hE(S,b)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=S,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function RR(t){$o&&fi.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function DR(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function VR(t){t.clearSnapshot()}function $0(t){t.clearMeasurements()}function jR(t){t.isLayoutDirty=!1}function MR(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function H0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function OR(t){t.resolveTargetDelta()}function LR(t){t.calcProjection()}function FR(t){t.resetSkewAndRotation()}function UR(t){t.removeLeadSnapshot()}function W0(t,e,n){t.translate=Ce(e.translate,0,n),t.scale=Ce(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function q0(t,e,n,r){t.min=Ce(e.min,n.min,r),t.max=Ce(e.max,n.max,r)}function BR(t,e,n,r){q0(t.x,e.x,n.x,r),q0(t.y,e.y,n.y,r)}function zR(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $R={duration:.45,ease:[.4,0,.1,1]},G0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),K0=G0("applewebkit/")&&!G0("chrome/")?Math.round:Ut;function Q0(t){t.min=K0(t.min),t.max=K0(t.max)}function HR(t){Q0(t.x),Q0(t.y)}function pE(t,e,n){return t==="position"||t==="preserve-aspect"&&!GN(U0(e),U0(n),.2)}function WR(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const qR=mE({attachResizeListener:(t,e)=>ja(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Th={current:void 0},gE=mE({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Th.current){const t=new qR({});t.mount(window),t.setOptions({layoutScroll:!0}),Th.current=t}return Th.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),GR={pan:{Feature:cR},drag:{Feature:lR,ProjectionNode:gE,MeasureLayout:lE}};function Y0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&ye.postRender(()=>s(e,nl(e)))}class KR extends ti{mount(){const{current:e}=this.node;e&&(this.unmount=Kk(e,n=>(Y0(this.node,n,"Start"),r=>Y0(this.node,r,"End"))))}unmount(){}}class QR extends ti{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tl(ja(this.node.current,"focus",()=>this.onFocus()),ja(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function X0(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&ye.postRender(()=>s(e,nl(e)))}class YR extends ti{mount(){const{current:e}=this.node;e&&(this.unmount=Jk(e,n=>(X0(this.node,n,"Start"),(r,{success:i})=>X0(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gf=new WeakMap,Eh=new WeakMap,XR=t=>{const e=Gf.get(t.target);e&&e(t)},JR=t=>{t.forEach(XR)};function ZR({root:t,...e}){const n=t||document;Eh.has(n)||Eh.set(n,{});const r=Eh.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(JR,{root:t,...e})),r[i]}function e2(t,e,n){const r=ZR(e);return Gf.set(t,n),r.observe(t),()=>{Gf.delete(t),r.unobserve(t)}}const t2={some:0,all:1};class n2 extends ti{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:t2[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),p=u?h:m;p&&p(c)};return e2(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(r2(e,n))&&this.startObserver()}unmount(){}}function r2({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const i2={inView:{Feature:n2},tap:{Feature:YR},focus:{Feature:QR},hover:{Feature:KR}},s2={layout:{ProjectionNode:gE,MeasureLayout:lE}},Kf={current:null},yE={current:!1};function o2(){if(yE.current=!0,!!pp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Kf.current=t.matches;t.addListener(e),e()}else Kf.current=!1}const a2=[...BT,pt,Wr],l2=t=>a2.find(UT(t)),J0=new WeakMap;function c2(t,e,n){for(const r in e){const i=e[r],s=n[r];if(xt(i))t.addValue(r,i);else if(xt(s))t.addValue(r,Os(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Os(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const Z0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class u2{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=$p,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=kn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,ye.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=nd(n),this.isVariantNode=Q1(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...p}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in p){const S=p[x];c[x]!==void 0&&xt(S)&&S.set(c[x],!1)}}mount(e){this.current=e,J0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),yE.current||o2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){J0.delete(this.current),this.projection&&this.projection.unmount(),er(this.notifyUpdate),er(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ui.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ye.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ms){const n=Ms[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Oe()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Z0.length;r++){const i=Z0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=c2(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Os(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(LT(i)||kT(i))?i=parseFloat(i):!l2(i)&&Wr.test(n)&&(i=jT(e,n)),this.setBaseTarget(e,xt(i)?i.get():i)),xt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=Ep(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!xt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Op),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vE extends u2{constructor(){super(...arguments),this.KeyframeResolver=zT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;xt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function d2(t){return window.getComputedStyle(t)}class h2 extends vE{constructor(){super(...arguments),this.type="html",this.renderInstance=iT}readValueFromInstance(e,n){if(Ui.has(n)){const r=zp(n);return r&&r.default||0}else{const r=d2(e),i=(tT(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return oE(e,n)}build(e,n,r){bp(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Pp(e,n,r)}}class f2 extends vE{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Oe}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ui.has(n)){const r=zp(n);return r&&r.default||0}return n=sT.has(n)?n:wp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return lT(e,n,r)}build(e,n,r){Ap(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){oT(e,n,r,i)}mount(e){this.isSVGTag=kp(e.tagName),super.mount(e)}}const m2=(t,e)=>Tp(t)?new f2(e):new h2(e,{allowProjection:t!==O.Fragment}),p2=Bk({...LN,...i2,...GR,...s2},m2),W=nk(p2);function xE(t){const e=Ja(()=>Os(t)),{isStatic:n}=O.useContext(Zu);if(n){const[,r]=O.useState(t);O.useEffect(()=>e.on("change",r),[])}return e}function wE(t,e){const n=xE(e()),r=()=>n.set(e());return r(),gp(()=>{const i=()=>ye.preRender(r,!1,!0),s=t.map(o=>o.on("change",i));return()=>{s.forEach(o=>o()),er(r)}}),n}const g2=t=>t&&typeof t=="object"&&t.mix,y2=t=>g2(t)?t.mix:void 0;function v2(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],o=t[3+n],a=QT(i,s,{mixer:y2(s[0]),...o});return e?a(r):a}function x2(t){ra.current=[],t();const e=wE(ra.current,t);return ra.current=void 0,e}function Qi(t,e,n,r){if(typeof t=="function")return x2(t);const i=typeof e=="function"?e:v2(e,n,r);return Array.isArray(t)?ex(t,i):ex([t],([s])=>i(s))}function ex(t,e){const n=Ja(()=>[]);return wE(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var w2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ue=(t,e)=>{const n=O.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:c,...u},h)=>O.createElement("svg",{ref:h,...w2,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${_2(t)}`,a].join(" "),...u},[...e.map(([m,p])=>O.createElement(m,p)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=Ue("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=Ue("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=Ue("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Ue("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=Ue("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=Ue("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=Ue("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=Ue("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=Ue("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ar=Ue("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _E=Ue("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=Ue("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=Ue("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=Ue("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Ue("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=Ue("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gp=Ue("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=Ue("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Ue("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=Ue("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bt=Ue("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),b2=({word:t,definition:e,example:n,category:r,onSwipeRight:i,onSwipeLeft:s,isFavorite:o,onToggleFavorite:a,disabled:c})=>{const u=xE(0),h=Qi(u,[-200,200],[-25,25]),m=Qi(u,[-200,-150,0,150,200],[0,1,1,1,0]),p=Qi(u,[-150,-50],[1,0]),x=Qi(u,[50,150],[0,1]),S=(b,P)=>{c||(P.offset.x<-100?s():P.offset.x>100&&i())};return d.jsx("div",{className:"relative w-full max-w-[360px] aspect-[3/4] perspective-1000",children:d.jsxs(W.div,{style:{x:u,rotate:h,opacity:m},drag:c?!1:"x",dragConstraints:{left:0,right:0},onDragEnd:S,className:`absolute inset-0 glass-card p-8 flex flex-col justify-center items-center text-center border-2 border-electric-blue/30 overflow-hidden shadow-2xl group ${c?"cursor-default grayscale opacity-50":"cursor-grab active:cursor-grabbing"}`,children:[d.jsx(W.button,{whileHover:{scale:1.2},whileTap:{scale:.9},onClick:b=>{b.stopPropagation(),a==null||a()},className:"absolute top-4 right-4 z-20 p-2 rounded-full bg-black/20 hover:bg-black/40 transition-colors",children:d.jsx(TE,{className:`w-6 h-6 transition-colors ${o?"fill-neon-pink text-neon-pink":"text-white/50"}`})}),d.jsx(W.div,{style:{opacity:Qi(u,[-150,0,150],[.4,0,.4]),backgroundColor:Qi(u,[-150,0,150],["#00D9FF","transparent","#FF006E"])},className:"absolute inset-0 blur-3xl pointer-events-none"}),d.jsx(W.div,{style:{opacity:p},className:"absolute top-4 left-4 text-electric-blue font-black text-2xl border-4 border-electric-blue px-4 py-2 rounded-xl -rotate-12 bg-charcoal/80",children:"/ "}),d.jsx(W.div,{style:{opacity:x},className:"absolute top-4 right-4 text-neon-pink font-black text-2xl border-4 border-neon-pink px-4 py-2 rounded-xl rotate-12 bg-charcoal/80",children:"  /"}),d.jsx("div",{className:"bg-electric-blue/10 px-4 py-1 rounded-full text-[10px] font-bold tracking-[0.2em] text-electric-blue uppercase mb-6",children:r}),d.jsx("h2",{className:"text-4xl md:text-5xl font-black mb-6 bg-gradient-to-r from-electric-blue to-cyber-yellow bg-clip-text text-transparent",children:t}),d.jsx("p",{className:"text-xl text-text-secondary font-medium mb-6 leading-relaxed",children:e}),d.jsxs("div",{className:"w-full p-4 bg-white/5 rounded-xl border-l-4 border-neon-purple text-sm text-text-muted italic leading-relaxed",children:['"',n,'"']})]})})},A2=({data:t,max:e})=>d.jsx("div",{className:"space-y-6 w-full py-4",children:t.map((n,r)=>d.jsxs("div",{className:"space-y-2",children:[d.jsxs("div",{className:"flex justify-between items-center px-1",children:[d.jsx("span",{className:"text-sm font-bold text-text-secondary uppercase tracking-wider",children:n.label}),d.jsxs("span",{className:"text-sm font-black text-text-primary",children:[n.value,"%"]})]}),d.jsxs("div",{className:"h-4 bg-white/5 rounded-full overflow-hidden border border-white/5 relative",children:[d.jsx(W.div,{initial:{width:0},animate:{width:`${n.value/e*100}%`},transition:{duration:1,delay:r*.1,ease:"easeOut"},className:"h-full relative overflow-hidden",style:{backgroundColor:n.color},children:d.jsx(W.div,{animate:{x:["-100%","200%"]},transition:{duration:2,repeat:1/0,ease:"linear"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/30 to-transparent w-24 skew-x-[-20deg]"})}),d.jsx("div",{className:"absolute inset-0 opacity-20 blur-md pointer-events-none",style:{width:`${n.value/e*100}%`,backgroundColor:n.color}})]})]},r))}),Tc=[{id:"v001",word:"UBIQUITOUS",definition:"  ,  ",example:"Smartphones have become ubiquitous in modern society",category:" ",difficulty:"medium",explanation:" Ubiquitous       .      'ubique'  ' '.       ."},{id:"v002",word:"EPHEMERAL",definition:", ,  ",example:"The beauty of a sunset is ephemeral",category:" ",difficulty:"medium",explanation:"Ephemeral       .         .          ."},{id:"v003",word:"PERSPICACIOUS",definition:",    ",example:"The perspicacious investor spotted the trend early",category:" ",difficulty:"hard"},{id:"v004",word:"AMBIGUOUS",definition:"-,  ,   ",example:"The politician gave an ambiguous answer to avoid controversy",category:" ",difficulty:"medium"},{id:"v005",word:"BENEVOLENT",definition:",  , ",example:"The benevolent donor funded the entire hospital wing",category:" ",difficulty:"easy"},{id:"v006",word:"CANDID",definition:",  , ",example:"She gave a candid assessment of the project's flaws",category:" ",difficulty:"easy"},{id:"v007",word:"DILIGENT",definition:", , ",example:"The diligent student reviewed her notes every evening",category:" ",difficulty:"easy"},{id:"v008",word:"ELOQUENT",definition:",   , ",example:"His eloquent speech moved the entire audience to tears",category:" ",difficulty:"medium"},{id:"v009",word:"FRUGAL",definition:", ,  ",example:"Living a frugal lifestyle allowed her to retire early",category:" ",difficulty:"medium"},{id:"v010",word:"GREGARIOUS",definition:",  ",example:"The gregarious host made every guest feel welcome",category:" ",difficulty:"hard"},{id:"v011",word:"HAUGHTY",definition:", , ",example:"Her haughty attitude made it hard to work with her",category:" ",difficulty:"medium"},{id:"v012",word:"IMPECCABLE",definition:",  , ",example:"The chef's impeccable technique impressed the judges",category:" ",difficulty:"medium"},{id:"v013",word:"JOVIAL",definition:", ,   ",example:"The jovial grandfather always had a story to tell",category:" ",difficulty:"easy"},{id:"v014",word:"LETHARGIC",definition:",  , ",example:"After the heavy meal, everyone felt lethargic",category:" ",difficulty:"medium"},{id:"v015",word:"METICULOUS",definition:", , ",example:"The meticulous editor caught every grammatical error",category:" ",difficulty:"medium"},{id:"v016",word:"NONCHALANT",definition:", ,  ",example:"He seemed nonchalant about the exam despite its importance",category:" ",difficulty:"hard"},{id:"v017",word:"OBSTINATE",definition:",  ,  ",example:"The obstinate child refused to eat his vegetables",category:" ",difficulty:"medium"},{id:"v018",word:"PRAGMATIC",definition:", , ",example:"A pragmatic approach to the problem saved time and money",category:" ",difficulty:"medium"},{id:"v019",word:"RESILIENT",definition:", ,  ",example:"Resilient communities rebuild quickly after disasters",category:" ",difficulty:"easy"},{id:"v020",word:"TENACIOUS",definition:", ,   ",example:"Her tenacious spirit helped her overcome every obstacle",category:" ",difficulty:"medium"},{id:"v021",word:"ADULATION",definition:" , ",example:"The rock star was greeted with adulation by his fans",category:" ",difficulty:"hard"},{id:"v022",word:"BENEVOLENT",definition:",  ,   ",example:"The benevolent billionaire donated most of his fortune to charity",category:" ",difficulty:"medium"},{id:"v023",word:"CANDID",definition:" , , ",example:"He gave a candid interview about his struggles with addiction",category:" ",difficulty:"easy"},{id:"v024",word:"DEFERENCE",definition:",      ",example:"The young lawyer treated the judge with great deference",category:" ",difficulty:"hard"},{id:"v025",word:"ELOQUENT",definition:",   ",example:"She made an eloquent appeal for human rights",category:" ",difficulty:"medium"},{id:"v026",word:"FRUGAL",definition:",  ",example:"They lead a frugal life, rarely eating out",category:" ",difficulty:"easy"},{id:"v027",word:"GREGARIOUS",definition:",  ",example:"Dolphins are gregarious animals, usually living in large groups",category:" ",difficulty:"medium"},{id:"v028",word:"HAUGHTY",definition:", ",example:"The haughty waiter looked down on the casually dressed tourists",category:" ",difficulty:"hard"},{id:"v029",word:"IMPLACABLE",definition:"  , ",example:"The two countries remained implacable enemies for decades",category:" ",difficulty:"hard"},{id:"v030",word:"JUBILANT",definition:",  ",example:"The fans were jubilant after their team won the championship",category:" ",difficulty:"easy"},{id:"v031",word:"KNACK",definition:",  ",example:"She has a knack for remembering names and faces",category:" ",difficulty:"easy"},{id:"v032",word:"LUCID",definition:", , ",example:"The professor gave a lucid explanation of a complex theory",category:" ",difficulty:"medium"},{id:"v033",word:"METICULOUS",definition:" , ",example:"The artist was meticulous in his choice of colors",category:" ",difficulty:"medium"},{id:"v034",word:"NEFARIOUS",definition:", ",example:"The villain had a nefarious plot to take over the world",category:" ",difficulty:"hard"},{id:"v035",word:"OBSTINATE",definition:"",example:"He's too obstinate to admit he was wrong",category:" ",difficulty:"easy"},{id:"v036",word:"PRUDENT",definition:", ",example:"It's prudent to save some money for emergencies",category:" ",difficulty:"medium"},{id:"v037",word:"QUERULOUS",definition:",  ",example:"The tired child became querulous and started to cry",category:" ",difficulty:"hard"},{id:"v038",word:"REVERENCE",definition:",  ",example:"The temple is treated with great reverence by the monks",category:" ",difficulty:"medium"},{id:"v039",word:"SAGACIOUS",definition:", ",example:"The king sought advice from his sagacious councilors",category:" ",difficulty:"hard"},{id:"v040",word:"TENACIOUS",definition:",  ",example:"The tenacious detective refused to give up on the cold case",category:" ",difficulty:"medium"},{id:"v041",word:"VENERATE",definition:", ",example:"Many cultures venerate their ancestors",category:" ",difficulty:"medium"},{id:"v042",word:"WARY",definition:", ",example:"Be wary of strangers offering you free gifts",category:" ",difficulty:"easy"},{id:"v043",word:"ZEAL",definition:", ",example:"The new employee started his job with great zeal",category:" ",difficulty:"easy"},{id:"v044",word:"ABSTAIN",definition:"",example:"He decided to abstain from alcohol for a month",category:" ",difficulty:"easy"},{id:"v045",word:"BOISTEROUS",definition:", , ",example:"The boisterous crowd cheered when the goal was scored",category:" ",difficulty:"medium"},{id:"v046",word:"COMPLACENT",definition:"   (  )",example:"We cannot afford to be complacent about national security",category:" ",difficulty:"hard"},{id:"v047",word:"DILIGENT",definition:", ",example:"A diligent student usually gets good grades",category:" ",difficulty:"easy"},{id:"v048",word:"EMPATHY",definition:", ",example:"Having empathy allows you to understand how others feel",category:" ",difficulty:"easy"},{id:"v049",word:"FORBEARANCE",definition:", ",example:"The teacher showed great forbearance with the noisy class",category:" ",difficulty:"hard"},{id:"v050",word:"HEDONIST",definition:"",example:"He was a hedonist who spent all his money on luxury",category:" ",difficulty:"medium"},{id:"v051",word:"INEVITABLE",definition:" ",example:"Death is an inevitable part of life",category:" ",difficulty:"easy"},{id:"v052",word:"LONGEVITY",definition:" ",example:"Healthy eating is key to longevity",category:" ",difficulty:"easy"},{id:"v053",word:"MUNDANE",definition:", , ",example:"He was tired of the mundane tasks of his office job",category:" ",difficulty:"medium"},{id:"v054",word:"NONCHALANT",definition:",  ",example:"She gave a nonchalant shrug when asked about the test",category:" ",difficulty:"medium"},{id:"v055",word:"ORATOR",definition:" ",example:"Martin Luther King Jr. was a famous orator",category:" ",difficulty:"medium"},{id:"v056",word:"PARCHED",definition:" , ",example:"The hikers were parched after walking in the sun all day",category:" ",difficulty:"easy"},{id:"v057",word:"RECLUSIVE",definition:"",example:"The reclusive author rarely left his home",category:" ",difficulty:"medium"},{id:"v058",word:"SCRUTINIZE",definition:" ",example:"The customs officer scrutinized every passport",category:" ",difficulty:"medium"},{id:"v059",word:"TRANSIENT",definition:", ",example:"The joy of winning was transient, lasting only a day",category:" ",difficulty:"hard"},{id:"v060",word:"VIGILANT",definition:", ",example:"Security guards must remain vigilant at all times",category:" ",difficulty:"medium"}],Ec=[{id:"a001",word:" : ",definition:"   ",example:" :      ",category:"",difficulty:"easy"},{id:"a002",word:" : ",definition:"   ( :  )",example:" :     ",category:"",difficulty:"easy"},{id:"a003",word:" : ",definition:"    ( :  )",example:" :      ",category:"",difficulty:"easy"},{id:"a004",word:" : ",definition:"",example:" :   ",category:"",difficulty:"easy"},{id:"a005",word:" : ",definition:"  :  ",example:" :     :  ",category:"",difficulty:"easy"},{id:"a006",word:" : ",definition:" : ",example:" :    : ",category:"",difficulty:"easy"},{id:"a007",word:" : ",definition:"  :   ()",example:" :     :  ",category:"",difficulty:"medium"},{id:"a008",word:" : ",definition:" :  /",example:" :    :  ",category:"",difficulty:"medium"},{id:"a009",word:" : ",definition:" :  ( : )",example:" :    : ",category:"",difficulty:"medium"},{id:"a010",word:" : ",definition:" :   ",example:" :    :   ",category:"",difficulty:"medium"},{id:"a011",word:" : ",definition:" : ",example:" :    : ",category:"",difficulty:"easy"},{id:"a012",word:" : ",definition:"  :  ",example:" :     : ",category:"",difficulty:"easy"},{id:"a013",word:" : ",definition:" :  ",example:" :    :  ",category:"",difficulty:"medium"},{id:"a014",word:" : ",definition:" :  ",example:" :    :  ",category:"",difficulty:"medium"},{id:"a015",word:" : ",definition:" :  ",example:" :    :  ",category:"",difficulty:"medium"},{id:"a016",word:" : ",definition:" :  ",example:" :    :  ",category:"",difficulty:"hard"},{id:"a017",word:" : ",definition:"  :  ",example:" :     :  ",category:"",difficulty:"easy"},{id:"a018",word:" : ",definition:" :  ( )",example:" :    : ",category:"",difficulty:"medium"},{id:"a019",word:" : ",definition:" :  ",example:" :    :  ",category:"",difficulty:"medium"},{id:"a020",word:" : ",definition:" :  ( :   )",example:" :    :   ",category:"",difficulty:"hard"},{id:"a021",word:" : ",definition:"  / ",example:" :      ",category:"",difficulty:"easy"},{id:"a022",word:" : ",definition:"   ",example:"  :      ",category:"",difficulty:"easy"},{id:"a023",word:" : ",definition:"   / ",example:" :      ",category:"",difficulty:"easy"},{id:"a024",word:" : ",definition:"   ",example:" :      ",category:"",difficulty:"easy"},{id:"a025",word:" : ",definition:"  :   ",example:" :     :  ",category:"",difficulty:"easy"},{id:"a026",word:" : ",definition:"  : /     ",example:" :     :  ",category:"",difficulty:"easy"},{id:"a027",word:" : ",definition:"   ",example:" :     ",category:"",difficulty:"easy"},{id:"a028",word:" : ",definition:" :   ",example:" :    :  ",category:"",difficulty:"easy"},{id:"a029",word:" : ",definition:"  :  ",example:" :     : ",category:"",difficulty:"easy"},{id:"a030",word:" : ",definition:"  :   ",example:" :     : ",category:"",difficulty:"easy"},{id:"a031",word:" : ",definition:"  (   )",example:" :     ",category:"",difficulty:"easy"},{id:"a032",word:" : ",definition:" :   ",example:" :    : ",category:"",difficulty:"easy"},{id:"a033",word:"- : ",definition:"/ : /   ",example:" :     ",category:"",difficulty:"easy"},{id:"a034",word:" : ",definition:"  /  ",example:" :    ",category:"",difficulty:"easy"},{id:"a035",word:" : ",definition:" :     ",example:" :    :  ",category:"",difficulty:"easy"},{id:"a036",word:" : ",definition:" :   ",example:" :    :  ",category:"",difficulty:"easy"},{id:"a037",word:" : ",definition:"/ :      ",example:" :    :  ",category:"",difficulty:"easy"},{id:"a038",word:" : ",definition:"    ",example:" :    : ",category:"",difficulty:"easy"},{id:"a039",word:" : ",definition:" ",example:" :     ",category:"",difficulty:"easy"},{id:"a040",word:" : ",definition:"  :   ",example:" :    : ",category:"",difficulty:"easy"},{id:"a041",word:" : ",definition:"   ",example:" :   / ",category:"",difficulty:"medium"},{id:"a042",word:" : ",definition:" :   ",example:" :    : ",category:"",difficulty:"medium"},{id:"a043",word:" : ",definition:"    :  ",example:" :    /",category:"",difficulty:"medium"},{id:"a044",word:" : ",definition:"    ",example:" :    ",category:"",difficulty:"medium"},{id:"a045",word:" : ",definition:"   :  ",example:" :   /",category:"",difficulty:"medium"},{id:"a046",word:" : ",definition:"     ",example:" :    ",category:"",difficulty:"medium"},{id:"a047",word:" : ",definition:" ",example:" :    ",category:"",difficulty:"medium"},{id:"a048",word:" : ",definition:"  : /  ",example:" :      :  ",category:"",difficulty:"medium"},{id:"a049",word:" : ",definition:" :    ",example:" :    :   ()",category:"",difficulty:"medium"},{id:"a050",word:" : ",definition:" ",example:" :   ",category:"",difficulty:"medium"},{id:"a051",word:" : ",definition:"  :    ",example:" :    : ",category:"",difficulty:"medium"},{id:"a052",word:" : ",definition:"   :    ",example:" :    :  ",category:"",difficulty:"medium"},{id:"a053",word:" : ",definition:" :  / ",example:" :    : ",category:"",difficulty:"medium"},{id:"a054",word:" : ",definition:"      ",example:" :    :  ",category:"",difficulty:"hard"},{id:"a055",word:" : ",definition:"  :    ",example:" :    : ",category:"",difficulty:"medium"},{id:"a056",word:" : ",definition:"   /",example:" :    : ",category:"",difficulty:"medium"},{id:"a057",word:" : ",definition:"  :     ",example:" :    : ",category:"",difficulty:"medium"},{id:"a058",word:" : ",definition:"  :    ",example:" :    : ",category:"",difficulty:"medium"},{id:"a059",word:" : ",definition:"  :   ",example:" :    :  ",category:"",difficulty:"medium"},{id:"a060",word:" : ",definition:"  :    ",example:" :    : ",category:"",difficulty:"medium"}],Sc=[{id:"q001",word:"  ",definition:" =   ",example:"  8  5:  = 85 = 40",category:"",difficulty:"easy"},{id:"q002",word:"  ",definition:" = (  )  2",example:"   6  4:  = (64)2 = 12",category:"",difficulty:"easy"},{id:"q003",word:"  ",definition:" =   r",example:"   3:  = 9  28.3",category:"",difficulty:"easy"},{id:"q004",word:"  ",definition:" = 2    r",example:"   5:  = 25  31.4",category:"",difficulty:"easy"},{id:"q005",word:" ",definition:" -: a + b = c (c = )",example:" 3 -4:  = (9+16) = 25 = 5",category:"",difficulty:"medium",explanation:"      .          .  :      (3,4,5) -(5,12,13)."},{id:"q006",word:" ",definition:"% = (    )     100",example:"  -200 -250:  = 50200100 = 25%",category:"",difficulty:"medium",explanation:"        . :        ( )."},{id:"q007",word:" ",definition:" =      ",example:"  4, 8, 12: (4+8+12)3 = 243 = 8",category:"",difficulty:"easy"},{id:"q008",word:" --",definition:" =    (d = v  t)",example:'  60 "  3 :  = 180 "',category:" ",difficulty:"easy"},{id:"q009",word:"  (a+b)",definition:"(a+b) = a + 2ab + b",example:"(x+3) = x + 6x + 9",category:"",difficulty:"medium"},{id:"q010",word:"  (a-b)",definition:"(a-b) = a - 2ab + b",example:"(x-4) = x - 8x + 16",category:"",difficulty:"medium"},{id:"q011",word:"  a-b",definition:"a - b = (a+b)(a-b)",example:"x - 9 = (x+3)(x-3)",category:"",difficulty:"medium"},{id:"q012",word:" ",definition:" =       ",example:"  6 : 16  16.7%",category:"",difficulty:"easy"},{id:"q013",word:" ",definition:" =      (I = P  r  t)",example:"1000 -5% -3 :  = 10000.053 = 150",category:"",difficulty:"medium"},{id:"q014",word:" ",definition:" m = (y-y)  (x-x)",example:" (1,2) -(3,6): m = (6-2)(3-1) = 42 = 2",category:"",difficulty:"medium"},{id:"q015",word:" ",definition:"   = 180",example:"   60 -80:   = 180-60-80 = 40",category:"",difficulty:"easy"},{id:"q016",word:" ",definition:" =     ",example:" 435:  = 60 ' ",category:"",difficulty:"easy"},{id:"q017",word:" ",definition:" A  -a  -B -b , : 1(1/a + 1/b)",example:"A  -3 , B -6:  = 1(1/3+1/6) = 2 ",category:" ",difficulty:"hard"},{id:"q018",word:"",definition:" a/b = c/d  ad = bc ( )",example:"3/4 = x/12  4x = 36  x = 9",category:"",difficulty:"medium"},{id:"q019",word:" ",definition:"(ab) = a  b | (a/b) = a  b",example:"75 = (253) = 53",category:"",difficulty:"medium"},{id:"q020",word:"  ",definition:"C(n,k) = n!  (k!  (n-k)!)     k  n",example:" 2  5: C(5,2) = 5!(2!3!) = 10",category:"",difficulty:"hard"},{id:"q021",word:"  ",definition:" = (n-2)  180 (n =  )",example:"   (5 ) = (5-2)180 = 540",category:"",difficulty:"medium"},{id:"q022",word:"  ",definition:"       ",example:"     40 -70    = 110",category:"",difficulty:"medium"},{id:"q023",word:" ",definition:"  = n(n-3)  2",example:" (n=6):  = 6(3)2 = 9",category:"",difficulty:"hard"},{id:"q024",word:" ",definition:" = ( ' +  ')    2",example:" 4 -6,  5:  = (4+6)52 = 25",category:"",difficulty:"medium"},{id:"q025",word:" ",definition:" =   r  h",example:" 2,  5:  = 45 = 20",category:"",difficulty:"hard"},{id:"q026",word:"   ",definition:"  = 6  a (a =  )",example:" 3:   = 69 = 54",category:"",difficulty:"medium"},{id:"q027",word:"  ()",definition:"  =     ",example:' 100 " -2 :   = 50 "',category:" ",difficulty:"easy"},{id:"q028",word:" ",definition:" = (11 + 22)   ",example:" 80 ( 2)  90 ( 1): (160+90)3 = 83.3",category:"",difficulty:"hard"},{id:"q029",word:" ",definition:" =      ",example:"20   -100  :  = 20120 = 16.7%",category:" ",difficulty:"hard"},{id:"q030",word:"  a  a",definition:"a  a = a",example:"2  2 = 2 = 32",category:"",difficulty:"easy"},{id:"q031",word:"  (a)",definition:"(a) = a",example:"(3) = 3 = 729",category:"",difficulty:"medium"},{id:"q032",word:"  (a/b)",definition:"(a/b) = a / b",example:"(9/16) = 3/4",category:"",difficulty:"medium"},{id:"q033",word:"  |x|",definition:"   -0    ( )",example:"|-5| = 5",category:"",difficulty:"easy"},{id:"q034",word:" ",definition:"   ' '  2:3,  -2x -3x",example:"  50   2:3 -> 5x=50 -> x=10 -> 20 -30 ",category:" ",difficulty:"medium"},{id:"q035",word:" ",definition:"    -1 (2, 3, 5, 7, 11, 13...)",example:"     2. 1  .",category:"",difficulty:"easy"},{id:"q036",word:"   ",definition:'  "     ',example:"3x - 5 = 10 -> 3x = 15 -> x = 5",category:"",difficulty:"easy"},{id:"q037",word:" ",definition:"  ",example:"         ",category:"",difficulty:"easy"},{id:"q038",word:" ",definition:"  180 ",example:"    70,    110",category:"",difficulty:"easy"},{id:"q039",word:"  ",definition:"  = (  360)    r",example:"  90   2:  = (90/360)4 = ",category:"",difficulty:"hard"},{id:"q040",word:" ",definition:"       / ",example:"1/2 + 1/3 = 3/6 + 2/6 = 5/6",category:"",difficulty:"easy"},{id:"q041",word:" ()",definition:" =    (W = P  t)",example:"  10  -2 :  = 5  ",category:" ",difficulty:"medium"},{id:"q042",word:" ",definition:"   1 (n, n+1, n+2...)",example:" 3    15: n + (n+1) + (n+2) = 15 -> 3n+3=15 -> n=4",category:"",difficulty:"medium"},{id:"q043",word:" ",definition:' "   / ',example:"x+y=5, x-y=1 -> 2x=6 -> x=3, y=2",category:"",difficulty:"medium"},{id:"q044",word:" -",definition:"   -2   (1, 3, 5, 7...)",example:"   -    (3+5=8)",category:"",difficulty:"easy"},{id:"q045",word:"  /",definition:"   /   ",example:"  ,      ",category:"",difficulty:"hard"},{id:"q046",word:" ",definition:"  ,      ",example:"   6 -8: (68)2 = 24",category:"",difficulty:"medium"},{id:"q047",word:" ",definition:"   ( )",example:"    'a'  a2",category:"",difficulty:"medium"},{id:"q048",word:" ",definition:"       ",example:"     3, 4, 8? ,  3+4 < 8",category:"",difficulty:"medium"},{id:"q049",word:" ",definition:"     30, 60, 90 (  1 : 3 : 2)",example:"   -30  4,    8    43",category:"",difficulty:"hard"},{id:"q050",word:" ",definition:"     ( 45, 45, 90,   1 : 1 : 2)",example:"   5,   52",category:"",difficulty:"hard"},{id:"q051",word:" ",definition:"  -9     -9",example:" 126  -9? 1+2+6=9. .",category:"",difficulty:"easy"},{id:"q052",word:" ",definition:"  -3     -3",example:" 111  -3? 1+1+1=3. .",category:"",difficulty:"easy"},{id:"q053",word:" ",definition:"   0  0.  -0  . 0   .",example:"5  0 = 0 | 5 / 0 = ",category:"",difficulty:"easy"},{id:"q054",word:" ",definition:"     ( )",example:"  ->    ",category:" ",difficulty:"medium"},{id:"q055",word:" ",definition:"  '', '', ''",example:"   ,  -0.",category:"",difficulty:"easy"},{id:"q056",word:"    ",definition:" = ((n-2)  180)  n",example:"   = (4180)6 = 120",category:"",difficulty:"medium"},{id:"q057",word:" ",definition:"  ,    ,     ",example:"   60 -120,       180",category:"",difficulty:"medium"},{id:"q058",word:" ",definition:" =    ",example:" 10,  4:  = 40",category:"",difficulty:"easy"},{id:"q059",word:" ",definition:"    ,  ,     ",example:"   10 -15: (1015)2 = 75",category:"",difficulty:"hard"},{id:"q060",word:" ",definition:" d = 2  r ()",example:"   14,   7",category:"",difficulty:"easy"}],Ic=[{id:"e001",word:"The scientist's discovery was ___; it changed everything we knew about physics.",definition:"revolutionary  ",example:": revolutionary (=     )",category:"Sentence Completion",difficulty:"medium"},{id:"e002",word:"Despite the ___ weather, the hikers decided to continue their journey.",definition:"treacherous  , ",example:": treacherous (= ,     )",category:"Sentence Completion",difficulty:"medium"},{id:"e003",word:"The CEO's ___ leadership style encouraged employees to share their ideas freely.",definition:"inclusive  , ",example:": inclusive (=    )",category:"Sentence Completion",difficulty:"medium"},{id:"e004",word:"The ancient ruins were so ___ that archaeologists spent decades studying them.",definition:"enigmatic  , ",example:": enigmatic (= ,   )",category:"Sentence Completion",difficulty:"hard"},{id:"e005",word:"Her ___ attitude toward failure helped her learn from every mistake.",definition:"resilient  ,  ",example:": resilient (=  ,  )",category:"Sentence Completion",difficulty:"easy"},{id:"e006",word:"The documentary presented a ___ view of the conflict, showing both sides equally.",definition:"balanced  , ",example:": balanced (=     )",category:"Sentence Completion",difficulty:"easy"},{id:"e007",word:"The new policy was met with ___ opposition from the local community.",definition:"fierce  , ",example:": fierce (=   )",category:"Sentence Completion",difficulty:"medium"},{id:"e008",word:"The professor's lecture was so ___ that students struggled to stay awake.",definition:"monotonous  , ",example:": monotonous (=     )",category:"Sentence Completion",difficulty:"medium"},{id:"e009",word:"The charity's ___ efforts to feed the homeless were recognized with a national award.",definition:"commendable   ",example:": commendable (=   )",category:"Sentence Completion",difficulty:"hard"},{id:"e010",word:"After years of ___ research, the team finally found a cure for the disease.",definition:"rigorous  , ",example:": rigorous (=   )",category:"Sentence Completion",difficulty:"medium"},{id:"e011",word:"ABUNDANT means the same as:",definition:"plentiful  , ",example:"Restatement: abundant  plentiful ( =  )",category:"Restatement",difficulty:"easy"},{id:"e012",word:"CONCISE means the same as:",definition:"brief  , ",example:"Restatement: concise  brief ( =  )",category:"Restatement",difficulty:"easy"},{id:"e013",word:"DIMINISH means the same as:",definition:"decrease  , ",example:"Restatement: diminish  decrease ( = )",category:"Restatement",difficulty:"easy"},{id:"e014",word:"FACILITATE means the same as:",definition:"enable / make easier  , ",example:"Restatement: facilitate  make easier ( = /)",category:"Restatement",difficulty:"medium"},{id:"e015",word:"INEVITABLE means the same as:",definition:"unavoidable   ",example:"Restatement: inevitable  unavoidable ( =   )",category:"Restatement",difficulty:"medium"},{id:"e016",word:"AMBIGUOUS means the same as:",definition:"unclear / open to interpretation   , -",example:"Restatement: ambiguous  unclear ( =    )",category:"Restatement",difficulty:"medium"},{id:"e017",word:"PROFOUND means the same as:",definition:"deep / significant  , ",example:"Restatement: profound  deep ( =   )",category:"Restatement",difficulty:"medium"},{id:"e018",word:"SCRUTINIZE means the same as:",definition:"examine carefully   ",example:"Restatement: scrutinize  examine carefully ( =  )",category:"Restatement",difficulty:"hard"},{id:"e019",word:"ALLEVIATE means the same as:",definition:"relieve / reduce  , ",example:"Restatement: alleviate  relieve ( =  /)",category:"Restatement",difficulty:"hard"},{id:"e020",word:"METICULOUS means the same as:",definition:"very careful / precise  , ",example:"Restatement: meticulous  very careful ( =   )",category:"Restatement",difficulty:"medium"},{id:"e021",word:"The company's profits have been ___, showing consistent growth over the last five years.",definition:"robust  , ",example:": robust (=   )",category:"Sentence Completion",difficulty:"medium"},{id:"e022",word:"It is important to ___ between facts and opinions when reading the news.",definition:"distinguish  , ",example:": distinguish (=    )",category:"Sentence Completion",difficulty:"easy"},{id:"e023",word:"The speaker's voice was barely ___ over the loud noise of the construction site.",definition:"audible  ",example:": audible (=  )",category:"Sentence Completion",difficulty:"medium"},{id:"e024",word:"Her explanation was so ___ that even those with no prior knowledge could understand it.",definition:"lucid  , ",example:": lucid (=  )",category:"Sentence Completion",difficulty:"medium"},{id:"e025",word:"The desert is a ___ environment, where very few plants and animals can survive.",definition:"harsh  , ",example:": harsh (=    )",category:"Sentence Completion",difficulty:"easy"},{id:"e026",word:"The team worked in ___ to finish the project on time.",definition:"collaboration   ",example:": collaboration (=  )",category:"Sentence Completion",difficulty:"easy"},{id:"e027",word:"He felt a sense of ___ after completing the difficult marathon.",definition:"accomplishment  ",example:": accomplishment (=   )",category:"Sentence Completion",difficulty:"easy"},{id:"e028",word:"The evidence against the suspect was ___, leading to a quick conviction.",definition:"overwhelming  , ",example:": overwhelming (=   )",category:"Sentence Completion",difficulty:"medium"},{id:"e029",word:"The city has undergone a ___ transformation over the last decade.",definition:"remarkable  ,  ",example:": remarkable (=   )",category:"Sentence Completion",difficulty:"medium"},{id:"e030",word:"She has a ___ talent for playing the piano, even without formal training.",definition:"natural  ",example:": natural (=  )",category:"Sentence Completion",difficulty:"easy"},{id:"e031",word:"VOCAL means the same as:",definition:"spoken / oral  , ",example:"Restatement: vocal  spoken ( =  /)",category:"Restatement",difficulty:"easy"},{id:"e032",word:"RELUCTANT means the same as:",definition:"unwilling   , ",example:"Restatement: reluctant  unwilling ( =    )",category:"Restatement",difficulty:"medium"},{id:"e033",word:"ADHERE means the same as:",definition:"stick to / follow   -,  -",example:"Restatement: adhere  stick to ( = /)",category:"Restatement",difficulty:"medium"},{id:"e034",word:"DIVERSE means the same as:",definition:"varied  ",example:"Restatement: diverse  varied ( =   )",category:"Restatement",difficulty:"easy"},{id:"e035",word:"PRUDENT means the same as:",definition:"wise / cautious  , ",example:"Restatement: prudent  cautious ( =   )",category:"Restatement",difficulty:"medium"},{id:"e036",word:"ADVOCATE means the same as:",definition:"support / promote  , ",example:"Restatement: advocate  support ( =  /)",category:"Restatement",difficulty:"medium"},{id:"e037",word:"TRANSIENT means the same as:",definition:"temporary  , ",example:"Restatement: transient  temporary ( =  )",category:"Restatement",difficulty:"hard"},{id:"e038",word:"COHERENT means the same as:",definition:"logical / clear  , ",example:"Restatement: coherent  logical ( =   )",category:"Restatement",difficulty:"medium"},{id:"e039",word:"EVADE means the same as:",definition:"avoid / escape  , ",example:"Restatement: evade  avoid ( =  /)",category:"Restatement",difficulty:"medium"},{id:"e040",word:"OBSTACLE means the same as:",definition:"barrier / hurdle  ",example:"Restatement: obstacle  barrier ( =   )",category:"Restatement",difficulty:"easy"},{id:"e041",word:"The weather forecast was ___, as the sun shone despite predictions of rain.",definition:"inaccurate   ",example:": inaccurate (=    )",category:"Sentence Completion",difficulty:"easy"},{id:"e042",word:"She gave a ___ performance that left the audience in awe.",definition:"stellar  , ",example:": stellar (=  )",category:"Sentence Completion",difficulty:"medium"},{id:"e043",word:"The document was so ___ that even experts found it difficult to decipher.",definition:"cryptic  , ",example:": cryptic (=  , )",category:"Sentence Completion",difficulty:"hard"},{id:"e044",word:"He is ___ for his kindness and willingness to help others.",definition:"renowned  , ",example:": renowned (=    )",category:"Sentence Completion",difficulty:"medium"},{id:"e045",word:"The new manager implemented a ___ of changes to improve efficiency.",definition:"host  ,  (changes)",example:": host (=    )",category:"Sentence Completion",difficulty:"hard"},{id:"e046",word:"The mountains were ___ in fog, making them nearly invisible.",definition:"shrouded  , ",example:": shrouded (=  )",category:"Sentence Completion",difficulty:"medium"},{id:"e047",word:"Her energy and enthusiasm are ___, inspiring everyone around her.",definition:"infectious   ( )",example:": infectious (=     )",category:"Sentence Completion",difficulty:"medium"},{id:"e048",word:"The treaty aimed to ___ peace between the two warring nations.",definition:"establish  , ",example:": establish (=   )",category:"Sentence Completion",difficulty:"easy"},{id:"e049",word:"The witness provided a ___ account of the events that took place.",definition:"vivid  ,  ",example:": vivid (=   )",category:"Sentence Completion",difficulty:"medium"},{id:"e050",word:"Despite the challenges, the project remains ___ and on track for completion.",definition:"viable  , -",example:": viable (=   )",category:"Sentence Completion",difficulty:"hard"},{id:"e051",word:"CONVENTIONAL means the same as:",definition:"traditional / standard  , ",example:"Restatement: conventional  traditional ( =  )",category:"Restatement",difficulty:"medium"},{id:"e052",word:"AUTHENTIC means the same as:",definition:"genuine / real  , ",example:"Restatement: authentic  genuine ( =  )",category:"Restatement",difficulty:"easy"},{id:"e053",word:"CUMULATIVE means the same as:",definition:"increasing / collective  ",example:"Restatement: cumulative  increasing by additions ( )",category:"Restatement",difficulty:"medium"},{id:"e054",word:"VIGILANT means the same as:",definition:"watchful / alert  , ",example:"Restatement: vigilant  watchful ( =   )",category:"Restatement",difficulty:"medium"},{id:"e055",word:"ELABORATE means the same as:",definition:"detailed / complex  , ",example:"Restatement: elaborate  detailed ( =   )",category:"Restatement",difficulty:"medium"},{id:"e056",word:"PLAUSIBLE means the same as:",definition:"believable / reasonable  ,   ",example:"Restatement: plausible  believable ( =  )",category:"Restatement",difficulty:"hard"},{id:"e057",word:"ADVERSARY means the same as:",definition:"opponent / enemy  , ",example:"Restatement: adversary  opponent ( =   )",category:"Restatement",difficulty:"medium"},{id:"e058",word:"TENACIOUS means the same as:",definition:"persistent / stubborn  ,  ",example:"Restatement: tenacious  persistent ( =  )",category:"Restatement",difficulty:"hard"},{id:"e059",word:"AESTHETIC means the same as:",definition:"appealing to beauty  ,  ",example:"Restatement: aesthetic  artistic ( =   )",category:"Restatement",difficulty:"medium"},{id:"e060",word:"PROLIFIC means the same as:",definition:"productive  , ",example:"Restatement: prolific  productive ( =   )",category:"Restatement",difficulty:"hard"}],C2=({questions:t,onClose:e,onShowExplanation:n})=>{const[r,i]=O.useState(0),[s,o]=O.useState({}),[a,c]=O.useState(1200),[u,h]=O.useState(!1),m=O.useMemo(()=>t.map(T=>T.definition||T.word||T.answer||"").filter(Boolean),[t]);O.useEffect(()=>{const T=setInterval(()=>{c(N=>N<=1?(h(!0),clearInterval(T),0):N-1)},1e3);return()=>clearInterval(T)},[]);const p=T=>{const N=Math.floor(T/60),V=T%60;return`${N.toString().padStart(2,"0")}:${V.toString().padStart(2,"0")}`},x=T=>{o({...s,[t[r].id]:T})},S=()=>{r<t.length-1?i(r+1):h(!0)},b=()=>{r>0&&i(r-1)},P=()=>{let T=0;return t.forEach(N=>{s[N.id]===N.correctAnswer&&T++}),{correct:T,total:t.length,percentage:Math.round(T/t.length*100)}};if(u){const T=P();return d.jsxs(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"px-5 pt-12 pb-32 flex flex-col items-center gap-8 text-center",children:[d.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-electric-blue to-neon-purple rounded-3xl flex items-center justify-center shadow-glow-blue rotate-3",children:d.jsx(I2,{className:"w-12 h-12 text-white"})}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-4xl font-black text-white mb-2",children:" !"}),d.jsx("p",{className:"text-text-secondary",children:"     "})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[d.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-2xl",children:[d.jsxs("div",{className:"text-3xl font-black text-electric-blue",children:[T.correct,"/",T.total]}),d.jsx("div",{className:"text-sm text-text-secondary",children:" "})]}),d.jsxs("div",{className:"bg-white/5 border border-white/10 p-6 rounded-2xl",children:[d.jsxs("div",{className:"text-3xl font-black text-neon-purple",children:[T.percentage,"%"]}),d.jsx("div",{className:"text-sm text-text-secondary",children:" "})]})]}),d.jsxs("div",{className:"w-full space-y-3 mt-4",children:[d.jsx("h3",{className:"text-right font-bold text-lg pr-1",children:" "}),d.jsx("div",{className:"max-h-[300px] overflow-y-auto space-y-2 pr-2 custom-scrollbar",children:t.map((N,V)=>{const D=s[N.id]===N.correctAnswer,E=!!s[N.id];return d.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/5 group",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-2 h-2 rounded-full ${D?"bg-emerald-400 shadow-[0_0_8px_rgba(52,211,153,0.5)]":"bg-neon-pink shadow-[0_0_8px_rgba(255,0,119,0.5)]"}`}),d.jsxs("span",{className:"font-bold text-sm",children:[" ",V+1]})]}),d.jsxs("div",{className:"flex items-center gap-4",children:[!D&&E&&d.jsx("button",{onClick:()=>n==null?void 0:n(N),className:"text-[10px] font-black text-electric-blue hover:text-white transition-colors bg-electric-blue/10 px-2 py-1 rounded-md border border-electric-blue/30",children:" ? "}),d.jsx("div",{className:"text-xs font-medium text-text-secondary",children:E?D?"":"":" "})]})]},N.id)})})]}),d.jsxs("button",{onClick:e,className:"w-full py-4 mt-8 rounded-2xl bg-gradient-to-r from-electric-blue to-neon-purple text-charcoal font-black text-lg shadow-glow-blue flex items-center justify-center gap-3",children:[d.jsx(EE,{className:"w-6 h-6"}),"  "]})]})}const w=t[r],y=O.useMemo(()=>{if(w.options&&w.options.length>0)return w.options;const T=w.definition||w.correctAnswer||"",N=[...m].filter(V=>V!==T).sort(()=>Math.random()-.5).slice(0,3);return[T,...N].sort(()=>Math.random()-.5)},[r,w.id,m]);return d.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},className:"px-5 pt-8 pb-32 min-h-screen flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-muted font-bold hover:text-white transition-colors",children:[d.jsx(ar,{className:"w-5 h-5 translate-x-1"}),d.jsx("span",{children:" "})]}),d.jsxs("div",{className:"flex items-center gap-3 bg-white/5 px-4 py-2 rounded-xl border border-white/10",children:[d.jsx(SE,{className:`w-5 h-5 ${a<60?"text-neon-pink animate-pulse":"text-electric-blue"}`}),d.jsx("span",{className:`font-mono text-xl font-bold ${a<60?"text-neon-pink":"text-white"}`,children:p(a)})]})]}),d.jsxs("div",{className:"mb-10",children:[d.jsxs("div",{className:"flex justify-between text-xs font-black text-text-muted mb-2 uppercase tracking-widest",children:[d.jsxs("span",{children:[" ",r+1,"  ",t.length]}),d.jsxs("span",{children:[Math.round((r+1)/t.length*100),"%"]})]}),d.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:d.jsx(W.div,{initial:{width:0},animate:{width:`${(r+1)/t.length*100}%`},className:"h-full bg-gradient-to-r from-neon-purple to-electric-blue shadow-glow-blue"})})]}),d.jsxs("div",{className:"flex-1 flex flex-col pt-4",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("div",{className:"text-sm font-bold text-neon-purple uppercase tracking-[0.2em] mb-4",children:w.category}),d.jsx("h2",{className:"text-4xl font-black text-white mb-6 leading-tight",children:w.word||w.question})]}),d.jsx("div",{className:"space-y-4",children:y.map((T,N)=>d.jsxs("button",{onClick:()=>x(T),className:`w-full p-5 rounded-2xl border transition-all text-right flex items-center justify-between group ${s[w.id]===T?"bg-electric-blue/20 border-electric-blue text-white shadow-glow-blue":"bg-white/5 border-white/10 text-text-secondary hover:bg-white/10 hover:border-white/20"}`,children:[d.jsx("span",{className:"font-bold text-lg leading-relaxed",children:T}),d.jsx("div",{className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all ${s[w.id]===T?"bg-electric-blue border-electric-blue text-charcoal":"border-white/20 group-hover:border-white/40"}`,children:s[w.id]===T&&d.jsx(S2,{className:"w-4 h-4"})})]},N))})]}),d.jsxs("div",{className:"mt-12 flex gap-4",children:[d.jsxs("button",{onClick:b,disabled:r===0,className:"flex-1 py-4 bg-white/5 border border-white/10 rounded-2xl flex items-center justify-center gap-2 font-bold text-text-secondary disabled:opacity-30 disabled:cursor-not-allowed hover:bg-white/10 transition-colors",children:[d.jsx(Ni,{className:"w-5 h-5"}),""]}),d.jsxs("button",{onClick:S,className:"flex-[2] py-4 bg-gradient-to-r from-electric-blue to-neon-purple rounded-2xl flex items-center justify-center gap-2 font-black text-charcoal shadow-glow-blue hover:brightness-110 active:scale-95 transition-all",children:[r===t.length-1?" ":" ",r!==t.length-1&&d.jsx(Ni,{className:"w-5 h-5"})]})]})]})},k2=({onNext:t,onGoogleLogin:e})=>d.jsxs(W.div,{initial:{opacity:0,y:40},animate:{opacity:1,y:0},exit:{opacity:0,y:-40},transition:{duration:.5,ease:"easeOut"},className:"flex flex-col items-center justify-center h-full px-6 text-center",children:[d.jsxs(W.div,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2,duration:.6,type:"spring",stiffness:120},className:"relative mb-8",children:[d.jsx("div",{className:"w-28 h-28 rounded-3xl bg-gradient-to-br from-electric-blue via-neon-purple to-neon-pink p-0.5 shadow-glow-blue",children:d.jsx("div",{className:"w-full h-full rounded-3xl bg-charcoal flex items-center justify-center",children:d.jsx("span",{className:"text-5xl",children:""})})}),d.jsx(W.div,{animate:{rotate:360},transition:{duration:4,repeat:1/0,ease:"linear"},className:"absolute inset-0",style:{transformOrigin:"center"},children:d.jsx("div",{className:"absolute -top-2 left-1/2 -translate-x-1/2 w-4 h-4 rounded-full bg-electric-blue shadow-glow-blue"})})]}),d.jsx(W.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"text-5xl font-black bg-gradient-to-r from-electric-blue via-neon-purple to-neon-pink bg-clip-text text-transparent tracking-tighter mb-3",children:"Bina"}),d.jsx(W.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.55},className:"text-xl font-bold text-text-primary mb-2",children:"   AI"}),d.jsx(W.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.65},className:"text-text-secondary text-sm leading-relaxed mb-12 max-w-xs",children:"           "}),d.jsx(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.75},className:"flex flex-wrap justify-center gap-2 mb-12",children:[{icon:"",label:"AI "},{icon:"",label:" "},{icon:"",label:" "}].map(n=>d.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1.5 rounded-full bg-white/5 border border-white/10 text-xs font-bold text-text-secondary",children:[d.jsx("span",{children:n.icon}),d.jsx("span",{children:n.label})]},n.label))}),d.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"w-full max-w-xs mt-4",children:[d.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[d.jsx("div",{className:"flex-1 h-px bg-white/10"}),d.jsx("span",{className:"text-text-muted text-[10px] font-bold uppercase tracking-widest",children:""}),d.jsx("div",{className:"flex-1 h-px bg-white/10"})]}),d.jsxs("button",{onClick:e,className:"w-full py-3 rounded-2xl bg-white/5 border border-white/10 text-white font-bold text-sm flex items-center justify-center gap-3 hover:bg-white/10 transition-all",children:[d.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",className:"w-5 h-5",alt:"Google"}),"  Google"]})]})]},"welcome"),Yl=500,Sh=800,P2=({profile:t,onChange:e,onNext:n,onBack:r})=>{var h;const i=(t.targetScore-Yl)/(Sh-Yl)*100,s=m=>m>=750?"from-cyber-yellow to-neon-pink":m>=680?"from-electric-blue to-neon-purple":"from-neon-purple to-neon-pink",o=m=>m>=750?" ":m>=700?"  ":m>=650?" ":" ",a=[15,30,45,60,90],c=t.examDate?Math.max(0,Math.ceil((new Date(t.examDate).getTime()-Date.now())/(1e3*60*60*24))):null,u=t.examDate&&t.targetScore&&((h=t.name)==null?void 0:h.trim());return d.jsxs(W.div,{initial:{opacity:0,x:60},animate:{opacity:1,x:0},exit:{opacity:0,x:-60},transition:{duration:.4,ease:"easeOut"},className:"flex flex-col h-full px-6 pt-4 pb-6 overflow-y-auto",children:[d.jsxs("div",{className:"mb-8",children:[d.jsxs("button",{onClick:r,className:"text-text-muted hover:text-text-primary transition-colors mb-6 text-sm font-bold flex items-center gap-1",children:[d.jsx(ar,{className:"w-4 h-4"}),d.jsx("span",{children:""})]}),d.jsx("h2",{className:"text-3xl font-black text-text-primary mb-1",children:"  "}),d.jsx("p",{className:"text-text-secondary text-sm",children:"     "})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(pu,{className:"w-5 h-5 text-electric-blue"}),d.jsx("span",{className:"font-bold text-sm",children:" "})]}),d.jsx("input",{type:"text",placeholder:"  ?",value:t.name,onChange:m=>e({name:m.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3.5 text-text-primary font-bold text-sm focus:outline-none focus:border-electric-blue/50 transition-colors"})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx(Js,{className:"w-5 h-5 text-electric-blue"}),d.jsx("span",{className:"font-bold text-sm",children:" "})]}),d.jsx("div",{className:`text-2xl font-black bg-gradient-to-r ${s(t.targetScore)} bg-clip-text text-transparent`,children:t.targetScore})]}),d.jsxs("div",{className:"relative mb-3",children:[d.jsx("div",{className:"h-3 bg-white/5 rounded-full overflow-hidden border border-white/10",children:d.jsx(W.div,{className:`h-full bg-gradient-to-r ${s(t.targetScore)} rounded-full shadow-glow-blue`,style:{width:`${i}%`},layout:!0,transition:{type:"spring",stiffness:300,damping:30}})}),d.jsx("input",{type:"range",min:Yl,max:Sh,step:10,value:t.targetScore,onChange:m=>e({targetScore:Number(m.target.value)}),className:"absolute inset-0 w-full opacity-0 cursor-pointer h-3"})]}),d.jsxs("div",{className:"flex justify-between text-xs font-bold text-text-muted",children:[d.jsx("span",{children:Yl}),d.jsx("span",{className:`font-black text-sm bg-gradient-to-r ${s(t.targetScore)} bg-clip-text text-transparent`,children:o(t.targetScore)}),d.jsx("span",{children:Sh})]})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(rl,{className:"w-5 h-5 text-neon-purple"}),d.jsx("span",{className:"font-bold text-sm",children:" "}),c!==null&&d.jsxs("span",{className:"mr-auto text-xs font-bold text-neon-purple bg-neon-purple/10 px-2 py-0.5 rounded-full",children:[c," "]})]}),d.jsx("input",{type:"date",value:t.examDate,min:new Date().toISOString().split("T")[0],onChange:m=>e({examDate:m.target.value}),className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-3.5 text-text-primary font-bold text-sm focus:outline-none focus:border-neon-purple/50 transition-colors [color-scheme:dark]"})]}),d.jsxs("div",{className:"mb-10",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[d.jsx(_E,{className:"w-5 h-5 text-cyber-yellow"}),d.jsx("span",{className:"font-bold text-sm",children:"  "})]}),d.jsx("div",{className:"grid grid-cols-5 gap-2",children:a.map(m=>d.jsxs("button",{onClick:()=>e({dailyMinutes:m}),className:`py-3 rounded-xl text-xs font-black transition-all ${t.dailyMinutes===m?"bg-gradient-to-b from-cyber-yellow to-neon-pink text-charcoal shadow-glow-yellow":"bg-white/5 border border-white/10 text-text-secondary hover:bg-white/10"}`,children:[m,""]},m))})]}),d.jsxs(W.button,{whileHover:{scale:u?1.03:1},whileTap:{scale:u?.97:1},onClick:u?n:void 0,disabled:!u,className:`w-full py-5 rounded-2xl font-black text-lg flex items-center justify-center gap-3 transition-all ${u?"bg-gradient-to-r from-electric-blue to-neon-purple text-charcoal shadow-glow-blue":"bg-white/5 border border-white/10 text-text-muted cursor-not-allowed"}`,children:[d.jsx(Bt,{className:"w-5 h-5"}),d.jsx("span",{children:"  "})]})]},"goal")},Ih=[{icon:E2,label:"    ...",color:"text-electric-blue"},{icon:Js,label:"   ...",color:"text-neon-purple"},{icon:rl,label:"   ...",color:"text-cyber-yellow"},{icon:Fs,label:"   ...",color:"text-neon-pink"},{icon:Gp,label:"   ...",color:"text-emerald-400"}],N2=({profile:t,onComplete:e})=>{const[n,r]=O.useState(0),[i,s]=O.useState(!1);O.useEffect(()=>{let h=0;const m=setInterval(()=>{h++,r(h),h>=Ih.length&&(clearInterval(m),setTimeout(()=>s(!0),600))},700);return()=>clearInterval(m)},[]);const o=t.examDate?Math.max(0,Math.ceil((new Date(t.examDate).getTime()-Date.now())/(1e3*60*60*24))):90,a=Math.ceil(o/7),c=Math.round(t.dailyMinutes/5),u=t.examDate?new Date(t.examDate).toLocaleDateString("he-IL",{day:"numeric",month:"long",year:"numeric"}):"";return d.jsx(W.div,{initial:{opacity:0,x:60},animate:{opacity:1,x:0},exit:{opacity:0,x:-60},transition:{duration:.4,ease:"easeOut"},className:"flex flex-col h-full px-6 pt-8 pb-6 justify-center",children:d.jsx(In,{mode:"wait",children:i?d.jsxs(W.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,type:"spring",stiffness:120},className:"flex flex-col items-center",children:[d.jsx(W.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.1,type:"spring",stiffness:200},className:"w-20 h-20 rounded-full bg-gradient-to-br from-electric-blue to-neon-purple flex items-center justify-center mb-6 shadow-glow-blue",children:d.jsx(mu,{className:"w-10 h-10 text-white",strokeWidth:3})}),d.jsx(W.h2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-2xl font-black text-text-primary mb-1 text-center",children:"  ! "}),d.jsxs(W.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},className:"text-text-secondary text-sm text-center mb-8",children:[a,"     "]}),d.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.35},className:"w-full backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl p-5 mb-8 space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[d.jsx(Js,{className:"w-4 h-4 text-electric-blue"}),d.jsx("span",{children:" "})]}),d.jsx("span",{className:"font-black text-xl bg-gradient-to-r from-electric-blue to-neon-purple bg-clip-text text-transparent",children:t.targetScore})]}),d.jsx("div",{className:"h-px bg-white/5"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[d.jsx(rl,{className:"w-4 h-4 text-neon-purple"}),d.jsx("span",{children:" "})]}),d.jsx("span",{className:"font-bold text-sm text-text-primary",children:u})]}),d.jsx("div",{className:"h-px bg-white/5"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[d.jsx(Fs,{className:"w-4 h-4 text-cyber-yellow"}),d.jsx("span",{children:" "})]}),d.jsxs("span",{className:"font-bold text-sm text-cyber-yellow",children:[c," "]})]}),d.jsx("div",{className:"h-px bg-white/5"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-text-secondary",children:[d.jsx(_E,{className:"w-4 h-4 text-neon-pink"}),d.jsx("span",{children:" "})]}),d.jsxs("span",{className:"font-bold text-sm text-neon-pink",children:[t.dailyMinutes," "]})]})]}),d.jsxs(W.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},whileHover:{scale:1.04},whileTap:{scale:.96},onClick:e,className:"w-full py-5 rounded-2xl bg-gradient-to-r from-electric-blue to-neon-purple text-charcoal font-black text-lg shadow-glow-blue flex items-center justify-center gap-3",children:[d.jsx("span",{children:"  !"}),d.jsx(Ni,{className:"w-5 h-5"})]})]},"result"):d.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,scale:.95},className:"flex flex-col items-center",children:[d.jsx(W.div,{animate:{scale:[1,1.08,1],opacity:[.8,1,.8]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"w-24 h-24 rounded-3xl bg-gradient-to-br from-electric-blue/20 to-neon-purple/20 border border-electric-blue/30 flex items-center justify-center mb-8 shadow-glow-blue",children:d.jsx("span",{className:"text-4xl",children:""})}),d.jsx("h2",{className:"text-2xl font-black text-text-primary mb-2 text-center",children:"    "}),d.jsx("p",{className:"text-text-secondary text-sm text-center mb-10",children:"AI      "}),d.jsx("div",{className:"w-full space-y-3 mb-8",children:Ih.map((h,m)=>{const p=h.icon,x=m===n-1,S=m<n-1,b=m>=n;return d.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:b?.3:1,x:0},transition:{delay:m*.1},className:`flex items-center gap-3 p-3 rounded-xl transition-all ${x?"bg-white/5 border border-white/10":""}`,children:[d.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${S?"bg-emerald-400/20":x?"bg-white/10":"bg-white/5"}`,children:S?d.jsx(mu,{className:"w-4 h-4 text-emerald-400"}):d.jsx(p,{className:`w-4 h-4 ${x?h.color:"text-text-muted"}`})}),d.jsx("span",{className:`text-sm font-bold ${S?"text-emerald-400":x?"text-text-primary":"text-text-muted"}`,children:h.label}),x&&d.jsx(W.div,{animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0},className:"mr-auto w-2 h-2 rounded-full bg-electric-blue"})]},m)})}),d.jsx("div",{className:"w-full h-1.5 bg-white/5 rounded-full overflow-hidden",children:d.jsx(W.div,{className:"h-full bg-gradient-to-r from-electric-blue to-neon-purple rounded-full",initial:{width:"0%"},animate:{width:`${n/Ih.length*100}%`},transition:{duration:.5,ease:"easeOut"}})})]},"generating")})},"plan")},R2=({step:t})=>d.jsx("div",{className:"flex items-center justify-center gap-2 pt-4 pb-2",children:[0,1,2].map(e=>d.jsx(W.div,{animate:{width:e===t?24:8,backgroundColor:e===t?"#00D9FF":"rgba(255,255,255,0.15)"},transition:{duration:.3},className:"h-2 rounded-full"},e))}),D2=({onComplete:t,onCancel:e,onGoogleLogin:n,initialProfile:r})=>{const[i,s]=O.useState(r?1:0),[o,a]=O.useState(r||{name:"",targetScore:680,examDate:"",dailyMinutes:30}),c=()=>{i===1&&r&&e?e():s(h=>Math.max(0,h-1))},u=h=>{a(m=>({...m,...h}))};return d.jsxs("div",{className:"fixed inset-0 bg-charcoal z-[200] flex flex-col",dir:"rtl",children:[d.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-[5%] left-[10%] w-72 h-72 bg-electric-blue/8 rounded-full blur-3xl animate-float",style:{animationDuration:"8s"}}),d.jsx("div",{className:"absolute top-[50%] right-[5%] w-80 h-80 bg-neon-purple/8 rounded-full blur-3xl animate-float",style:{animationDelay:"2s",animationDuration:"10s"}}),d.jsx("div",{className:"absolute bottom-[10%] left-[30%] w-56 h-56 bg-neon-pink/5 rounded-full blur-3xl animate-float",style:{animationDelay:"4s",animationDuration:"7s"}})]}),d.jsxs("div",{className:"relative z-10 flex flex-col max-w-md mx-auto w-full h-full",children:[i>0&&d.jsx(R2,{step:i}),d.jsx("div",{className:"flex-1 overflow-hidden",children:d.jsxs(In,{mode:"wait",children:[i===0&&d.jsx(k2,{onNext:()=>s(1),onGoogleLogin:n},"welcome"),i===1&&d.jsx(P2,{profile:o,onChange:u,onNext:()=>s(2),onBack:c},"goal"),i===2&&d.jsx(N2,{profile:o,onComplete:()=>t(o)},"plan")]})})]})]})},IE="bina_notifications",bh={enabled:!1,reminderTime:"20:00",streakReminder:!0,examCountdown:!0,weakPointsNudge:!0};function V2(){try{const t=localStorage.getItem(IE);return t?{...bh,...JSON.parse(t)}:bh}catch{return bh}}function j2(t){localStorage.setItem(IE,JSON.stringify(t))}async function M2(){if(!("serviceWorker"in navigator))return null;try{return await navigator.serviceWorker.register("/sw.js")}catch(t){return console.warn("SW registration failed:",t),null}}async function O2(){return"Notification"in window?Notification.permission==="granted"?"granted":Notification.permission==="denied"?"denied":await Notification.requestPermission():"denied"}function rx(){return"Notification"in window?Notification.permission:"denied"}function L2(){if(Notification.permission!=="granted")return;const t=new Notification("Bina    ",{body:"  !    ",icon:"/icon-192.png",tag:"bina-test"});setTimeout(()=>t.close(),5e3)}function Qf(t,e,n){const r=window.__binaNotifTimer;if(r&&clearTimeout(r),!t.enabled||Notification.permission!=="granted")return;const[i,s]=t.reminderTime.split(":").map(Number),o=new Date,a=new Date;a.setHours(i,s,0,0),a<=o&&a.setDate(a.getDate()+1);const c=a.getTime()-o.getTime(),u=setTimeout(()=>{let h="Bina    !",m="     10   !";if(t.examCountdown&&n){const p=new Date(n),x=Math.ceil((p.getTime()-Date.now())/(1e3*60*60*24));x>0&&x<=60&&(h=`Bina    ${x}  !`,x<7?m="   !    .  !":m="     -800.  !")}else t.weakPointsNudge&&e>5&&(m=` ${e}   .   !`);new Notification(h,{body:m,icon:"/icon-192.png",tag:"bina-daily",requireInteraction:!1}),Qf(t,e,n)},c);window.__binaNotifTimer=u}const F2=()=>{};var ix={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},U2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},AE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,m=(s&3)<<4|a>>4;let p=(a&15)<<2|u>>6,x=u&63;c||(x=64,o||(p=64)),r.push(n[h],n[m],n[p],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):U2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||m==null)throw new B2;const p=s<<2|a>>4;if(r.push(p),u!==64){const x=a<<4&240|u>>2;if(r.push(x),m!==64){const S=u<<6&192|m;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class B2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const z2=function(t){const e=bE(t);return AE.encodeByteArray(e,!0)},gu=function(t){return z2(t).replace(/\./g,"")},CE=function(t){try{return AE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2=()=>$2().__FIREBASE_DEFAULTS__,W2=()=>{if(typeof process>"u"||typeof ix>"u")return;const t=ix.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},q2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&CE(t[1]);return e&&JSON.parse(e)},sd=()=>{try{return F2()||H2()||W2()||q2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},kE=t=>{var e,n;return(n=(e=sd())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},G2=t=>{const e=kE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},PE=()=>{var t;return(t=sd())==null?void 0:t.config},NE=t=>{var e;return(e=sd())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function RE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[gu(JSON.stringify(n)),gu(JSON.stringify(o)),""].join(".")}const la={};function Y2(){const t={prod:[],emulator:[]};for(const e of Object.keys(la))la[e]?t.emulator.push(e):t.prod.push(e);return t}function X2(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let sx=!1;function DE(t,e){if(typeof window>"u"||typeof document>"u"||!Zs(window.location.host)||la[t]===e||la[t]||sx)return;la[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",s=Y2().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,x){p.setAttribute("width","24"),p.setAttribute("id",x),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function u(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{sx=!0,o()},p}function h(p,x){p.setAttribute("id",x),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=X2(r),x=n("text"),S=document.getElementById(x)||document.createElement("span"),b=n("learnmore"),P=document.getElementById(b)||document.createElement("a"),w=n("preprendIcon"),y=document.getElementById(w)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const T=p.element;a(T),h(P,b);const N=u();c(y,w),T.append(y,S,P,N),document.body.appendChild(T)}s?(S.innerText="Preview backend disconnected.",y.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(y.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_t())}function Z2(){var e;const t=(e=sd())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eD(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tD(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nD(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rD(){const t=_t();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iD(){return!Z2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sD(){try{return typeof indexedDB=="object"}catch{return!1}}function oD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="FirebaseError";class lr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aD,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sl.prototype.create)}}class sl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?lD(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new lr(i,a,r)}}function lD(t,e){return t.replace(cD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cD=/\{\$([^}]+)}/g;function uD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ri(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(ox(s)&&ox(o)){if(!Ri(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ox(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ol(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dD(t,e){const n=new hD(t,e);return n.subscribe.bind(n)}class hD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ah),i.error===void 0&&(i.error=Ah),i.complete===void 0&&(i.complete=Ah);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ah(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gn(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new K2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gD(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pD(t){return t===mi?void 0:t}function gD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var se;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(se||(se={}));const vD={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},xD=se.INFO,wD={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},_D=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kp{constructor(e){this.name=e,this._logLevel=xD,this._logHandler=_D,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}}const TD=(t,e)=>e.some(n=>t instanceof n);let ax,lx;function ED(){return ax||(ax=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SD(){return lx||(lx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VE=new WeakMap,Yf=new WeakMap,jE=new WeakMap,Ch=new WeakMap,Qp=new WeakMap;function ID(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Lr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&VE.set(n,t)}).catch(()=>{}),Qp.set(e,t),e}function bD(t){if(Yf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Yf.set(t,e)}let Xf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jE.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Lr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function AD(t){Xf=t(Xf)}function CD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kh(this),e,...n);return jE.set(r,e.sort?e.sort():[e]),Lr(r)}:SD().includes(t)?function(...e){return t.apply(kh(this),e),Lr(VE.get(this))}:function(...e){return Lr(t.apply(kh(this),e))}}function kD(t){return typeof t=="function"?CD(t):(t instanceof IDBTransaction&&bD(t),TD(t,ED())?new Proxy(t,Xf):t)}function Lr(t){if(t instanceof IDBRequest)return ID(t);if(Ch.has(t))return Ch.get(t);const e=kD(t);return e!==t&&(Ch.set(t,e),Qp.set(e,t)),e}const kh=t=>Qp.get(t);function PD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Lr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Lr(o.result),c.oldVersion,c.newVersion,Lr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const ND=["get","getKey","getAll","getAllKeys","count"],RD=["put","add","delete","clear"],Ph=new Map;function cx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ph.get(e))return Ph.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=RD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||ND.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Ph.set(e,s),s}AD(t=>({...t,get:(e,n,r)=>cx(e,n)||t.get(e,n,r),has:(e,n)=>!!cx(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jf="@firebase/app",ux="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nr=new Kp("@firebase/app"),jD="@firebase/app-compat",MD="@firebase/analytics-compat",OD="@firebase/analytics",LD="@firebase/app-check-compat",FD="@firebase/app-check",UD="@firebase/auth",BD="@firebase/auth-compat",zD="@firebase/database",$D="@firebase/data-connect",HD="@firebase/database-compat",WD="@firebase/functions",qD="@firebase/functions-compat",GD="@firebase/installations",KD="@firebase/installations-compat",QD="@firebase/messaging",YD="@firebase/messaging-compat",XD="@firebase/performance",JD="@firebase/performance-compat",ZD="@firebase/remote-config",eV="@firebase/remote-config-compat",tV="@firebase/storage",nV="@firebase/storage-compat",rV="@firebase/firestore",iV="@firebase/ai",sV="@firebase/firestore-compat",oV="firebase",aV="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",lV={[Jf]:"fire-core",[jD]:"fire-core-compat",[OD]:"fire-analytics",[MD]:"fire-analytics-compat",[FD]:"fire-app-check",[LD]:"fire-app-check-compat",[UD]:"fire-auth",[BD]:"fire-auth-compat",[zD]:"fire-rtdb",[$D]:"fire-data-connect",[HD]:"fire-rtdb-compat",[WD]:"fire-fn",[qD]:"fire-fn-compat",[GD]:"fire-iid",[KD]:"fire-iid-compat",[QD]:"fire-fcm",[YD]:"fire-fcm-compat",[XD]:"fire-perf",[JD]:"fire-perf-compat",[ZD]:"fire-rc",[eV]:"fire-rc-compat",[tV]:"fire-gcs",[nV]:"fire-gcs-compat",[rV]:"fire-fst",[sV]:"fire-fst-compat",[iV]:"fire-vertex","fire-js":"fire-js",[oV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yu=new Map,cV=new Map,em=new Map;function dx(t,e){try{t.container.addComponent(e)}catch(n){nr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Us(t){const e=t.name;if(em.has(e))return nr.debug(`There were multiple attempts to register component ${e}.`),!1;em.set(e,t);for(const n of yu.values())dx(n,t);for(const n of cV.values())dx(n,t);return!0}function Yp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ln(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fr=new sl("app","Firebase",uV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=aV;function ME(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Zf,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Fr.create("bad-app-name",{appName:String(i)});if(n||(n=PE()),!n)throw Fr.create("no-options");const s=yu.get(i);if(s){if(Ri(n,s.options)&&Ri(r,s.config))return s;throw Fr.create("duplicate-app",{appName:i})}const o=new yD(i);for(const c of em.values())o.addComponent(c);const a=new dV(n,r,o);return yu.set(i,a),a}function OE(t=Zf){const e=yu.get(t);if(!e&&t===Zf&&PE())return ME();if(!e)throw Fr.create("no-app",{appName:t});return e}function Ur(t,e,n){let r=lV[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nr.warn(o.join(" "));return}Us(new Di(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="firebase-heartbeat-database",fV=1,Oa="firebase-heartbeat-store";let Nh=null;function LE(){return Nh||(Nh=PD(hV,fV,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fr.create("idb-open",{originalErrorMessage:t.message})})),Nh}async function mV(t){try{const n=(await LE()).transaction(Oa),r=await n.objectStore(Oa).get(FE(t));return await n.done,r}catch(e){if(e instanceof lr)nr.warn(e.message);else{const n=Fr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});nr.warn(n.message)}}}async function hx(t,e){try{const r=(await LE()).transaction(Oa,"readwrite");await r.objectStore(Oa).put(e,FE(t)),await r.done}catch(n){if(n instanceof lr)nr.warn(n.message);else{const r=Fr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});nr.warn(r.message)}}}function FE(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pV=1024,gV=30;class yV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=fx();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>gV){const o=wV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){nr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=fx(),{heartbeatsToSend:r,unsentEntries:i}=vV(this._heartbeatsCache.heartbeats),s=gu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return nr.warn(n),""}}}function fx(){return new Date().toISOString().substring(0,10)}function vV(t,e=pV){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),mx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sD()?oD().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await mV(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return hx(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mx(t){return gu(JSON.stringify({version:2,heartbeats:t})).length}function wV(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t){Us(new Di("platform-logger",e=>new DD(e),"PRIVATE")),Us(new Di("heartbeat",e=>new yV(e),"PRIVATE")),Ur(Jf,ux,t),Ur(Jf,ux,"esm2020"),Ur("fire-js","")}_V("");var TV="firebase",EV="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ur(TV,EV,"app");function UE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SV=UE,BE=new sl("auth","Firebase",UE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vu=new Kp("@firebase/auth");function IV(t,...e){vu.logLevel<=se.WARN&&vu.warn(`Auth (${eo}): ${t}`,...e)}function bc(t,...e){vu.logLevel<=se.ERROR&&vu.error(`Auth (${eo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw Jp(t,...e)}function fn(t,...e){return Jp(t,...e)}function Xp(t,e,n){const r={...SV(),[e]:n};return new sl("auth","Firebase",r).create(e,{appName:t.name})}function Si(t){return Xp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function bV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vn(t,"argument-error"),Xp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Jp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BE.create(t,...e)}function ee(t,e,...n){if(!t)throw Jp(e,...n)}function Hn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw bc(e),new Error(e)}function rr(t,e){t||Hn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function AV(){return px()==="http:"||px()==="https:"}function px(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AV()||tD()||"connection"in navigator)?navigator.onLine:!0}function kV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=J2()||nD()}get(){return CV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RV=new al(3e4,6e4);function eg(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function to(t,e,n,r,i={}){return $E(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ol({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:c,...s};return eD()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Zs(t.emulatorConfig.host)&&(u.credentials="include"),zE.fetch()(await HE(t,t.config.apiHost,n,a),u)})}async function $E(t,e,n){t._canInitEmulator=!1;const r={...PV,...e};try{const i=new VV(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Xl(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Xl(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Xl(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Xl(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Xp(t,h,u);Vn(t,h)}}catch(i){if(i instanceof lr)throw i;Vn(t,"network-request-failed",{message:String(i)})}}async function DV(t,e,n,r,i={}){const s=await to(t,e,n,r,i);return"mfaPendingCredential"in s&&Vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function HE(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?Zp(t.config,i):`${t.config.apiScheme}://${i}`;return NV.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class VV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(fn(this.auth,"network-request-failed")),RV.get())})}}function Xl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=fn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e){return to(t,"POST","/v1/accounts:delete",e)}async function xu(t,e){return to(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MV(t,e=!1){const n=gn(t),r=await n.getIdToken(e),i=tg(r);ee(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ca(Rh(i.auth_time)),issuedAtTime:ca(Rh(i.iat)),expirationTime:ca(Rh(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Rh(t){return Number(t)*1e3}function tg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return bc("JWT malformed, contained fewer than 3 sections"),null;try{const i=CE(n);return i?JSON.parse(i):(bc("Failed to decode base64 JWT payload"),null)}catch(i){return bc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gx(t){const e=tg(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function La(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof lr&&OV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ca(this.lastLoginAt),this.creationTime=ca(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wu(t){var m;const e=t.auth,n=await t.getIdToken(),r=await La(t,xu(e,{idToken:n}));ee(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?WE(i.providerUserInfo):[],o=UV(t.providerData,s),a=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),u=a?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nm(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function FV(t){const e=gn(t);await wu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WE(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BV(t,e){const n=await $E(t,{},async()=>{const r=ol({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await HE(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Zs(t.emulatorConfig.host)&&(c.credentials="include"),zE.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zV(t,e){return to(t,"POST","/v2/accounts:revokeToken",eg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gx(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=gx(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await BV(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Es;return r&&(ee(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Es,this.toJSON())}_performRefresh(){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vr(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class cn{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new LV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new nm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await La(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MV(this,e)}reload(){return FV(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new cn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await wu(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ln(this.auth.app))return Promise.reject(Si(this.auth));const e=await this.getIdToken();return await La(this,jV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,u=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:x,providerData:S,stsTokenManager:b}=n;ee(m&&b,e,"internal-error");const P=Es.fromJSON(this.name,b);ee(typeof m=="string",e,"internal-error"),vr(r,e.name),vr(i,e.name),ee(typeof p=="boolean",e,"internal-error"),ee(typeof x=="boolean",e,"internal-error"),vr(s,e.name),vr(o,e.name),vr(a,e.name),vr(c,e.name),vr(u,e.name),vr(h,e.name);const w=new cn({uid:m,auth:e,email:i,emailVerified:p,displayName:r,isAnonymous:x,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:P,createdAt:u,lastLoginAt:h});return S&&Array.isArray(S)&&(w.providerData=S.map(y=>({...y}))),c&&(w._redirectEventId=c),w}static async _fromIdTokenResponse(e,n,r=!1){const i=new Es;i.updateFromServerResponse(n);const s=new cn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await wu(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?WE(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Es;a.updateFromIdToken(r);const c=new cn({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new nm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(c,u),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=new Map;function Wn(t){rr(t instanceof Function,"Expected a class definition");let e=yx.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qE.type="NONE";const vx=qE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t,e,n){return`firebase:${t}:${e}:${n}`}class Ss{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ac(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ac("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xu(this.auth,{idToken:e}).catch(()=>{});return n?cn._fromGetAccountInfoResponse(this.auth,n,e):null}return cn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ss(Wn(vx),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Wn(vx);const o=Ac(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){let m;if(typeof h=="string"){const p=await xu(e,{idToken:h}).catch(()=>{});if(!p)break;m=await cn._fromGetAccountInfoResponse(e,p,h)}else m=cn._fromJSON(e,h);u!==s&&(a=m),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Ss(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Ss(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(GE(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(JE(e))return"Blackberry";if(ZE(e))return"Webos";if(KE(e))return"Safari";if((e.includes("chrome/")||QE(e))&&!e.includes("edge/"))return"Chrome";if(XE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function GE(t=_t()){return/firefox\//i.test(t)}function KE(t=_t()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function QE(t=_t()){return/crios\//i.test(t)}function YE(t=_t()){return/iemobile/i.test(t)}function XE(t=_t()){return/android/i.test(t)}function JE(t=_t()){return/blackberry/i.test(t)}function ZE(t=_t()){return/webos/i.test(t)}function ng(t=_t()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $V(t=_t()){var e;return ng(t)&&!!((e=window.navigator)!=null&&e.standalone)}function HV(){return rD()&&document.documentMode===10}function eS(t=_t()){return ng(t)||XE(t)||ZE(t)||JE(t)||/windows phone/i.test(t)||YE(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(t,e=[]){let n;switch(t){case"Browser":n=xx(_t());break;case"Worker":n=`${xx(_t())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${eo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qV(t,e={}){return to(t,"GET","/v2/passwordPolicy",eg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=6;class KV{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??GV,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wx(this),this.idTokenSubscription=new wx(this),this.beforeStateQueue=new WV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wn(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Ss.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xu(this,{idToken:e}),r=await cn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(ln(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await wu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ln(this.app))return Promise.reject(Si(this));const n=e?gn(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ln(this.app)?Promise.reject(Si(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ln(this.app)?Promise.reject(Si(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wn(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qV(this),n=new KV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wn(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Ss.create(this,[Wn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&IV(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function od(t){return gn(t)}class wx{constructor(e){this.auth=e,this.observer=null,this.addObserver=dD(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YV(t){rg=t}function XV(t){return rg.loadJS(t)}function JV(){return rg.gapiScript}function ZV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ej(t,e){const n=Yp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Ri(s,e??{}))return i;Vn(i,"already-initialized")}return n.initialize({options:e})}function tj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function nj(t,e,n){const r=od(t);ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=nS(e),{host:o,port:a}=rj(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ee(Ri(u,r.config.emulator)&&Ri(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Zs(o)?(RE(`${s}//${o}${c}`),DE("Auth",!0)):ij()}function nS(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rj(t){const e=nS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:_x(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:_x(o)}}}function _x(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ij(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hn("not implemented")}_getIdTokenResponse(e){return Hn("not implemented")}_linkToIdToken(e,n){return Hn("not implemented")}_getReauthenticationResolver(e){return Hn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(t,e){return DV(t,"POST","/v1/accounts:signInWithIdp",eg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj="http://localhost";class Vi extends rS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new Vi(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Is(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Is(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Is(e,n)}buildRequest(){const e={requestUri:sj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ol(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends ig{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr extends ll{constructor(){super("facebook.com")}static credential(e){return Vi._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Sr.credentialFromTaggedObject(e)}static credentialFromError(e){return Sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Sr.credential(e.oauthAccessToken)}catch{return null}}}Sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends ll{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vi._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Bn.credential(n,r)}catch{return null}}}Bn.GOOGLE_SIGN_IN_METHOD="google.com";Bn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends ll{constructor(){super("github.com")}static credential(e){return Vi._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends ll{constructor(){super("twitter.com")}static credential(e,n){return Vi._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return br.credential(n,r)}catch{return null}}}br.TWITTER_SIGN_IN_METHOD="twitter.com";br.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await cn._fromIdTokenResponse(e,r,i),o=Tx(r);return new Bs({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Tx(r);return new Bs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Tx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u extends lr{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,_u.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new _u(e,n,r,i)}}function iS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?_u._fromErrorAndOperation(t,s,e,r):s})}async function oj(t,e,n=!1){const r=await La(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aj(t,e,n=!1){const{auth:r}=t;if(ln(r.app))return Promise.reject(Si(r));const i="reauthenticate";try{const s=await La(t,iS(r,i,e,t),n);ee(s.idToken,r,"internal-error");const o=tg(s.idToken);ee(o,r,"internal-error");const{sub:a}=o;return ee(t.uid===a,r,"user-mismatch"),Bs._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e,n=!1){if(ln(t.app))return Promise.reject(Si(t));const r="signIn",i=await iS(t,r,e),s=await Bs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function cj(t,e,n,r){return gn(t).onIdTokenChanged(e,n,r)}function uj(t,e,n){return gn(t).beforeAuthStateChanged(e,n)}function dj(t){return gn(t).signOut()}const Tu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Tu,"1"),this.storage.removeItem(Tu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hj=1e3,fj=10;class oS extends sS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=eS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);HV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,fj):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},hj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oS.type="LOCAL";const mj=oS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS extends sS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aS.type="SESSION";const lS=aS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ad(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),c=await pj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ad.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{const u=sg("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===u)switch(p.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(p.data.response);break;default:clearTimeout(h),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return window}function yj(t){Pn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}async function vj(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xj(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function wj(){return cS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="firebaseLocalStorageDb",_j=1,Eu="firebaseLocalStorage",dS="fbase_key";class cl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ld(t,e){return t.transaction([Eu],e?"readwrite":"readonly").objectStore(Eu)}function Tj(){const t=indexedDB.deleteDatabase(uS);return new cl(t).toPromise()}function rm(){const t=indexedDB.open(uS,_j);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Eu,{keyPath:dS})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Eu)?e(r):(r.close(),await Tj(),e(await rm()))})})}async function Ex(t,e,n){const r=ld(t,!0).put({[dS]:e,value:n});return new cl(r).toPromise()}async function Ej(t,e){const n=ld(t,!1).get(e),r=await new cl(n).toPromise();return r===void 0?null:r.value}function Sx(t,e){const n=ld(t,!0).delete(e);return new cl(n).toPromise()}const Sj=800,Ij=3;class hS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Ij)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ad._getInstance(wj()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await vj(),!this.activeServiceWorker)return;this.sender=new gj(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xj()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rm();return await Ex(e,Tu,"1"),await Sx(e,Tu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ex(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Ej(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sx(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=ld(i,!1).getAll();return new cl(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Sj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hS.type="LOCAL";const bj=hS;new al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(t,e){return e?Wn(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og extends rS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Is(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Is(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Is(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Aj(t){return lj(t.auth,new og(t),t.bypassAuthState)}function Cj(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),aj(n,new og(t),t.bypassAuthState)}async function kj(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),oj(n,new og(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Aj;case"linkViaPopup":case"linkViaRedirect":return kj;case"reauthViaPopup":case"reauthViaRedirect":return Cj;default:Vn(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=new al(2e3,1e4);async function Nj(t,e,n){if(ln(t.app))return Promise.reject(fn(t,"operation-not-supported-in-this-environment"));const r=od(t);bV(t,e,ig);const i=fS(r,n);return new xi(r,"signInViaPopup",e,i).executeNotNull()}class xi extends mS{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,xi.currentPopupAction&&xi.currentPopupAction.cancel(),xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Pj.get())};e()}}xi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj="pendingRedirect",Cc=new Map;class Dj extends mS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Cc.get(this.auth._key());if(!e){try{const r=await Vj(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Cc.set(this.auth._key(),e)}return this.bypassAuthState||Cc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Vj(t,e){const n=Oj(e),r=Mj(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function jj(t,e){Cc.set(t._key(),e)}function Mj(t){return Wn(t._redirectPersistence)}function Oj(t){return Ac(Rj,t.config.apiKey,t.name)}async function Lj(t,e,n=!1){if(ln(t.app))return Promise.reject(Si(t));const r=od(t),i=fS(r,e),o=await new Dj(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj=10*60*1e3;class Uj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Bj(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pS(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(fn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Fj&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ix(e))}saveEventToCache(e){this.cachedEventUids.add(Ix(e)),this.lastProcessedEventTime=Date.now()}}function Ix(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pS({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Bj(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pS(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zj(t,e={}){return to(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Hj=/^https?/;async function Wj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await zj(t);for(const n of e)try{if(qj(n))return}catch{}Vn(t,"unauthorized-domain")}function qj(t){const e=tm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Hj.test(n))return!1;if($j.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=new al(3e4,6e4);function bx(){const t=Pn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Kj(t){return new Promise((e,n)=>{var i,s,o;function r(){bx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bx(),n(fn(t,"network-request-failed"))},timeout:Gj.get()})}if((s=(i=Pn().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Pn().gapi)!=null&&o.load)r();else{const a=ZV("iframefcb");return Pn()[a]=()=>{gapi.load?r():n(fn(t,"network-request-failed"))},XV(`${JV()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw kc=null,e})}let kc=null;function Qj(t){return kc=kc||Kj(t),kc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yj=new al(5e3,15e3),Xj="__/auth/iframe",Jj="emulator/auth/iframe",Zj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t4(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zp(e,Jj):`https://${t.config.authDomain}/${Xj}`,r={apiKey:e.apiKey,appName:t.name,v:eo},i=e4.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ol(r).slice(1)}`}async function n4(t){const e=await Qj(t),n=Pn().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:t4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zj,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=fn(t,"network-request-failed"),a=Pn().setTimeout(()=>{s(o)},Yj.get());function c(){Pn().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i4=500,s4=600,o4="_blank",a4="http://localhost";class Ax{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l4(t,e,n,r=i4,i=s4){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...r4,width:r.toString(),height:i.toString(),top:s,left:o},u=_t().toLowerCase();n&&(a=QE(u)?o4:n),GE(u)&&(e=e||a4,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[x,S])=>`${p}${x}=${S},`,"");if($V(u)&&a!=="_self")return c4(e||"",a),new Ax(null);const m=window.open(e||"",a,h);ee(m,t,"popup-blocked");try{m.focus()}catch{}return new Ax(m)}function c4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4="__/auth/handler",d4="emulator/auth/handler",h4=encodeURIComponent("fac");async function Cx(t,e,n,r,i,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:eo,eventId:i};if(e instanceof ig){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",uD(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))o[h]=m}if(e instanceof ll){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),u=c?`#${h4}=${encodeURIComponent(c)}`:"";return`${f4(t)}?${ol(a).slice(1)}${u}`}function f4({config:t}){return t.emulator?Zp(t,d4):`https://${t.authDomain}/${u4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="webStorageSupport";class m4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lS,this._completeRedirectFn=Lj,this._overrideRedirectResult=jj}async _openPopup(e,n,r,i){var o;rr((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await Cx(e,n,r,tm(),i);return l4(e,s,sg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Cx(e,n,r,tm(),i);return yj(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(rr(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await n4(e),r=new Uj(e);return n.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dh,{type:Dh},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Dh];s!==void 0&&n(!!s),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Wj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return eS()||KE()||ng()}}const p4=m4;var kx="@firebase/auth",Px="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v4(t){Us(new Di("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tS(t)},u=new QV(r,i,s,c);return tj(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Us(new Di("auth-internal",e=>{const n=od(e.getProvider("auth").getImmediate());return(r=>new g4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ur(kx,Px,y4(t)),Ur(kx,Px,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x4=5*60,w4=NE("authIdTokenMaxAge")||x4;let Nx=null;const _4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>w4)return;const i=n==null?void 0:n.token;Nx!==i&&(Nx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function T4(t=OE()){const e=Yp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=ej(t,{popupRedirectResolver:p4,persistence:[bj,mj,lS]}),r=NE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=_4(s.toString());uj(n,o,()=>o(n.currentUser)),cj(n,a=>o(a))}}const i=kE("auth");return i&&nj(n,`http://${i}`),n}function E4(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}YV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=fn("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",E4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v4("Browser");var Rx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Br,gS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,v){function I(){}I.prototype=v.prototype,E.F=v.prototype,E.prototype=new I,E.prototype.constructor=E,E.D=function(A,k,R){for(var C=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)C[Re-2]=arguments[Re];return v.prototype[k].apply(A,C)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,I){I||(I=0);const A=Array(16);if(typeof v=="string")for(var k=0;k<16;++k)A[k]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(k=0;k<16;++k)A[k]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=E.g[0],I=E.g[1],k=E.g[2];let R=E.g[3],C;C=v+(R^I&(k^R))+A[0]+3614090360&4294967295,v=I+(C<<7&4294967295|C>>>25),C=R+(k^v&(I^k))+A[1]+3905402710&4294967295,R=v+(C<<12&4294967295|C>>>20),C=k+(I^R&(v^I))+A[2]+606105819&4294967295,k=R+(C<<17&4294967295|C>>>15),C=I+(v^k&(R^v))+A[3]+3250441966&4294967295,I=k+(C<<22&4294967295|C>>>10),C=v+(R^I&(k^R))+A[4]+4118548399&4294967295,v=I+(C<<7&4294967295|C>>>25),C=R+(k^v&(I^k))+A[5]+1200080426&4294967295,R=v+(C<<12&4294967295|C>>>20),C=k+(I^R&(v^I))+A[6]+2821735955&4294967295,k=R+(C<<17&4294967295|C>>>15),C=I+(v^k&(R^v))+A[7]+4249261313&4294967295,I=k+(C<<22&4294967295|C>>>10),C=v+(R^I&(k^R))+A[8]+1770035416&4294967295,v=I+(C<<7&4294967295|C>>>25),C=R+(k^v&(I^k))+A[9]+2336552879&4294967295,R=v+(C<<12&4294967295|C>>>20),C=k+(I^R&(v^I))+A[10]+4294925233&4294967295,k=R+(C<<17&4294967295|C>>>15),C=I+(v^k&(R^v))+A[11]+2304563134&4294967295,I=k+(C<<22&4294967295|C>>>10),C=v+(R^I&(k^R))+A[12]+1804603682&4294967295,v=I+(C<<7&4294967295|C>>>25),C=R+(k^v&(I^k))+A[13]+4254626195&4294967295,R=v+(C<<12&4294967295|C>>>20),C=k+(I^R&(v^I))+A[14]+2792965006&4294967295,k=R+(C<<17&4294967295|C>>>15),C=I+(v^k&(R^v))+A[15]+1236535329&4294967295,I=k+(C<<22&4294967295|C>>>10),C=v+(k^R&(I^k))+A[1]+4129170786&4294967295,v=I+(C<<5&4294967295|C>>>27),C=R+(I^k&(v^I))+A[6]+3225465664&4294967295,R=v+(C<<9&4294967295|C>>>23),C=k+(v^I&(R^v))+A[11]+643717713&4294967295,k=R+(C<<14&4294967295|C>>>18),C=I+(R^v&(k^R))+A[0]+3921069994&4294967295,I=k+(C<<20&4294967295|C>>>12),C=v+(k^R&(I^k))+A[5]+3593408605&4294967295,v=I+(C<<5&4294967295|C>>>27),C=R+(I^k&(v^I))+A[10]+38016083&4294967295,R=v+(C<<9&4294967295|C>>>23),C=k+(v^I&(R^v))+A[15]+3634488961&4294967295,k=R+(C<<14&4294967295|C>>>18),C=I+(R^v&(k^R))+A[4]+3889429448&4294967295,I=k+(C<<20&4294967295|C>>>12),C=v+(k^R&(I^k))+A[9]+568446438&4294967295,v=I+(C<<5&4294967295|C>>>27),C=R+(I^k&(v^I))+A[14]+3275163606&4294967295,R=v+(C<<9&4294967295|C>>>23),C=k+(v^I&(R^v))+A[3]+4107603335&4294967295,k=R+(C<<14&4294967295|C>>>18),C=I+(R^v&(k^R))+A[8]+1163531501&4294967295,I=k+(C<<20&4294967295|C>>>12),C=v+(k^R&(I^k))+A[13]+2850285829&4294967295,v=I+(C<<5&4294967295|C>>>27),C=R+(I^k&(v^I))+A[2]+4243563512&4294967295,R=v+(C<<9&4294967295|C>>>23),C=k+(v^I&(R^v))+A[7]+1735328473&4294967295,k=R+(C<<14&4294967295|C>>>18),C=I+(R^v&(k^R))+A[12]+2368359562&4294967295,I=k+(C<<20&4294967295|C>>>12),C=v+(I^k^R)+A[5]+4294588738&4294967295,v=I+(C<<4&4294967295|C>>>28),C=R+(v^I^k)+A[8]+2272392833&4294967295,R=v+(C<<11&4294967295|C>>>21),C=k+(R^v^I)+A[11]+1839030562&4294967295,k=R+(C<<16&4294967295|C>>>16),C=I+(k^R^v)+A[14]+4259657740&4294967295,I=k+(C<<23&4294967295|C>>>9),C=v+(I^k^R)+A[1]+2763975236&4294967295,v=I+(C<<4&4294967295|C>>>28),C=R+(v^I^k)+A[4]+1272893353&4294967295,R=v+(C<<11&4294967295|C>>>21),C=k+(R^v^I)+A[7]+4139469664&4294967295,k=R+(C<<16&4294967295|C>>>16),C=I+(k^R^v)+A[10]+3200236656&4294967295,I=k+(C<<23&4294967295|C>>>9),C=v+(I^k^R)+A[13]+681279174&4294967295,v=I+(C<<4&4294967295|C>>>28),C=R+(v^I^k)+A[0]+3936430074&4294967295,R=v+(C<<11&4294967295|C>>>21),C=k+(R^v^I)+A[3]+3572445317&4294967295,k=R+(C<<16&4294967295|C>>>16),C=I+(k^R^v)+A[6]+76029189&4294967295,I=k+(C<<23&4294967295|C>>>9),C=v+(I^k^R)+A[9]+3654602809&4294967295,v=I+(C<<4&4294967295|C>>>28),C=R+(v^I^k)+A[12]+3873151461&4294967295,R=v+(C<<11&4294967295|C>>>21),C=k+(R^v^I)+A[15]+530742520&4294967295,k=R+(C<<16&4294967295|C>>>16),C=I+(k^R^v)+A[2]+3299628645&4294967295,I=k+(C<<23&4294967295|C>>>9),C=v+(k^(I|~R))+A[0]+4096336452&4294967295,v=I+(C<<6&4294967295|C>>>26),C=R+(I^(v|~k))+A[7]+1126891415&4294967295,R=v+(C<<10&4294967295|C>>>22),C=k+(v^(R|~I))+A[14]+2878612391&4294967295,k=R+(C<<15&4294967295|C>>>17),C=I+(R^(k|~v))+A[5]+4237533241&4294967295,I=k+(C<<21&4294967295|C>>>11),C=v+(k^(I|~R))+A[12]+1700485571&4294967295,v=I+(C<<6&4294967295|C>>>26),C=R+(I^(v|~k))+A[3]+2399980690&4294967295,R=v+(C<<10&4294967295|C>>>22),C=k+(v^(R|~I))+A[10]+4293915773&4294967295,k=R+(C<<15&4294967295|C>>>17),C=I+(R^(k|~v))+A[1]+2240044497&4294967295,I=k+(C<<21&4294967295|C>>>11),C=v+(k^(I|~R))+A[8]+1873313359&4294967295,v=I+(C<<6&4294967295|C>>>26),C=R+(I^(v|~k))+A[15]+4264355552&4294967295,R=v+(C<<10&4294967295|C>>>22),C=k+(v^(R|~I))+A[6]+2734768916&4294967295,k=R+(C<<15&4294967295|C>>>17),C=I+(R^(k|~v))+A[13]+1309151649&4294967295,I=k+(C<<21&4294967295|C>>>11),C=v+(k^(I|~R))+A[4]+4149444226&4294967295,v=I+(C<<6&4294967295|C>>>26),C=R+(I^(v|~k))+A[11]+3174756917&4294967295,R=v+(C<<10&4294967295|C>>>22),C=k+(v^(R|~I))+A[2]+718787259&4294967295,k=R+(C<<15&4294967295|C>>>17),C=I+(R^(k|~v))+A[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(k+(C<<21&4294967295|C>>>11))&4294967295,E.g[2]=E.g[2]+k&4294967295,E.g[3]=E.g[3]+R&4294967295}r.prototype.v=function(E,v){v===void 0&&(v=E.length);const I=v-this.blockSize,A=this.C;let k=this.h,R=0;for(;R<v;){if(k==0)for(;R<=I;)i(this,E,R),R+=this.blockSize;if(typeof E=="string"){for(;R<v;)if(A[k++]=E.charCodeAt(R++),k==this.blockSize){i(this,A),k=0;break}}else for(;R<v;)if(A[k++]=E[R++],k==this.blockSize){i(this,A),k=0;break}}this.h=k,this.o+=v},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var I=E.length-8;I<E.length;++I)E[I]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,I=0;I<4;++I)for(let A=0;A<32;A+=8)E[v++]=this.g[I]>>>A&255;return E};function s(E,v){var I=a;return Object.prototype.hasOwnProperty.call(I,E)?I[E]:I[E]=v(E)}function o(E,v){this.h=v;const I=[];let A=!0;for(let k=E.length-1;k>=0;k--){const R=E[k]|0;A&&R==v||(I[k]=R,A=!1)}this.g=I}var a={};function c(E){return-128<=E&&E<128?s(E,function(v){return new o([v|0],v<0?-1:0)}):new o([E|0],E<0?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return m;if(E<0)return P(u(-E));const v=[];let I=1;for(let A=0;E>=I;A++)v[A]=E/I|0,I*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return P(h(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=u(Math.pow(v,8));let A=m;for(let R=0;R<E.length;R+=8){var k=Math.min(8,E.length-R);const C=parseInt(E.substring(R,R+k),v);k<8?(k=u(Math.pow(v,k)),A=A.j(k).add(u(C))):(A=A.j(I),A=A.add(u(C)))}return A}var m=c(0),p=c(1),x=c(16777216);t=o.prototype,t.m=function(){if(b(this))return-P(this).m();let E=0,v=1;for(let I=0;I<this.g.length;I++){const A=this.i(I);E+=(A>=0?A:4294967296+A)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(b(this))return"-"+P(this).toString(E);const v=u(Math.pow(E,6));var I=this;let A="";for(;;){const k=N(I,v).g;I=w(I,k.j(v));let R=((I.g.length>0?I.g[0]:I.h)>>>0).toString(E);if(I=k,S(I))return R+A;for(;R.length<6;)R="0"+R;A=R+A}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function b(E){return E.h==-1}t.l=function(E){return E=w(this,E),b(E)?-1:S(E)?0:1};function P(E){const v=E.g.length,I=[];for(let A=0;A<v;A++)I[A]=~E.g[A];return new o(I,~E.h).add(p)}t.abs=function(){return b(this)?P(this):this},t.add=function(E){const v=Math.max(this.g.length,E.g.length),I=[];let A=0;for(let k=0;k<=v;k++){let R=A+(this.i(k)&65535)+(E.i(k)&65535),C=(R>>>16)+(this.i(k)>>>16)+(E.i(k)>>>16);A=C>>>16,R&=65535,C&=65535,I[k]=C<<16|R}return new o(I,I[I.length-1]&-2147483648?-1:0)};function w(E,v){return E.add(P(v))}t.j=function(E){if(S(this)||S(E))return m;if(b(this))return b(E)?P(this).j(P(E)):P(P(this).j(E));if(b(E))return P(this.j(P(E)));if(this.l(x)<0&&E.l(x)<0)return u(this.m()*E.m());const v=this.g.length+E.g.length,I=[];for(var A=0;A<2*v;A++)I[A]=0;for(A=0;A<this.g.length;A++)for(let k=0;k<E.g.length;k++){const R=this.i(A)>>>16,C=this.i(A)&65535,Re=E.i(k)>>>16,Tt=E.i(k)&65535;I[2*A+2*k]+=C*Tt,y(I,2*A+2*k),I[2*A+2*k+1]+=R*Tt,y(I,2*A+2*k+1),I[2*A+2*k+1]+=C*Re,y(I,2*A+2*k+1),I[2*A+2*k+2]+=R*Re,y(I,2*A+2*k+2)}for(E=0;E<v;E++)I[E]=I[2*E+1]<<16|I[2*E];for(E=v;E<2*v;E++)I[E]=0;return new o(I,0)};function y(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function T(E,v){this.g=E,this.h=v}function N(E,v){if(S(v))throw Error("division by zero");if(S(E))return new T(m,m);if(b(E))return v=N(P(E),v),new T(P(v.g),P(v.h));if(b(v))return v=N(E,P(v)),new T(P(v.g),v.h);if(E.g.length>30){if(b(E)||b(v))throw Error("slowDivide_ only works with positive integers.");for(var I=p,A=v;A.l(E)<=0;)I=V(I),A=V(A);var k=D(I,1),R=D(A,1);for(A=D(A,2),I=D(I,2);!S(A);){var C=R.add(A);C.l(E)<=0&&(k=k.add(I),R=C),A=D(A,1),I=D(I,1)}return v=w(E,k.j(v)),new T(k,v)}for(k=m;E.l(v)>=0;){for(I=Math.max(1,Math.floor(E.m()/v.m())),A=Math.ceil(Math.log(I)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),R=u(I),C=R.j(v);b(C)||C.l(E)>0;)I-=A,R=u(I),C=R.j(v);S(R)&&(R=p),k=k.add(R),E=w(E,C)}return new T(k,E)}t.B=function(E){return N(this,E).h},t.and=function(E){const v=Math.max(this.g.length,E.g.length),I=[];for(let A=0;A<v;A++)I[A]=this.i(A)&E.i(A);return new o(I,this.h&E.h)},t.or=function(E){const v=Math.max(this.g.length,E.g.length),I=[];for(let A=0;A<v;A++)I[A]=this.i(A)|E.i(A);return new o(I,this.h|E.h)},t.xor=function(E){const v=Math.max(this.g.length,E.g.length),I=[];for(let A=0;A<v;A++)I[A]=this.i(A)^E.i(A);return new o(I,this.h^E.h)};function V(E){const v=E.g.length+1,I=[];for(let A=0;A<v;A++)I[A]=E.i(A)<<1|E.i(A-1)>>>31;return new o(I,E.h)}function D(E,v){const I=v>>5;v%=32;const A=E.g.length-I,k=[];for(let R=0;R<A;R++)k[R]=v>0?E.i(R+I)>>>v|E.i(R+I+1)<<32-v:E.i(R+I);return new o(k,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,Br=o}).apply(typeof Rx<"u"?Rx:typeof self<"u"?self:typeof window<"u"?window:{});var Jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yS,Ho,vS,Pc,im,xS,wS,_S;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jl=="object"&&Jl];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var j=l[_];if(!(j in g))break e;g=g[j]}l=l[l.length-1],_=g[l],f=f(_),f!=_&&f!=null&&e(g,l,{configurable:!0,writable:!0,value:f})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(f){var g=[],_;for(_ in f)Object.prototype.hasOwnProperty.call(f,_)&&g.push([_,f[_]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function c(l,f,g){return l.call.apply(l.bind,arguments)}function u(l,f,g){return u=c,u.apply(null,arguments)}function h(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function m(l,f){function g(){}g.prototype=f.prototype,l.Z=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(_,j,M){for(var $=Array(arguments.length-2),re=2;re<arguments.length;re++)$[re-2]=arguments[re];return f.prototype[j].apply(_,$)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function x(l){const f=l.length;if(f>0){const g=Array(f);for(let _=0;_<f;_++)g[_]=l[_];return g}return[]}function S(l,f){for(let _=1;_<arguments.length;_++){const j=arguments[_];var g=typeof j;if(g=g!="object"?g:j?Array.isArray(j)?"array":g:"null",g=="array"||g=="object"&&typeof j.length=="number"){g=l.length||0;const M=j.length||0;l.length=g+M;for(let $=0;$<M;$++)l[g+$]=j[$]}else l.push(j)}}class b{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function P(l){o.setTimeout(()=>{throw l},0)}function w(){var l=E;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class y{constructor(){this.h=this.g=null}add(f,g){const _=T.get();_.set(f,g),this.h?this.h.next=_:this.g=_,this.h=_}}var T=new b(()=>new N,l=>l.reset());class N{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let V,D=!1,E=new y,v=()=>{const l=Promise.resolve(void 0);V=()=>{l.then(I)}};function I(){for(var l;l=w();){try{l.h.call(l.g)}catch(g){P(g)}var f=T;f.j(l),f.h<100&&(f.h++,l.next=f.g,f.g=l)}D=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,f),o.removeEventListener("test",g,f)}catch{}return l}();function C(l){return/^[\s\xa0]*$/.test(l)}function Re(l,f){k.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,f)}m(Re,k),Re.prototype.init=function(l,f){const g=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget,f||(g=="mouseover"?f=l.fromElement:g=="mouseout"&&(f=l.toElement)),this.relatedTarget=f,_?(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Re.Z.h.call(this)},Re.prototype.h=function(){Re.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Tt="closure_listenable_"+(Math.random()*1e6|0),Be=0;function Te(l,f,g,_,j){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!_,this.ha=j,this.key=++Be,this.da=this.fa=!1}function z(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function K(l,f,g){for(const _ in l)f.call(g,l[_],_,l)}function X(l,f){for(const g in l)f.call(void 0,l[g],g,l)}function me(l){const f={};for(const g in l)f[g]=l[g];return f}const Se="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function On(l,f){let g,_;for(let j=1;j<arguments.length;j++){_=arguments[j];for(g in _)l[g]=_[g];for(let M=0;M<Se.length;M++)g=Se[M],Object.prototype.hasOwnProperty.call(_,g)&&(l[g]=_[g])}}function kt(l){this.src=l,this.g={},this.h=0}kt.prototype.add=function(l,f,g,_,j){const M=l.toString();l=this.g[M],l||(l=this.g[M]=[],this.h++);const $=Et(l,f,_,j);return $>-1?(f=l[$],g||(f.fa=!1)):(f=new Te(f,this.src,M,!!_,j),f.fa=g,l.push(f)),f};function Ln(l,f){const g=f.type;if(g in l.g){var _=l.g[g],j=Array.prototype.indexOf.call(_,f,void 0),M;(M=j>=0)&&Array.prototype.splice.call(_,j,1),M&&(z(f),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Et(l,f,g,_){for(let j=0;j<l.length;++j){const M=l[j];if(!M.da&&M.listener==f&&M.capture==!!g&&M.ha==_)return j}return-1}var yn="closure_lm_"+(Math.random()*1e6|0),oo={};function ni(l,f,g,_,j){if(Array.isArray(f)){for(let M=0;M<f.length;M++)ni(l,f[M],g,_,j);return null}return g=ze(g),l&&l[Tt]?l.J(f,g,a(_)?!!_.capture:!1,j):pl(l,f,g,!1,_,j)}function pl(l,f,g,_,j,M){if(!f)throw Error("Invalid event type");const $=a(j)?!!j.capture:!!j;let re=vn(l);if(re||(l[yn]=re=new kt(l)),g=re.add(f,g,_,$,M),g.proxy)return g;if(_=B(),g.proxy=_,_.src=l,_.listener=g,l.addEventListener)R||(j=$),j===void 0&&(j=!1),l.addEventListener(f.toString(),_,j);else if(l.attachEvent)l.attachEvent(de(f.toString()),_);else if(l.addListener&&l.removeListener)l.addListener(_);else throw Error("addEventListener and attachEvent are unavailable.");return g}function B(){function l(g){return f.call(l.src,l.listener,g)}const f=Je;return l}function Z(l,f,g,_,j){if(Array.isArray(f))for(var M=0;M<f.length;M++)Z(l,f[M],g,_,j);else _=a(_)?!!_.capture:!!_,g=ze(g),l&&l[Tt]?(l=l.i,M=String(f).toString(),M in l.g&&(f=l.g[M],g=Et(f,g,_,j),g>-1&&(z(f[g]),Array.prototype.splice.call(f,g,1),f.length==0&&(delete l.g[M],l.h--)))):l&&(l=vn(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Et(f,g,_,j)),(g=l>-1?f[l]:null)&&Me(g))}function Me(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Tt])Ln(f.i,l);else{var g=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(g,_,l.capture):f.detachEvent?f.detachEvent(de(g),_):f.addListener&&f.removeListener&&f.removeListener(_),(g=vn(f))?(Ln(g,l),g.h==0&&(g.src=null,f[yn]=null)):z(l)}}}function de(l){return l in oo?oo[l]:oo[l]="on"+l}function Je(l,f){if(l.da)l=!0;else{f=new Re(f,this);const g=l.listener,_=l.ha||l.src;l.fa&&Me(l),l=g.call(_,f)}return l}function vn(l){return l=l[yn],l instanceof kt?l:null}var it="__closure_events_fn_"+(Math.random()*1e9>>>0);function ze(l){return typeof l=="function"?l:(l[it]||(l[it]=function(f){return l.handleEvent(f)}),l[it])}function Ie(){A.call(this),this.i=new kt(this),this.M=this,this.G=null}m(Ie,A),Ie.prototype[Tt]=!0,Ie.prototype.removeEventListener=function(l,f,g,_){Z(this,l,f,g,_)};function qe(l,f){var g,_=l.G;if(_)for(g=[];_;_=_.G)g.push(_);if(l=l.M,_=f.type||f,typeof f=="string")f=new k(f,l);else if(f instanceof k)f.target=f.target||l;else{var j=f;f=new k(_,l),On(f,j)}j=!0;let M,$;if(g)for($=g.length-1;$>=0;$--)M=f.g=g[$],j=cr(M,_,!0,f)&&j;if(M=f.g=l,j=cr(M,_,!0,f)&&j,j=cr(M,_,!1,f)&&j,g)for($=0;$<g.length;$++)M=f.g=g[$],j=cr(M,_,!1,f)&&j}Ie.prototype.N=function(){if(Ie.Z.N.call(this),this.i){var l=this.i;for(const f in l.g){const g=l.g[f];for(let _=0;_<g.length;_++)z(g[_]);delete l.g[f],l.h--}}this.G=null},Ie.prototype.J=function(l,f,g,_){return this.i.add(String(l),f,!1,g,_)},Ie.prototype.K=function(l,f,g,_){return this.i.add(String(l),f,!0,g,_)};function cr(l,f,g,_){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();let j=!0;for(let M=0;M<f.length;++M){const $=f[M];if($&&!$.da&&$.capture==g){const re=$.listener,Ge=$.ha||$.src;$.fa&&Ln(l.i,$),j=re.call(Ge,_)!==!1&&j}}return j&&!_.defaultPrevented}function _d(l,f){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:o.setTimeout(l,f||0)}function gl(l){l.g=_d(()=>{l.g=null,l.i&&(l.i=!1,gl(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class Td extends A{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:gl(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ri(l){A.call(this),this.h=l,this.g={}}m(ri,A);var yl=[];function ao(l){K(l.g,function(f,g){this.g.hasOwnProperty(g)&&Me(f)},l),l.g={}}ri.prototype.N=function(){ri.Z.N.call(this),ao(this)},ri.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=o.JSON.stringify,KI=o.JSON.parse,QI=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function Fg(){}function Ug(){}var lo={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ed(){k.call(this,"d")}m(Ed,k);function Sd(){k.call(this,"c")}m(Sd,k);var ii={},Bg=null;function vl(){return Bg=Bg||new Ie}ii.Ia="serverreachability";function zg(l){k.call(this,ii.Ia,l)}m(zg,k);function co(l){const f=vl();qe(f,new zg(f))}ii.STAT_EVENT="statevent";function $g(l,f){k.call(this,ii.STAT_EVENT,l),this.stat=f}m($g,k);function St(l){const f=vl();qe(f,new $g(f,l))}ii.Ja="timingevent";function Hg(l,f){k.call(this,ii.Ja,l),this.size=f}m(Hg,k);function uo(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},f)}function ho(){this.g=!0}ho.prototype.ua=function(){this.g=!1};function YI(l,f,g,_,j,M){l.info(function(){if(l.g)if(M){var $="",re=M.split("&");for(let fe=0;fe<re.length;fe++){var Ge=re[fe].split("=");if(Ge.length>1){const Ze=Ge[0];Ge=Ge[1];const wn=Ze.split("_");$=wn.length>=2&&wn[1]=="type"?$+(Ze+"="+Ge+"&"):$+(Ze+"=redacted&")}}}else $=null;else $=M;return"XMLHTTP REQ ("+_+") [attempt "+j+"]: "+f+`
`+g+`
`+$})}function XI(l,f,g,_,j,M,$){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+j+"]: "+f+`
`+g+`
`+M+" "+$})}function Wi(l,f,g,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+ZI(l,g)+(_?" "+_:"")})}function JI(l,f){l.info(function(){return"TIMEOUT: "+f})}ho.prototype.info=function(){};function ZI(l,f){if(!l.g)return f;if(!f)return null;try{const M=JSON.parse(f);if(M){for(l=0;l<M.length;l++)if(Array.isArray(M[l])){var g=M[l];if(!(g.length<2)){var _=g[1];if(Array.isArray(_)&&!(_.length<1)){var j=_[0];if(j!="noop"&&j!="stop"&&j!="close")for(let $=1;$<_.length;$++)_[$]=""}}}}return ur(M)}catch{return f}}var xl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Wg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},qg;function Id(){}m(Id,Fg),Id.prototype.g=function(){return new XMLHttpRequest},qg=new Id;function fo(l){return encodeURIComponent(String(l))}function eb(l){var f=1;l=l.split(":");const g=[];for(;f>0&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function dr(l,f,g,_){this.j=l,this.i=f,this.l=g,this.S=_||1,this.V=new ri(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gg}function Gg(){this.i=null,this.g="",this.h=!1}var Kg={},bd={};function Ad(l,f,g){l.M=1,l.A=_l(xn(f)),l.u=g,l.R=!0,Qg(l,null)}function Qg(l,f){l.F=Date.now(),wl(l),l.B=xn(l.A);var g=l.B,_=l.S;Array.isArray(_)||(_=[String(_)]),ly(g.i,"t",_),l.C=0,g=l.j.L,l.h=new Gg,l.g=by(l.j,g?f:null,!l.u),l.P>0&&(l.O=new Td(u(l.Y,l,l.g),l.P)),f=l.V,g=l.g,_=l.ba;var j="readystatechange";Array.isArray(j)||(j&&(yl[0]=j.toString()),j=yl);for(let M=0;M<j.length;M++){const $=ni(g,j[M],_||f.handleEvent,!1,f.h||f);if(!$)break;f.g[$.key]=$}f=l.J?me(l.J):{},l.u?(l.v||(l.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,f)):(l.v="GET",l.g.ea(l.B,l.v,null,f)),co(),YI(l.i,l.v,l.B,l.l,l.S,l.u)}dr.prototype.ba=function(l){l=l.target;const f=this.O;f&&mr(l)==3?f.j():this.Y(l)},dr.prototype.Y=function(l){try{if(l==this.g)e:{const re=mr(this.g),Ge=this.g.ya(),fe=this.g.ca();if(!(re<3)&&(re!=3||this.g&&(this.h.h||this.g.la()||py(this.g)))){this.K||re!=4||Ge==7||(Ge==8||fe<=0?co(3):co(2)),Cd(this);var f=this.g.ca();this.X=f;var g=tb(this);if(this.o=f==200,XI(this.i,this.v,this.B,this.l,this.S,re,f),this.o){if(this.U&&!this.L){t:{if(this.g){var _,j=this.g;if((_=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(_)){var M=_;break t}}M=null}if(l=M)Wi(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,kd(this,l);else{this.o=!1,this.m=3,St(12),si(this),mo(this);break e}}if(this.R){l=!0;let Ze;for(;!this.K&&this.C<g.length;)if(Ze=nb(this,g),Ze==bd){re==4&&(this.m=4,St(14),l=!1),Wi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ze==Kg){this.m=4,St(15),Wi(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else Wi(this.i,this.l,Ze,null),kd(this,Ze);if(Yg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),re!=4||g.length!=0||this.h.h||(this.m=1,St(16),l=!1),this.o=this.o&&l,!l)Wi(this.i,this.l,g,"[Invalid Chunked Response]"),si(this),mo(this);else if(g.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Od($),$.P=!0,St(11))}}else Wi(this.i,this.l,g,null),kd(this,g);re==4&&si(this),this.o&&!this.K&&(re==4?Ty(this.j,this):(this.o=!1,wl(this)))}else gb(this.g),f==400&&g.indexOf("Unknown SID")>0?(this.m=3,St(12)):(this.m=0,St(13)),si(this),mo(this)}}}catch{}finally{}};function tb(l){if(!Yg(l))return l.g.la();const f=py(l.g);if(f==="")return"";let g="";const _=f.length,j=mr(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return si(l),mo(l),"";l.h.i=new o.TextDecoder}for(let M=0;M<_;M++)l.h.h=!0,g+=l.h.i.decode(f[M],{stream:!(j&&M==_-1)});return f.length=0,l.h.g+=g,l.C=0,l.h.g}function Yg(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function nb(l,f){var g=l.C,_=f.indexOf(`
`,g);return _==-1?bd:(g=Number(f.substring(g,_)),isNaN(g)?Kg:(_+=1,_+g>f.length?bd:(f=f.slice(_,_+g),l.C=_+g,f)))}dr.prototype.cancel=function(){this.K=!0,si(this)};function wl(l){l.T=Date.now()+l.H,Xg(l,l.H)}function Xg(l,f){if(l.D!=null)throw Error("WatchDog timer not null");l.D=uo(u(l.aa,l),f)}function Cd(l){l.D&&(o.clearTimeout(l.D),l.D=null)}dr.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(JI(this.i,this.B),this.M!=2&&(co(),St(17)),si(this),this.m=2,mo(this)):Xg(this,this.T-l)};function mo(l){l.j.I==0||l.K||Ty(l.j,l)}function si(l){Cd(l);var f=l.O;f&&typeof f.dispose=="function"&&f.dispose(),l.O=null,ao(l.V),l.g&&(f=l.g,l.g=null,f.abort(),f.dispose())}function kd(l,f){try{var g=l.j;if(g.I!=0&&(g.g==l||Pd(g.h,l))){if(!l.L&&Pd(g.h,l)&&g.I==3){try{var _=g.Ba.g.parse(f)}catch{_=null}if(Array.isArray(_)&&_.length==3){var j=_;if(j[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)bl(g),Sl(g);else break e;Md(g),St(18)}}else g.xa=j[1],0<g.xa-g.K&&j[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=uo(u(g.Va,g),6e3));ey(g.h)<=1&&g.ta&&(g.ta=void 0)}else ai(g,11)}else if((l.L||g.g==l)&&bl(g),!C(f))for(j=g.Ba.g.parse(f),f=0;f<j.length;f++){let fe=j[f];const Ze=fe[0];if(!(Ze<=g.K))if(g.K=Ze,fe=fe[1],g.I==2)if(fe[0]=="c"){g.M=fe[1],g.ba=fe[2];const wn=fe[3];wn!=null&&(g.ka=wn,g.j.info("VER="+g.ka));const li=fe[4];li!=null&&(g.za=li,g.j.info("SVER="+g.za));const pr=fe[5];pr!=null&&typeof pr=="number"&&pr>0&&(_=1.5*pr,g.O=_,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;const gr=l.g;if(gr){const Cl=gr.g?gr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cl){var M=_.h;M.g||Cl.indexOf("spdy")==-1&&Cl.indexOf("quic")==-1&&Cl.indexOf("h2")==-1||(M.j=M.l,M.g=new Set,M.h&&(Nd(M,M.h),M.h=null))}if(_.G){const Ld=gr.g?gr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ld&&(_.wa=Ld,ve(_.J,_.G,Ld))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),_=g;var $=l;if(_.na=Iy(_,_.L?_.ba:null,_.W),$.L){ty(_.h,$);var re=$,Ge=_.O;Ge&&(re.H=Ge),re.D&&(Cd(re),wl(re)),_.g=$}else wy(_);g.i.length>0&&Il(g)}else fe[0]!="stop"&&fe[0]!="close"||ai(g,7);else g.I==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?ai(g,7):jd(g):fe[0]!="noop"&&g.l&&g.l.qa(fe),g.A=0)}}co(4)}catch{}}var rb=class{constructor(l,f){this.g=l,this.map=f}};function Jg(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Zg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ey(l){return l.h?1:l.g?l.g.size:0}function Pd(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Nd(l,f){l.g?l.g.add(f):l.h=f}function ty(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}Jg.prototype.cancel=function(){if(this.i=ny(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function ny(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const g of l.g.values())f=f.concat(g.G);return f}return x(l.i)}var ry=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ib(l,f){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const _=l[g].indexOf("=");let j,M=null;_>=0?(j=l[g].substring(0,_),M=l[g].substring(_+1)):j=l[g],f(j,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function hr(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;l instanceof hr?(this.l=l.l,po(this,l.j),this.o=l.o,this.g=l.g,go(this,l.u),this.h=l.h,Rd(this,cy(l.i)),this.m=l.m):l&&(f=String(l).match(ry))?(this.l=!1,po(this,f[1]||"",!0),this.o=yo(f[2]||""),this.g=yo(f[3]||"",!0),go(this,f[4]),this.h=yo(f[5]||"",!0),Rd(this,f[6]||"",!0),this.m=yo(f[7]||"")):(this.l=!1,this.i=new xo(null,this.l))}hr.prototype.toString=function(){const l=[];var f=this.j;f&&l.push(vo(f,iy,!0),":");var g=this.g;return(g||f=="file")&&(l.push("//"),(f=this.o)&&l.push(vo(f,iy,!0),"@"),l.push(fo(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(vo(g,g.charAt(0)=="/"?ab:ob,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",vo(g,cb)),l.join("")},hr.prototype.resolve=function(l){const f=xn(this);let g=!!l.j;g?po(f,l.j):g=!!l.o,g?f.o=l.o:g=!!l.g,g?f.g=l.g:g=l.u!=null;var _=l.h;if(g)go(f,l.u);else if(g=!!l.h){if(_.charAt(0)!="/")if(this.g&&!this.h)_="/"+_;else{var j=f.h.lastIndexOf("/");j!=-1&&(_=f.h.slice(0,j+1)+_)}if(j=_,j==".."||j==".")_="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){_=j.lastIndexOf("/",0)==0,j=j.split("/");const M=[];for(let $=0;$<j.length;){const re=j[$++];re=="."?_&&$==j.length&&M.push(""):re==".."?((M.length>1||M.length==1&&M[0]!="")&&M.pop(),_&&$==j.length&&M.push("")):(M.push(re),_=!0)}_=M.join("/")}else _=j}return g?f.h=_:g=l.i.toString()!=="",g?Rd(f,cy(l.i)):g=!!l.m,g&&(f.m=l.m),f};function xn(l){return new hr(l)}function po(l,f,g){l.j=g?yo(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function go(l,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);l.u=f}else l.u=null}function Rd(l,f,g){f instanceof xo?(l.i=f,ub(l.i,l.l)):(g||(f=vo(f,lb)),l.i=new xo(f,l.l))}function ve(l,f,g){l.i.set(f,g)}function _l(l){return ve(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function yo(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function vo(l,f,g){return typeof l=="string"?(l=encodeURI(l).replace(f,sb),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function sb(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var iy=/[#\/\?@]/g,ob=/[#\?:]/g,ab=/[#\?]/g,lb=/[#\?@]/g,cb=/#/g;function xo(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function oi(l){l.g||(l.g=new Map,l.h=0,l.i&&ib(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=xo.prototype,t.add=function(l,f){oi(this),this.i=null,l=qi(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this};function sy(l,f){oi(l),f=qi(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function oy(l,f){return oi(l),f=qi(l,f),l.g.has(f)}t.forEach=function(l,f){oi(this),this.g.forEach(function(g,_){g.forEach(function(j){l.call(f,j,_,this)},this)},this)};function ay(l,f){oi(l);let g=[];if(typeof f=="string")oy(l,f)&&(g=g.concat(l.g.get(qi(l,f))));else for(l=Array.from(l.g.values()),f=0;f<l.length;f++)g=g.concat(l[f]);return g}t.set=function(l,f){return oi(this),this.i=null,l=qi(this,l),oy(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},t.get=function(l,f){return l?(l=ay(this,l),l.length>0?String(l[0]):f):f};function ly(l,f,g){sy(l,f),g.length>0&&(l.i=null,l.g.set(qi(l,f),x(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(let _=0;_<f.length;_++){var g=f[_];const j=fo(g);g=ay(this,g);for(let M=0;M<g.length;M++){let $=j;g[M]!==""&&($+="="+fo(g[M])),l.push($)}}return this.i=l.join("&")};function cy(l){const f=new xo;return f.i=l.i,l.g&&(f.g=new Map(l.g),f.h=l.h),f}function qi(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function ub(l,f){f&&!l.j&&(oi(l),l.i=null,l.g.forEach(function(g,_){const j=_.toLowerCase();_!=j&&(sy(this,_),ly(this,j,g))},l)),l.j=f}function db(l,f){const g=new ho;if(o.Image){const _=new Image;_.onload=h(fr,g,"TestLoadImage: loaded",!0,f,_),_.onerror=h(fr,g,"TestLoadImage: error",!1,f,_),_.onabort=h(fr,g,"TestLoadImage: abort",!1,f,_),_.ontimeout=h(fr,g,"TestLoadImage: timeout",!1,f,_),o.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}function hb(l,f){const g=new ho,_=new AbortController,j=setTimeout(()=>{_.abort(),fr(g,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:_.signal}).then(M=>{clearTimeout(j),M.ok?fr(g,"TestPingServer: ok",!0,f):fr(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(j),fr(g,"TestPingServer: error",!1,f)})}function fr(l,f,g,_,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),_(g)}catch{}}function fb(){this.g=new QI}function Dd(l){this.i=l.Sb||null,this.h=l.ab||!1}m(Dd,Fg),Dd.prototype.g=function(){return new Tl(this.i,this.h)};function Tl(l,f){Ie.call(this),this.H=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(Tl,Ie),t=Tl.prototype,t.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=f,this.readyState=1,_o(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(f.body=l),(this.H||o).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wo(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,_o(this)),this.g&&(this.readyState=3,_o(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;uy(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function uy(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?wo(this):_o(this),this.readyState==3&&uy(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,wo(this))},t.Na=function(l){this.g&&(this.response=l,wo(this))},t.ga=function(){this.g&&wo(this)};function wo(l){l.readyState=4,l.l=null,l.j=null,l.B=null,_o(l)}t.setRequestHeader=function(l,f){this.A.append(l,f)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=f.next();return l.join(`\r
`)};function _o(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Tl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function dy(l){let f="";return K(l,function(g,_){f+=_,f+=":",f+=g,f+=`\r
`}),f}function Vd(l,f,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=dy(g),typeof l=="string"?g!=null&&fo(g):ve(l,f,g))}function De(l){Ie.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(De,Ie);var mb=/^https?$/i,pb=["POST","PUT"];t=De.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,f,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():qg.g(),this.g.onreadystatechange=p(u(this.Ca,this));try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(M){hy(this,M);return}if(l=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var j in _)g.set(j,_[j]);else if(typeof _.keys=="function"&&typeof _.get=="function")for(const M of _.keys())g.set(M,_.get(M));else throw Error("Unknown input type for opt_headers: "+String(_));_=Array.from(g.keys()).find(M=>M.toLowerCase()=="content-type"),j=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(pb,f,void 0)>=0)||_||j||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[M,$]of g)this.g.setRequestHeader(M,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(M){hy(this,M)}};function hy(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.o=5,fy(l),El(l)}function fy(l){l.A||(l.A=!0,qe(l,"complete"),qe(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,qe(this,"complete"),qe(this,"abort"),El(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),El(this,!0)),De.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?my(this):this.Xa())},t.Xa=function(){my(this)};function my(l){if(l.h&&typeof s<"u"){if(l.v&&mr(l)==4)setTimeout(l.Ca.bind(l),0);else if(qe(l,"readystatechange"),mr(l)==4){l.h=!1;try{const M=l.ca();e:switch(M){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var _;if(_=M===0){let $=String(l.D).match(ry)[1]||null;!$&&o.self&&o.self.location&&($=o.self.location.protocol.slice(0,-1)),_=!mb.test($?$.toLowerCase():"")}g=_}if(g)qe(l,"complete"),qe(l,"success");else{l.o=6;try{var j=mr(l)>2?l.g.statusText:""}catch{j=""}l.l=j+" ["+l.ca()+"]",fy(l)}}finally{El(l)}}}}function El(l,f){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,f||qe(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function mr(l){return l.g?l.g.readyState:0}t.ca=function(){try{return mr(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),KI(f)}};function py(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function gb(l){const f={};l=(l.g&&mr(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let _=0;_<l.length;_++){if(C(l[_]))continue;var g=eb(l[_]);const j=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const M=f[j]||[];f[j]=M,M.push(g)}X(f,function(_){return _.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function To(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function gy(l){this.za=0,this.i=[],this.j=new ho,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=To("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=To("baseRetryDelayMs",5e3,l),this.Za=To("retryDelaySeedMs",1e4,l),this.Ta=To("forwardChannelMaxRetries",2,l),this.va=To("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Jg(l&&l.concurrentRequestLimit),this.Ba=new fb,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=gy.prototype,t.ka=8,t.I=1,t.connect=function(l,f,g,_){St(0),this.W=l,this.H=f||{},g&&_!==void 0&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.J=Iy(this,null,this.W),Il(this)};function jd(l){if(yy(l),l.I==3){var f=l.V++,g=xn(l.J);if(ve(g,"SID",l.M),ve(g,"RID",f),ve(g,"TYPE","terminate"),Eo(l,g),f=new dr(l,l.j,f),f.M=2,f.A=_l(xn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(f.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=f.A,g=!0),g||(f.g=by(f.j,null),f.g.ea(f.A)),f.F=Date.now(),wl(f)}Sy(l)}function Sl(l){l.g&&(Od(l),l.g.cancel(),l.g=null)}function yy(l){Sl(l),l.v&&(o.clearTimeout(l.v),l.v=null),bl(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function Il(l){if(!Zg(l.h)&&!l.m){l.m=!0;var f=l.Ea;V||v(),D||(V(),D=!0),E.add(f,l),l.D=0}}function yb(l,f){return ey(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=f.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=uo(u(l.Ea,l,f),Ey(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const j=new dr(this,this.j,l);let M=this.o;if(this.U&&(M?(M=me(M),On(M,this.U)):M=this.U),this.u!==null||this.R||(j.J=M,M=null),this.S)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var _=this.i[g];if("__data__"in _.map&&(_=_.map.__data__,typeof _=="string")){_=_.length;break t}_=void 0}if(_===void 0)break;if(f+=_,f>4096){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=xy(this,j,f),g=xn(this.J),ve(g,"RID",l),ve(g,"CVER",22),this.G&&ve(g,"X-HTTP-Session-Id",this.G),Eo(this,g),M&&(this.R?f="headers="+fo(dy(M))+"&"+f:this.u&&Vd(g,this.u,M)),Nd(this.h,j),this.Ra&&ve(g,"TYPE","init"),this.S?(ve(g,"$req",f),ve(g,"SID","null"),j.U=!0,Ad(j,g,null)):Ad(j,g,f),this.I=2}}else this.I==3&&(l?vy(this,l):this.i.length==0||Zg(this.h)||vy(this))};function vy(l,f){var g;f?g=f.l:g=l.V++;const _=xn(l.J);ve(_,"SID",l.M),ve(_,"RID",g),ve(_,"AID",l.K),Eo(l,_),l.u&&l.o&&Vd(_,l.u,l.o),g=new dr(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),f&&(l.i=f.G.concat(l.i)),f=xy(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),Nd(l.h,g),Ad(g,_,f)}function Eo(l,f){l.H&&K(l.H,function(g,_){ve(f,_,g)}),l.l&&K({},function(g,_){ve(f,_,g)})}function xy(l,f,g){g=Math.min(l.i.length,g);const _=l.l?u(l.l.Ka,l.l,l):null;e:{var j=l.i;let re=-1;for(;;){const Ge=["count="+g];re==-1?g>0?(re=j[0].g,Ge.push("ofs="+re)):re=0:Ge.push("ofs="+re);let fe=!0;for(let Ze=0;Ze<g;Ze++){var M=j[Ze].g;const wn=j[Ze].map;if(M-=re,M<0)re=Math.max(0,j[Ze].g-100),fe=!1;else try{M="req"+M+"_"||"";try{var $=wn instanceof Map?wn:Object.entries(wn);for(const[li,pr]of $){let gr=pr;a(pr)&&(gr=ur(pr)),Ge.push(M+li+"="+encodeURIComponent(gr))}}catch(li){throw Ge.push(M+"type="+encodeURIComponent("_badmap")),li}}catch{_&&_(wn)}}if(fe){$=Ge.join("&");break e}}$=void 0}return l=l.i.splice(0,g),f.G=l,$}function wy(l){if(!l.g&&!l.v){l.Y=1;var f=l.Da;V||v(),D||(V(),D=!0),E.add(f,l),l.A=0}}function Md(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=uo(u(l.Da,l),Ey(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,_y(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=uo(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,St(10),Sl(this),_y(this))};function Od(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function _y(l){l.g=new dr(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var f=xn(l.na);ve(f,"RID","rpc"),ve(f,"SID",l.M),ve(f,"AID",l.K),ve(f,"CI",l.F?"0":"1"),!l.F&&l.ia&&ve(f,"TO",l.ia),ve(f,"TYPE","xmlhttp"),Eo(l,f),l.u&&l.o&&Vd(f,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=_l(xn(f)),g.u=null,g.R=!0,Qg(g,l)}t.Va=function(){this.C!=null&&(this.C=null,Sl(this),Md(this),St(19))};function bl(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function Ty(l,f){var g=null;if(l.g==f){bl(l),Od(l),l.g=null;var _=2}else if(Pd(l.h,f))g=f.G,ty(l.h,f),_=1;else return;if(l.I!=0){if(f.o)if(_==1){g=f.u?f.u.length:0,f=Date.now()-f.F;var j=l.D;_=vl(),qe(_,new Hg(_,g)),Il(l)}else wy(l);else if(j=f.m,j==3||j==0&&f.X>0||!(_==1&&yb(l,f)||_==2&&Md(l)))switch(g&&g.length>0&&(f=l.h,f.i=f.i.concat(g)),j){case 1:ai(l,5);break;case 4:ai(l,10);break;case 3:ai(l,6);break;default:ai(l,2)}}}function Ey(l,f){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*f}function ai(l,f){if(l.j.info("Error code "+f),f==2){var g=u(l.bb,l),_=l.Ua;const j=!_;_=new hr(_||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||po(_,"https"),_l(_),j?db(_.toString(),g):hb(_.toString(),g)}else St(2);l.I=0,l.l&&l.l.pa(f),Sy(l),yy(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function Sy(l){if(l.I=0,l.ja=[],l.l){const f=ny(l.h);(f.length!=0||l.i.length!=0)&&(S(l.ja,f),S(l.ja,l.i),l.h.i.length=0,x(l.i),l.i.length=0),l.l.oa()}}function Iy(l,f,g){var _=g instanceof hr?xn(g):new hr(g);if(_.g!="")f&&(_.g=f+"."+_.g),go(_,_.u);else{var j=o.location;_=j.protocol,f=f?f+"."+j.hostname:j.hostname,j=+j.port;const M=new hr(null);_&&po(M,_),f&&(M.g=f),j&&go(M,j),g&&(M.h=g),_=M}return g=l.G,f=l.wa,g&&f&&ve(_,g,f),ve(_,"VER",l.ka),Eo(l,_),_}function by(l,f,g){if(f&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Aa&&!l.ma?new De(new Dd({ab:g})):new De(l.ma),f.Fa(l.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ay(){}t=Ay.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Al(){}Al.prototype.g=function(l,f){return new Mt(l,f)};function Mt(l,f){Ie.call(this),this.g=new gy(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(l?l["X-WebChannel-Client-Profile"]=f.sa:l={"X-WebChannel-Client-Profile":f.sa}),this.g.U=l,(l=f&&f.Qb)&&!C(l)&&(this.g.u=l),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!C(f)&&(this.g.G=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new Gi(this)}m(Mt,Ie),Mt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Mt.prototype.close=function(){jd(this.g)},Mt.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=ur(l),l=g);f.i.push(new rb(f.Ya++,l)),f.I==3&&Il(f)},Mt.prototype.N=function(){this.g.l=null,delete this.j,jd(this.g),delete this.g,Mt.Z.N.call(this)};function Cy(l){Ed.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}m(Cy,Ed);function ky(){Sd.call(this),this.status=1}m(ky,Sd);function Gi(l){this.g=l}m(Gi,Ay),Gi.prototype.ra=function(){qe(this.g,"a")},Gi.prototype.qa=function(l){qe(this.g,new Cy(l))},Gi.prototype.pa=function(l){qe(this.g,new ky)},Gi.prototype.oa=function(){qe(this.g,"b")},Al.prototype.createWebChannel=Al.prototype.g,Mt.prototype.send=Mt.prototype.o,Mt.prototype.open=Mt.prototype.m,Mt.prototype.close=Mt.prototype.close,_S=function(){return new Al},wS=function(){return vl()},xS=ii,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},xl.NO_ERROR=0,xl.TIMEOUT=8,xl.HTTP_ERROR=6,Pc=xl,Wg.COMPLETE="complete",vS=Wg,Ug.EventType=lo,lo.OPEN="a",lo.CLOSE="b",lo.ERROR="c",lo.MESSAGE="d",Ie.prototype.listen=Ie.prototype.J,Ho=Ug,De.prototype.listenOnce=De.prototype.K,De.prototype.getLastError=De.prototype.Ha,De.prototype.getLastErrorCode=De.prototype.ya,De.prototype.getStatus=De.prototype.ca,De.prototype.getResponseJson=De.prototype.La,De.prototype.getResponseText=De.prototype.la,De.prototype.send=De.prototype.ea,De.prototype.setWithCredentials=De.prototype.Fa,yS=De}).apply(typeof Jl<"u"?Jl:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no="12.9.0";function S4(t){no=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Kp("@firebase/firestore");function Yi(){return ji.logLevel}function H(t,...e){if(ji.logLevel<=se.DEBUG){const n=e.map(ag);ji.debug(`Firestore (${no}): ${t}`,...n)}}function ir(t,...e){if(ji.logLevel<=se.ERROR){const n=e.map(ag);ji.error(`Firestore (${no}): ${t}`,...n)}}function Mi(t,...e){if(ji.logLevel<=se.WARN){const n=e.map(ag);ji.warn(`Firestore (${no}): ${t}`,...n)}}function ag(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,TS(t,r,n)}function TS(t,e,n){let r=`FIRESTORE (${no}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ir(r),new Error(r)}function ue(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||TS(e,i,r)}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}}class b4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class A4{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ue(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ue(typeof r.accessToken=="string",31837,{l:r}),new ES(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ue(e===null||typeof e=="string",2055,{h:e}),new gt(e)}}class C4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class k4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new C4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class P4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ln(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ue(this.o===void 0,3512);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ue(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=N4(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function oe(t,e){return t<e?-1:t>e?1:0}function sm(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Vh(i)===Vh(s)?oe(i,s):Vh(i)?1:-1}return oe(t.length,e.length)}const R4=55296,D4=57343;function Vh(t){const e=t.charCodeAt(0);return e>=R4&&e<=D4}function zs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx="__name__";class En{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&J(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return En.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof En?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=En.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return oe(e.length,n.length)}static compareSegments(e,n){const r=En.isNumericId(e),i=En.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?En.extractNumericId(e).compare(En.extractNumericId(n)):sm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Br.fromString(e.substring(4,e.length-2))}}class Ae extends En{construct(e,n,r){return new Ae(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ae(n)}static emptyPath(){return new Ae([])}}const V4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class lt extends En{construct(e,n,r){return new lt(e,n,r)}static isValidIdentifier(e){return V4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),lt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vx}static keyField(){return new lt([Vx])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new G(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new G(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new G(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new lt(n)}static emptyPath(){return new lt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(Ae.fromString(e))}static fromName(e){return new Q(Ae.fromString(e).popFirst(5))}static empty(){return new Q(Ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ae.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ae.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new Ae(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j4(t,e,n){if(!n)throw new G(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function M4(t,e,n,r){if(e===!0&&r===!0)throw new G(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jx(t){if(!Q.isDocumentKey(t))throw new G(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function SS(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function cg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function Fa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cg(t);throw new G(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t,e){const n={typeString:t};return e&&(n.value=e),n}function ul(t,e){if(!SS(t))throw new G(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new G(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=-62135596800,Ox=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ox);return new we(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mx)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ox}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:we._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ul(e,we._jsonSchema))return new we(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mx;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}we._jsonSchemaVersion="firestore/timestamp/1.0",we._jsonSchema={type:We("string",we._jsonSchemaVersion),seconds:We("number"),nanoseconds:We("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{static fromTimestamp(e){return new te(e)}static min(){return new te(new we(0,0))}static max(){return new te(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ua=-1;function O4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new we(n+1,0):new we(n,r));return new qr(i,Q.empty(),e)}function L4(t){return new qr(t.readTime,t.key,Ua)}class qr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qr(te.min(),Q.empty(),Ua)}static max(){return new qr(te.max(),Q.empty(),Ua)}}function F4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class B4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==U4)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function z4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function io(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}cd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=-1;function ud(t){return t==null}function Su(t){return t===0&&1/t==-1/0}function $4(t){return typeof t=="number"&&Number.isInteger(t)&&!Su(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS="";function H4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lx(e)),e=W4(t.get(n),e);return Lx(e)}function W4(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case IS:n+="";break;default:n+=s}}return n}function Lx(t){return t+IS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e,n){this.comparator=e,this.root=n||at.EMPTY}insert(e,n){return new Ne(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,at.BLACK,null,null))}remove(e){return new Ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,at.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zl(this.root,e,this.comparator,!0)}}class Zl{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class at{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??at.RED,this.left=i??at.EMPTY,this.right=s??at.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new at(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return at.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return at.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,at.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,at.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}at.EMPTY=null,at.RED=!0,at.BLACK=!1;at.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new at(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.comparator=e,this.data=new Ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ux(this.data.getIterator())}getIteratorFrom(e){return new Ux(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Xe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Xe(this.comparator);return n.data=e,n}}class Ux{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.fields=e,e.sort(lt.comparator)}static empty(){return new un([])}unionWith(e){let n=new Xe(lt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new un(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return zs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new AS("Invalid base64 string: "+s):s}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const q4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gr(t){if(ue(!!t,39018),typeof t=="string"){let e=0;const n=q4.exec(t);if(ue(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Le(t.seconds),nanos:Le(t.nanos)}}function Le(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Kr(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS="server_timestamp",kS="__type__",PS="__previous_value__",NS="__local_write_time__";function dg(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[kS])==null?void 0:r.stringValue)===CS}function dd(t){const e=t.mapValue.fields[PS];return dg(e)?dd(e):e}function Ba(t){const e=Gr(t.mapValue.fields[NS].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e,n,r,i,s,o,a,c,u,h,m){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h,this.apiKey=m}}const Iu="(default)";class za{constructor(e,n){this.projectId=e,this.database=n||Iu}static empty(){return new za("","")}get isDefaultDatabase(){return this.database===Iu}isEqual(e){return e instanceof za&&e.projectId===this.projectId&&e.database===this.database}}function K4(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new G(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new za(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="__type__",Q4="__max__",ec={mapValue:{}},DS="__vector__",bu="value";function Qr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dg(t)?4:X4(t)?9007199254740991:Y4(t)?10:11:J(28295,{value:t})}function jn(t,e){if(t===e)return!0;const n=Qr(t);if(n!==Qr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ba(t).isEqual(Ba(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Gr(i.timestampValue),a=Gr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Kr(i.bytesValue).isEqual(Kr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Le(i.geoPointValue.latitude)===Le(s.geoPointValue.latitude)&&Le(i.geoPointValue.longitude)===Le(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Le(i.integerValue)===Le(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Le(i.doubleValue),a=Le(s.doubleValue);return o===a?Su(o)===Su(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return zs(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Fx(o)!==Fx(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!jn(o[c],a[c])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function $a(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function $s(t,e){if(t===e)return 0;const n=Qr(t),r=Qr(e);if(n!==r)return oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return oe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Le(s.integerValue||s.doubleValue),c=Le(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Bx(t.timestampValue,e.timestampValue);case 4:return Bx(Ba(t),Ba(e));case 5:return sm(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Kr(s),c=Kr(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=oe(a[u],c[u]);if(h!==0)return h}return oe(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=oe(Le(s.latitude),Le(o.latitude));return a!==0?a:oe(Le(s.longitude),Le(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return zx(t.arrayValue,e.arrayValue);case 10:return function(s,o){var p,x,S,b;const a=s.fields||{},c=o.fields||{},u=(p=a[bu])==null?void 0:p.arrayValue,h=(x=c[bu])==null?void 0:x.arrayValue,m=oe(((S=u==null?void 0:u.values)==null?void 0:S.length)||0,((b=h==null?void 0:h.values)==null?void 0:b.length)||0);return m!==0?m:zx(u,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ec.mapValue&&o===ec.mapValue)return 0;if(s===ec.mapValue)return 1;if(o===ec.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const p=sm(c[m],h[m]);if(p!==0)return p;const x=$s(a[c[m]],u[h[m]]);if(x!==0)return x}return oe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw J(23264,{he:n})}}function Bx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return oe(t,e);const n=Gr(t),r=Gr(e),i=oe(n.seconds,r.seconds);return i!==0?i:oe(n.nanos,r.nanos)}function zx(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=$s(n[i],r[i]);if(s)return s}return oe(n.length,r.length)}function Hs(t){return om(t)}function om(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Kr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=om(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${om(n.fields[o])}`;return i+"}"}(t.mapValue):J(61005,{value:t})}function Nc(t){switch(Qr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dd(t);return e?16+Nc(e):16;case 5:return 2*t.stringValue.length;case 6:return Kr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Nc(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Bi(r.fields,(s,o)=>{i+=s.length+Nc(o)}),i}(t.mapValue);default:throw J(13486,{value:t})}}function am(t){return!!t&&"integerValue"in t}function hg(t){return!!t&&"arrayValue"in t}function $x(t){return!!t&&"nullValue"in t}function Hx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rc(t){return!!t&&"mapValue"in t}function Y4(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[RS])==null?void 0:r.stringValue)===DS}function ua(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ua(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ua(t.arrayValue.values[n]);return e}return{...t}}function X4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Q4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(n)}setAll(e){let n=lt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ua(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Rc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Rc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Bi(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Yt(ua(this.value))}}function VS(t){const e=[];return Bi(t.fields,(n,r)=>{const i=new lt([n]);if(Rc(r)){const s=VS(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new un(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new vt(e,0,te.min(),te.min(),te.min(),Yt.empty(),0)}static newFoundDocument(e,n,r,i){return new vt(e,1,n,te.min(),r,i,0)}static newNoDocument(e,n){return new vt(e,2,n,te.min(),te.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new vt(e,3,n,te.min(),te.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.position=e,this.inclusive=n}}function Wx(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(o.referenceValue),n.key):r=$s(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function qx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu{constructor(e,n="asc"){this.field=e,this.dir=n}}function J4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{}class Qe extends jS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new eM(e,n,r):n==="array-contains"?new rM(e,r):n==="in"?new iM(e,r):n==="not-in"?new sM(e,r):n==="array-contains-any"?new oM(e,r):new Qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new tM(e,r):new nM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison($s(n,this.value)):n!==null&&Qr(this.value)===Qr(n)&&this.matchesComparison($s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends jS{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Mn(e,n)}matches(e){return MS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function MS(t){return t.op==="and"}function OS(t){return Z4(t)&&MS(t)}function Z4(t){for(const e of t.filters)if(e instanceof Mn)return!1;return!0}function lm(t){if(t instanceof Qe)return t.field.canonicalString()+t.op.toString()+Hs(t.value);if(OS(t))return t.filters.map(e=>lm(e)).join(",");{const e=t.filters.map(n=>lm(n)).join(",");return`${t.op}(${e})`}}function LS(t,e){return t instanceof Qe?function(r,i){return i instanceof Qe&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)}(t,e):t instanceof Mn?function(r,i){return i instanceof Mn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&LS(o,i.filters[a]),!0):!1}(t,e):void J(19439)}function FS(t){return t instanceof Qe?function(n){return`${n.field.canonicalString()} ${n.op} ${Hs(n.value)}`}(t):t instanceof Mn?function(n){return n.op.toString()+" {"+n.getFilters().map(FS).join(" ,")+"}"}(t):"Filter"}class eM extends Qe{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class tM extends Qe{constructor(e,n){super(e,"in",n),this.keys=US("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class nM extends Qe{constructor(e,n){super(e,"not-in",n),this.keys=US("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function US(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class rM extends Qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hg(n)&&$a(n.arrayValue,this.value)}}class iM extends Qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&$a(this.value.arrayValue,n)}}class sM extends Qe{constructor(e,n){super(e,"not-in",n)}matches(e){if($a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!$a(this.value.arrayValue,n)}}class oM extends Qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>$a(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function Gx(t,e=null,n=[],r=[],i=null,s=null,o=null){return new aM(t,e,n,r,i,s,o)}function fg(t){const e=ne(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>lm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ud(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Hs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Hs(r)).join(",")),e.Te=n}return e.Te}function mg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!J4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qx(t.startAt,e.startAt)&&qx(t.endAt,e.endAt)}function cm(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function lM(t,e,n,r,i,s,o,a){return new hd(t,e,n,r,i,s,o,a)}function pg(t){return new hd(t)}function Kx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function cM(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function uM(t){return t.collectionGroup!==null}function da(t){const e=ne(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Xe(lt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Cu(s,r))}),n.has(lt.keyField().canonicalString())||e.Ie.push(new Cu(lt.keyField(),r))}return e.Ie}function Nn(t){const e=ne(t);return e.Ee||(e.Ee=dM(e,da(t))),e.Ee}function dM(t,e){if(t.limitType==="F")return Gx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Cu(i.field,s)});const n=t.endAt?new Au(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Au(t.startAt.position,t.startAt.inclusive):null;return Gx(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function um(t,e,n){return new hd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fd(t,e){return mg(Nn(t),Nn(e))&&t.limitType===e.limitType}function BS(t){return`${fg(Nn(t))}|lt:${t.limitType}`}function Xi(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>FS(i)).join(", ")}]`),ud(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Hs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Hs(i)).join(",")),`Target(${r})`}(Nn(t))}; limitType=${t.limitType})`}function md(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of da(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=Wx(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,da(r),i)||r.endAt&&!function(o,a,c){const u=Wx(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,da(r),i))}(t,e)}function hM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zS(t){return(e,n)=>{let r=!1;for(const i of da(t)){const s=fM(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function fM(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?$s(c,u):J(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return bS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM=new Ne(Q.comparator);function sr(){return mM}const $S=new Ne(Q.comparator);function Wo(...t){let e=$S;for(const n of t)e=e.insert(n.key,n);return e}function HS(t){let e=$S;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return ha()}function WS(){return ha()}function ha(){return new zi(t=>t.toString(),(t,e)=>t.isEqual(e))}const pM=new Ne(Q.comparator),gM=new Xe(Q.comparator);function ae(...t){let e=gM;for(const n of t)e=e.add(n);return e}const yM=new Xe(oe);function vM(){return yM}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Su(e)?"-0":e}}function qS(t){return{integerValue:""+t}}function xM(t,e){return $4(e)?qS(e):gg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this._=void 0}}function wM(t,e,n){return t instanceof ku?function(i,s){const o={fields:{[kS]:{stringValue:CS},[NS]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&dg(s)&&(s=dd(s)),s&&(o.fields[PS]=s),{mapValue:o}}(n,e):t instanceof Ha?KS(t,e):t instanceof Wa?QS(t,e):function(i,s){const o=GS(i,s),a=Qx(o)+Qx(i.Ae);return am(o)&&am(i.Ae)?qS(a):gg(i.serializer,a)}(t,e)}function _M(t,e,n){return t instanceof Ha?KS(t,e):t instanceof Wa?QS(t,e):n}function GS(t,e){return t instanceof Pu?function(r){return am(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class ku extends pd{}class Ha extends pd{constructor(e){super(),this.elements=e}}function KS(t,e){const n=YS(e);for(const r of t.elements)n.some(i=>jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wa extends pd{constructor(e){super(),this.elements=e}}function QS(t,e){let n=YS(e);for(const r of t.elements)n=n.filter(i=>!jn(i,r));return{arrayValue:{values:n}}}class Pu extends pd{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Qx(t){return Le(t.integerValue||t.doubleValue)}function YS(t){return hg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function TM(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ha&&i instanceof Ha||r instanceof Wa&&i instanceof Wa?zs(r.elements,i.elements,jn):r instanceof Pu&&i instanceof Pu?jn(r.Ae,i.Ae):r instanceof ku&&i instanceof ku}(t.transform,e.transform)}class EM{constructor(e,n){this.version=e,this.transformResults=n}}class Qn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Dc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gd{}function XS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ZS(t.key,Qn.none()):new dl(t.key,t.data,Qn.none());{const n=t.data,r=Yt.empty();let i=new Xe(lt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new $i(t.key,r,new un(i.toArray()),Qn.none())}}function SM(t,e,n){t instanceof dl?function(i,s,o){const a=i.value.clone(),c=Xx(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof $i?function(i,s,o){if(!Dc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Xx(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(JS(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fa(t,e,n,r){return t instanceof dl?function(s,o,a,c){if(!Dc(s.precondition,o))return a;const u=s.value.clone(),h=Jx(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof $i?function(s,o,a,c){if(!Dc(s.precondition,o))return a;const u=Jx(s.fieldTransforms,c,o),h=o.data;return h.setAll(JS(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(s,o,a){return Dc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function IM(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=GS(r.transform,i||null);s!=null&&(n===null&&(n=Yt.empty()),n.set(r.field,s))}return n||null}function Yx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&zs(r,i,(s,o)=>TM(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class dl extends gd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class $i extends gd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function JS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Xx(t,e,n){const r=new Map;ue(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,_M(o,a,n[i]))}return r}function Jx(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,wM(s,o,e))}return r}class ZS extends gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bM extends gd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AM{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&SM(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=WS();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=XS(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&zs(this.mutations,e.mutations,(n,r)=>Yx(n,r))&&zs(this.baseMutations,e.baseMutations,(n,r)=>Yx(n,r))}}class yg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ue(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return pM}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new yg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $e,le;function PM(t){switch(t){case F.OK:return J(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function eI(t){if(t===void 0)return ir("GRPC error has no .code"),F.UNKNOWN;switch(t){case $e.OK:return F.OK;case $e.CANCELLED:return F.CANCELLED;case $e.UNKNOWN:return F.UNKNOWN;case $e.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case $e.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case $e.INTERNAL:return F.INTERNAL;case $e.UNAVAILABLE:return F.UNAVAILABLE;case $e.UNAUTHENTICATED:return F.UNAUTHENTICATED;case $e.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case $e.NOT_FOUND:return F.NOT_FOUND;case $e.ALREADY_EXISTS:return F.ALREADY_EXISTS;case $e.PERMISSION_DENIED:return F.PERMISSION_DENIED;case $e.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case $e.ABORTED:return F.ABORTED;case $e.OUT_OF_RANGE:return F.OUT_OF_RANGE;case $e.UNIMPLEMENTED:return F.UNIMPLEMENTED;case $e.DATA_LOSS:return F.DATA_LOSS;default:return J(39323,{code:t})}}(le=$e||($e={}))[le.OK=0]="OK",le[le.CANCELLED=1]="CANCELLED",le[le.UNKNOWN=2]="UNKNOWN",le[le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",le[le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",le[le.NOT_FOUND=5]="NOT_FOUND",le[le.ALREADY_EXISTS=6]="ALREADY_EXISTS",le[le.PERMISSION_DENIED=7]="PERMISSION_DENIED",le[le.UNAUTHENTICATED=16]="UNAUTHENTICATED",le[le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",le[le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",le[le.ABORTED=10]="ABORTED",le[le.OUT_OF_RANGE=11]="OUT_OF_RANGE",le[le.UNIMPLEMENTED=12]="UNIMPLEMENTED",le[le.INTERNAL=13]="INTERNAL",le[le.UNAVAILABLE=14]="UNAVAILABLE",le[le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=new Br([4294967295,4294967295],0);function Zx(t){const e=NM().encode(t),n=new gS;return n.update(e),new Uint8Array(n.digest())}function ew(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Br([n,r],0),new Br([i,s],0)]}class vg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new qo(`Invalid padding: ${n}`);if(r<0)throw new qo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new qo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Br.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(Br.fromNumber(r)));return i.compare(RM)===1&&(i=new Br([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Zx(e),[r,i]=ew(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new vg(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Zx(e),[r,i]=ew(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new yd(te.min(),i,new Ne(oe),sr(),ae())}}class hl{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new hl(r,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class tI{constructor(e,n){this.targetId=e,this.Ce=n}}class nI{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class tw{constructor(){this.ve=0,this.Fe=nw(),this.Me=dt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ae(),n=ae(),r=ae();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:J(38017,{changeType:s})}}),new hl(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=nw()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ue(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class DM{constructor(e){this.Ge=e,this.ze=new Map,this.je=sr(),this.He=tc(),this.Je=tc(),this.Ze=new Ne(oe)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:J(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(cm(s))if(r===0){const o=new Q(s.path);this.et(n,o,vt.newNoDocument(o,te.min()))}else ue(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Kr(r).toUint8Array()}catch(c){if(c instanceof AS)return Mi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new vg(o,i,s)}catch(c){return Mi(c instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&cm(a.target)){const c=new Q(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,vt.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.Ke())}});let r=ae();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new yd(e,n,this.Ze,this.je,r);return this.je=sr(),this.He=tc(),this.Je=tc(),this.Ze=new Ne(oe),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new tw,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Xe(oe),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Xe(oe),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new tw),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function tc(){return new Ne(Q.comparator)}function nw(){return new Ne(Q.comparator)}const VM={asc:"ASCENDING",desc:"DESCENDING"},jM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MM={and:"AND",or:"OR"};class OM{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dm(t,e){return t.useProto3Json||ud(e)?e:{value:e}}function Nu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LM(t,e){return Nu(t,e.toTimestamp())}function Rn(t){return ue(!!t,49232),te.fromTimestamp(function(n){const r=Gr(n);return new we(r.seconds,r.nanos)}(t))}function xg(t,e){return hm(t,e).canonicalString()}function hm(t,e){const n=function(i){return new Ae(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iI(t){const e=Ae.fromString(t);return ue(cI(e),10190,{key:e.toString()}),e}function fm(t,e){return xg(t.databaseId,e.path)}function jh(t,e){const n=iI(e);if(n.get(1)!==t.databaseId.projectId)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new G(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(oI(n))}function sI(t,e){return xg(t.databaseId,e)}function FM(t){const e=iI(t);return e.length===4?Ae.emptyPath():oI(e)}function mm(t){return new Ae(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function oI(t){return ue(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function rw(t,e,n){return{name:fm(t,e),fields:n.value.mapValue.fields}}function UM(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:J(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(ue(h===void 0||typeof h=="string",58123),dt.fromBase64String(h||"")):(ue(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),dt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?F.UNKNOWN:eI(u.code);return new G(h,u.message||"")}(o);n=new nI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=jh(t,r.document.name),s=Rn(r.document.updateTime),o=r.document.createTime?Rn(r.document.createTime):te.min(),a=new Yt({mapValue:{fields:r.document.fields}}),c=vt.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Vc(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=jh(t,r.document),s=r.readTime?Rn(r.readTime):te.min(),o=vt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Vc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=jh(t,r.document),s=r.removedTargetIds||[];n=new Vc([],s,i,null)}else{if(!("filter"in e))return J(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new kM(i,s),a=r.targetId;n=new tI(a,o)}}return n}function BM(t,e){let n;if(e instanceof dl)n={update:rw(t,e.key,e.value)};else if(e instanceof ZS)n={delete:fm(t,e.key)};else if(e instanceof $i)n={update:rw(t,e.key,e.data),updateMask:YM(e.fieldMask)};else{if(!(e instanceof bM))return J(16599,{dt:e.type});n={verify:fm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof ku)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Wa)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Pu)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw J(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:LM(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:J(27497)}(t,e.precondition)),n}function zM(t,e){return t&&t.length>0?(ue(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?Rn(i.updateTime):Rn(s);return o.isEqual(te.min())&&(o=Rn(s)),new EM(o,i.transformResults||[])}(n,e))):[]}function $M(t,e){return{documents:[sI(t,e.path)]}}function HM(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=sI(t,i);const s=function(u){if(u.length!==0)return lI(Mn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(p){return{field:Ji(p.field),direction:GM(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=dm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function WM(t){let e=FM(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ue(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(m){const p=aI(m);return p instanceof Mn&&OS(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(p=>function(S){return new Cu(Zi(S.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(m){let p;return p=typeof m=="object"?m.value:m,ud(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(m){const p=!!m.before,x=m.values||[];return new Au(x,p)}(n.startAt));let u=null;return n.endAt&&(u=function(m){const p=!m.before,x=m.values||[];return new Au(x,p)}(n.endAt)),lM(e,i,o,s,a,"F",c,u)}function qM(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function aI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zi(n.unaryFilter.field);return Qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Zi(n.unaryFilter.field);return Qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Zi(n.unaryFilter.field);return Qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zi(n.unaryFilter.field);return Qe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(n){return Qe.create(Zi(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Mn.create(n.compositeFilter.filters.map(r=>aI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(n.compositeFilter.op))}(t):J(30097,{filter:t})}function GM(t){return VM[t]}function KM(t){return jM[t]}function QM(t){return MM[t]}function Ji(t){return{fieldPath:t.canonicalString()}}function Zi(t){return lt.fromServerFormat(t.fieldPath)}function lI(t){return t instanceof Qe?function(n){if(n.op==="=="){if(Hx(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NAN"}};if($x(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hx(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NAN"}};if($x(n.value))return{unaryFilter:{field:Ji(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ji(n.field),op:KM(n.op),value:n.value}}}(t):t instanceof Mn?function(n){const r=n.getFilters().map(i=>lI(i));return r.length===1?r[0]:{compositeFilter:{op:QM(n.op),filters:r}}}(t):J(54877,{filter:t})}function YM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function uI(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n,r,i,s=te.min(),o=te.min(),a=dt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.yt=e}}function JM(t){const e=WM({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?um(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZM{constructor(){this.Sn=new eO}addToCollectionParentIndex(e,n){return this.Sn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(qr.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(qr.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class eO{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Xe(Ae.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xe(Ae.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dI=41943040;class Pt{static withCacheSize(e){return new Pt(e,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pt.DEFAULT_COLLECTION_PERCENTILE=10,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pt.DEFAULT=new Pt(dI,Pt.DEFAULT_COLLECTION_PERCENTILE,Pt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pt.DISABLED=new Pt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ws(0)}static ar(){return new Ws(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="LruGarbageCollector",tO=1048576;function ow([t,e],[n,r]){const i=oe(t,n);return i===0?oe(e,r):i}class nO{constructor(e){this.Pr=e,this.buffer=new Xe(ow),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();ow(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class rO{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){H(sw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){io(n)?H(sw,"Ignoring IndexedDB error during garbage collection: ",n):await ro(n)}await this.Ar(3e5)})}}class iO{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(cd.ce);const r=new nO(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(iw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),iw):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,o=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,a=Date.now(),this.removeTargets(e,r,n))).next(m=>(s=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(u=Date.now(),Yi()<=se.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${m} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m})))}}function sO(t,e){return new iO(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&fa(r.mutation,i,un.empty(),we.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Wo();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=sr();const o=ha(),a=function(){return ha()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof $i)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),fa(h.mutation,u,h.mutation.getFieldMask(),we.now())):o.set(u.key,un.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new aO(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ha();let i=new Ne((o,a)=>o-a),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||un.empty();h=a.applyToLocalView(u,h),r.set(c,h);const m=(i.get(a.batchId)||ae()).add(c);i=i.insert(a.batchId,m)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,m=WS();h.forEach(p=>{if(!s.has(p)){const x=XS(n.get(p),r.get(p));x!==null&&m.set(p,x),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,m))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return cM(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):uM(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(wi());let a=Ua,c=s;return o.next(u=>L.forEach(u,(h,m)=>(a<m.largestBatchId&&(a=m.largestBatchId),s.get(h)?L.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ae())).next(h=>({batchId:a,changes:HS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Wo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Wo();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,c=>{const u=function(m,p){return new hd(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((m,p)=>{o=o.insert(m,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,vt.newInvalidDocument(h)))});let a=Wo();return o.forEach((c,u)=>{const h=s.get(c);h!==void 0&&fa(h.mutation,u,un.empty(),we.now()),md(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return L.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Rn(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:JM(i.bundledQuery),readTime:Rn(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(){this.overlays=new Ne(Q.comparator),this.Lr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wi();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=wi(),s=n.length+1,o=new Q(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ne((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=wi(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=wi(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return L.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CM(n,r));let s=this.Lr.get(n);s===void 0&&(s=ae(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(){this.sessionToken=dt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(){this.kr=new Xe(et.Kr),this.qr=new Xe(et.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new et(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new et(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new Q(new Ae([])),r=new et(n,e),i=new et(n,e+1),s=[];return this.qr.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new Q(new Ae([])),r=new et(n,e),i=new et(n,e+1);let s=ae();return this.qr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new et(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class et{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return Q.comparator(e.key,n.key)||oe(e.Hr,n.Hr)}static Ur(e,n){return oe(e.Hr,n.Hr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Xe(et.Kr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AM(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Jr=this.Jr.add(new et(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?ug:this.Yn-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new et(n,0),i=new et(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Xe(oe);return n.forEach(i=>{const s=new et(i,0),o=new et(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),L.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const o=new et(new Q(s),0);let a=new Xe(oe);return this.Jr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},o),L.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ue(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return L.forEach(n.mutations,i=>{const s=new et(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new et(n,0),i=this.Jr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e){this.ti=e,this.docs=function(){return new Ne(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():vt.newInvalidDocument(n))}getEntries(e,n){let r=sr();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():vt.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=sr();const o=n.path,a=new Q(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||F4(L4(h),r)<=0||(i.has(h.key)||md(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){J(9500)}ni(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new mO(this)}getSize(e){return L.resolve(this.size)}}class mO extends oO{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pO{constructor(e){this.persistence=e,this.ri=new zi(n=>fg(n),mg),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.ii=0,this.si=new wg,this.targetCount=0,this.oi=Ws._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),L.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Ws(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.lr(n),L.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this._i={},this.overlays={},this.ai=new cd(0),this.ui=!1,this.ui=!0,this.ci=new dO,this.referenceDelegate=e(this),this.li=new pO(this),this.indexManager=new ZM,this.remoteDocumentCache=function(i){return new fO(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new XM(n),this.Pi=new cO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uO,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new hO(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new gO(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(s=>this.referenceDelegate.Ii(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return L.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class gO extends B4{constructor(e){super(),this.currentSequenceNumber=e}}class _g{constructor(e){this.persistence=e,this.Ri=new wg,this.Ai=null}static Vi(e){return new _g(e)}get di(){if(this.Ai)return this.Ai;throw J(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.di,r=>{const i=Q.fromPath(r);return this.mi(e,i).next(s=>{s||n.removeEntry(i,te.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Ru{constructor(e,n){this.persistence=e,this.fi=new zi(r=>H4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=sO(this,n)}static Vi(e,n){return new Ru(e,n)}Ti(){}Ii(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return L.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(s=>s?L.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,te.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),L.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Nc(e.data.value)),n}wr(e,n,r){return L.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ae(),i=ae();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Tg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return iD()?8:z4(_t())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ps(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new yO;return this.ys(e,n,o).next(a=>{if(s.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>s.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(Yi()<=se.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Xi(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(Yi()<=se.DEBUG&&H("QueryEngine","Query:",Xi(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Yi()<=se.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Xi(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Nn(n))):L.resolve())}gs(e,n){if(Kx(n))return L.resolve(null);let r=Nn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=um(n,null,"F"),r=Nn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ae(...s);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(n,a);return this.Ss(n,u,o,c.readTime)?this.gs(e,um(n,null,"F")):this.Ds(e,u,n,c)}))})))}ps(e,n,r,i){return Kx(n)||i.isEqual(te.min())?L.resolve(null):this.fs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ss(n,o,r,i)?L.resolve(null):(Yi()<=se.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xi(n)),this.Ds(e,o,n,O4(i,Ua)).next(a=>a))})}bs(e,n){let r=new Xe(zS(e));return n.forEach((i,s)=>{md(e,s)&&(r=r.add(s))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return Yi()<=se.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Xi(n)),this.fs.getDocumentsMatchingQuery(e,n,qr.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="LocalStore",xO=3e8;class wO{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new Ne(oe),this.Fs=new zi(s=>fg(s),mg),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lO(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function _O(t,e,n,r){return new wO(t,e,n,r)}async function fI(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ae();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ns:u,removedBatchIds:o,addedBatchIds:a}))})})}function TO(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const m=u.batch,p=m.keys();let x=L.resolve();return p.forEach(S=>{x=x.next(()=>h.getEntry(c,S)).next(b=>{const P=u.docVersions.get(S);ue(P!==null,48541),b.version.compareTo(P)<0&&(m.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),h.addEntry(b)))})}),x.next(()=>a.mutationQueue.removeMutationBatch(c,m))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ae();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function mI(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function EO(t,e){const n=ne(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const a=[];e.targetChanges.forEach((h,m)=>{const p=i.get(m);if(!p)return;a.push(n.li.removeMatchingKeys(s,h.removedDocuments,m).next(()=>n.li.addMatchingKeys(s,h.addedDocuments,m)));let x=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?x=x.withResumeToken(dt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(h.resumeToken,r)),i=i.insert(m,x),function(b,P,w){return b.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=xO?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(p,x,h)&&a.push(n.li.updateTargetData(s,x))});let c=sr(),u=ae();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(SO(s,o,e.documentUpdates).next(h=>{c=h.Bs,u=h.Ls})),!r.isEqual(te.min())){const h=n.li.getLastRemoteSnapshotVersion(s).next(m=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.vs=i,s))}function SO(t,e,n){let r=ae(),i=ae();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=sr();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(te.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):H(Eg,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Bs:o,Ls:i}})}function IO(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=ug),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function bO(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.li.allocateTargetId(r).next(o=>(i=new kr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function pm(t,e,n){const r=ne(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!io(o))throw o;H(Eg,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function aw(t,e,n){const r=ne(t);let i=te.min(),s=ae();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const m=ne(c),p=m.Fs.get(h);return p!==void 0?L.resolve(m.vs.get(p)):m.li.getTargetData(u,h)}(r,o,Nn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:te.min(),n?s:ae())).next(a=>(AO(r,hM(e),a),{documents:a,ks:s})))}function AO(t,e,n){let r=t.Ms.get(e)||te.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ms.set(e,r)}class lw{constructor(){this.activeTargetIds=vM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class CO{constructor(){this.vo=new lw,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new lw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="ConnectivityMonitor";class uw{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){H(cw,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){H(cw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nc=null;function gm(){return nc===null?nc=function(){return 268435456+Math.round(2147483648*Math.random())}():nc++,"0x"+nc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh="RestConnection",PO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class NO{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Iu?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=gm(),a=this.Qo(e,n.toUriEncodedString());H(Mh,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,s);const{host:u}=new URL(a),h=Zs(u);return this.zo(e,a,c,r,h).then(m=>(H(Mh,`Received RPC '${e}' ${o}: `,m),m),m=>{throw Mi(Mh,`RPC '${e}' ${o} failed with error: `,m,"url: ",a,"request:",r),m})}jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+no}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Qo(e,n){const r=PO[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt="WebChannelConnection",Do=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class bs extends NO{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!bs.c_){const e=wS();Do(e,xS.STAT_EVENT,n=>{n.stat===im.PROXY?H(mt,"STAT_EVENT: detected buffering proxy"):n.stat===im.NOPROXY&&H(mt,"STAT_EVENT: detected no buffering proxy")}),bs.c_=!0}}zo(e,n,r,i,s){const o=gm();return new Promise((a,c)=>{const u=new yS;u.setWithCredentials(!0),u.listenOnce(vS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Pc.NO_ERROR:const m=u.getResponseJson();H(mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),a(m);break;case Pc.TIMEOUT:H(mt,`RPC '${e}' ${o} timed out`),c(new G(F.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const p=u.getStatus();if(H(mt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let x=u.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const b=function(w){const y=w.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(y)>=0?y:F.UNKNOWN}(S.status);c(new G(b,S.message))}else c(new G(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new G(F.UNAVAILABLE,"Connection failed."));break;default:J(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{H(mt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);H(mt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}T_(e,n,r){const i=gm(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=s.join("");H(mt,`Creating RPC '${e}' stream ${i}: ${u}`,a);const h=o.createWebChannel(u,a);this.I_(h);let m=!1,p=!1;const x=new RO({Ho:S=>{p?H(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(H(mt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),H(mt,`RPC '${e}' stream ${i} sending:`,S),h.send(S))},Jo:()=>h.close()});return Do(h,Ho.EventType.OPEN,()=>{p||(H(mt,`RPC '${e}' stream ${i} transport opened.`),x.i_())}),Do(h,Ho.EventType.CLOSE,()=>{p||(p=!0,H(mt,`RPC '${e}' stream ${i} transport closed`),x.o_(),this.E_(h))}),Do(h,Ho.EventType.ERROR,S=>{p||(p=!0,Mi(mt,`RPC '${e}' stream ${i} transport errored. Name:`,S.name,"Message:",S.message),x.o_(new G(F.UNAVAILABLE,"The operation could not be completed")))}),Do(h,Ho.EventType.MESSAGE,S=>{var b;if(!p){const P=S.data[0];ue(!!P,16349);const w=P,y=(w==null?void 0:w.error)||((b=w[0])==null?void 0:b.error);if(y){H(mt,`RPC '${e}' stream ${i} received error:`,y);const T=y.status;let N=function(E){const v=$e[E];if(v!==void 0)return eI(v)}(T),V=y.message;T==="NOT_FOUND"&&V.includes("database")&&V.includes("does not exist")&&V.includes(this.databaseId.database)&&Mi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),N===void 0&&(N=F.INTERNAL,V="Unknown error status: "+T+" with message "+y.message),p=!0,x.o_(new G(N,V)),h.close()}else H(mt,`RPC '${e}' stream ${i} received:`,P),x.__(P)}}),bs.u_(),setTimeout(()=>{x.s_()},0),x}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _S()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DO(t){return new bs(t)}function Oh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t){return new OM(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bs.c_=!1;class pI{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw="PersistentStream";class gI{constructor(e,n,r,i,s,o,a,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pI(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new G(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(dw,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(H(dw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VO extends gI{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UM(this.serializer,e),r=function(s){if(!("targetChange"in s))return te.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?te.min():o.readTime?Rn(o.readTime):te.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=mm(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=cm(c)?{documents:$M(s,c)}:{query:HM(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rI(s,o.resumeToken);const u=dm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(te.min())>0){a.readTime=Nu(s,o.snapshotVersion.toTimestamp());const u=dm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=qM(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=mm(this.serializer),n.removeTarget=e,this.K_(n)}}class jO extends gI{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ue(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ue(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ue(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=zM(e.writeResults,e.commitTime),r=Rn(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=mm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>BM(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MO{}class OO extends MO{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,hm(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(F.UNKNOWN,s.toString())})}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,hm(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new G(F.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function LO(t,e,n,r){return new OO(t,e,n,r)}class FO{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="RemoteStore";class UO{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{Hi(this)&&(H(Oi,"Restarting streams for network reachability change."),await async function(c){const u=ne(c);u.Ea.add(4),await fl(u),u.Va.set("Unknown"),u.Ea.delete(4),await xd(u)}(this))})}),this.Va=new FO(r,i)}}async function xd(t){if(Hi(t))for(const e of t.Ra)await e(!0)}async function fl(t){for(const e of t.Ra)await e(!1)}function yI(t,e){const n=ne(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Ag(n)?bg(n):so(n).O_()&&Ig(n,e))}function Sg(t,e){const n=ne(t),r=so(n);n.Ia.delete(e),r.O_()&&vI(n,e),n.Ia.size===0&&(r.O_()?r.L_():Hi(n)&&n.Va.set("Unknown"))}function Ig(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}so(t).Z_(e)}function vI(t,e){t.da.$e(e),so(t).X_(e)}function bg(t){t.da=new DM({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),so(t).start(),t.Va.ua()}function Ag(t){return Hi(t)&&!so(t).x_()&&t.Ia.size>0}function Hi(t){return ne(t).Ea.size===0}function xI(t){t.da=void 0}async function BO(t){t.Va.set("Online")}async function zO(t){t.Ia.forEach((e,n)=>{Ig(t,e)})}async function $O(t,e){xI(t),Ag(t)?(t.Va.ha(e),bg(t)):t.Va.set("Unknown")}async function HO(t,e,n){if(t.Va.set("Online"),e instanceof nI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.da.removeTarget(a))}(t,e)}catch(r){H(Oi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Du(t,r)}else if(e instanceof Vc?t.da.Xe(e):e instanceof tI?t.da.st(e):t.da.tt(e),!n.isEqual(te.min()))try{const r=await mI(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.da.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.Ia.get(u);h&&s.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=s.Ia.get(c);if(!h)return;s.Ia.set(c,h.withResumeToken(dt.EMPTY_BYTE_STRING,h.snapshotVersion)),vI(s,c);const m=new kr(h.target,c,u,h.sequenceNumber);Ig(s,m)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H(Oi,"Failed to raise snapshot:",r),await Du(t,r)}}async function Du(t,e,n){if(!io(e))throw e;t.Ea.add(1),await fl(t),t.Va.set("Offline"),n||(n=()=>mI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Oi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await xd(t)})}function wI(t,e){return e().catch(n=>Du(t,n,e))}async function wd(t){const e=ne(t),n=Yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ug;for(;WO(e);)try{const i=await IO(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,qO(e,i)}catch(i){await Du(e,i)}_I(e)&&TI(e)}function WO(t){return Hi(t)&&t.Ta.length<10}function qO(t,e){t.Ta.push(e);const n=Yr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function _I(t){return Hi(t)&&!Yr(t).x_()&&t.Ta.length>0}function TI(t){Yr(t).start()}async function GO(t){Yr(t).ra()}async function KO(t){const e=Yr(t);for(const n of t.Ta)e.ea(n.mutations)}async function QO(t,e,n){const r=t.Ta.shift(),i=yg.from(r,e,n);await wI(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wd(t)}async function YO(t,e){e&&Yr(t).Y_&&await async function(r,i){if(function(o){return PM(o)&&o!==F.ABORTED}(i.code)){const s=r.Ta.shift();Yr(r).B_(),await wI(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await wd(r)}}(t,e),_I(t)&&TI(t)}async function hw(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),H(Oi,"RemoteStore received new credentials");const r=Hi(n);n.Ea.add(3),await fl(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await xd(n)}async function XO(t,e){const n=ne(t);e?(n.Ea.delete(2),await xd(n)):e||(n.Ea.add(2),await fl(n),n.Va.set("Unknown"))}function so(t){return t.ma||(t.ma=function(n,r,i){const s=ne(n);return s.sa(),new VO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:BO.bind(null,t),Yo:zO.bind(null,t),t_:$O.bind(null,t),J_:HO.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Ag(t)?bg(t):t.Va.set("Unknown")):(await t.ma.stop(),xI(t))})),t.ma}function Yr(t){return t.fa||(t.fa=function(n,r,i){const s=ne(n);return s.sa(),new jO(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:GO.bind(null,t),t_:YO.bind(null,t),ta:KO.bind(null,t),na:QO.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await wd(t)):(await t.fa.stop(),t.Ta.length>0&&(H(Oi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new Cg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kg(t,e){if(ir("AsyncQueue",`${e}: ${t}`),io(t))return new G(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Q.comparator(n.key,r.key):(n,r)=>Q.comparator(n.key,r.key),this.keyedMap=Wo(),this.sortedSet=new Ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new As;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{constructor(){this.ga=new Ne(Q.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):J(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class qs{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qs(e,n,As.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&fd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class ZO{constructor(){this.queries=mw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ne(n),s=i.queries;i.queries=mw(),s.forEach((o,a)=>{for(const c of a.ba)c.onError(r)})})(this,new G(F.ABORTED,"Firestore shutting down"))}}function mw(){return new zi(t=>BS(t),fd)}async function eL(t,e){const n=ne(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new JO,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=kg(o,`Initialization of query '${Xi(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&Pg(n)}async function tL(t,e){const n=ne(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ba.indexOf(e);o>=0&&(s.ba.splice(o,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function nL(t,e){const n=ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ba)a.Fa(i)&&(r=!0);o.wa=i}}r&&Pg(n)}function rL(t,e,n){const r=ne(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function Pg(t){t.Ca.forEach(e=>{e.next()})}var ym,pw;(pw=ym||(ym={})).Ma="default",pw.Cache="cache";class iL{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ym.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.key=e}}class SI{constructor(e){this.key=e}}class sL{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ae(),this.mutatedKeys=ae(),this.eu=zS(e),this.tu=new As(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new fw,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const p=i.get(h),x=md(this.query,m)?m:null,S=!!p&&this.mutatedKeys.has(p.key),b=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let P=!1;p&&x?p.data.isEqual(x.data)?S!==b&&(r.track({type:3,doc:x}),P=!0):this.su(p,x)||(r.track({type:2,doc:x}),P=!0,(c&&this.eu(x,c)>0||u&&this.eu(x,u)<0)&&(a=!0)):!p&&x?(r.track({type:0,doc:x}),P=!0):p&&!x&&(r.track({type:1,doc:p}),P=!0,(c||u)&&(a=!0)),P&&(x?(o=o.add(x),s=b?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,m)=>function(x,S){const b=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J(20277,{Vt:P})}};return b(x)-b(S)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Xa;return this.Xa=c,o.length!==0||u?{snapshot:new qs(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fw,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ae(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new SI(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new EI(r))}),n}cu(e){this.Za=e.ks,this.Ya=ae();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return qs.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Ng="SyncEngine";class oL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aL{constructor(e){this.key=e,this.hu=!1}}class lL{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new zi(a=>BS(a),fd),this.Iu=new Map,this.Eu=new Set,this.Ru=new Ne(Q.comparator),this.Au=new Map,this.Vu=new wg,this.du={},this.mu=new Map,this.fu=Ws.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function cL(t,e,n=!0){const r=PI(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await II(r,e,n,!0),i}async function uL(t,e){const n=PI(t);await II(n,e,!0,!1)}async function II(t,e,n,r){const i=await bO(t.localStore,Nn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await dL(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&yI(t.remoteStore,i),a}async function dL(t,e,n,r,i){t.pu=(m,p,x)=>async function(b,P,w,y){let T=P.view.ru(w);T.Ss&&(T=await aw(b.localStore,P.query,!1).then(({documents:E})=>P.view.ru(E,T)));const N=y&&y.targetChanges.get(P.targetId),V=y&&y.targetMismatches.get(P.targetId)!=null,D=P.view.applyChanges(T,b.isPrimaryClient,N,V);return yw(b,P.targetId,D.au),D.snapshot}(t,m,p,x);const s=await aw(t.localStore,e,!0),o=new sL(e,s.ks),a=o.ru(s.documents),c=hl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);yw(t,n,u.au);const h=new oL(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function hL(t,e,n){const r=ne(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!fd(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await pm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sg(r.remoteStore,i.targetId),vm(r,i.targetId)}).catch(ro)):(vm(r,i.targetId),await pm(r.localStore,i.targetId,!0))}async function fL(t,e){const n=ne(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sg(n.remoteStore,r.targetId))}async function mL(t,e,n){const r=_L(t);try{const i=await function(o,a){const c=ne(o),u=we.now(),h=a.reduce((x,S)=>x.add(S.key),ae());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=sr(),b=ae();return c.xs.getEntries(x,h).next(P=>{S=P,S.forEach((w,y)=>{y.isValidDocument()||(b=b.add(w))})}).next(()=>c.localDocuments.getOverlayedDocuments(x,S)).next(P=>{m=P;const w=[];for(const y of a){const T=IM(y,m.get(y.key).overlayedDocument);T!=null&&w.push(new $i(y.key,T,VS(T.value.mapValue),Qn.exists(!0)))}return c.mutationQueue.addMutationBatch(x,u,w,a)}).next(P=>{p=P;const w=P.applyToLocalDocumentSet(m,b);return c.documentOverlayCache.saveOverlays(x,P.batchId,w)})}).then(()=>({batchId:p.batchId,changes:HS(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.du[o.currentUser.toKey()];u||(u=new Ne(oe)),u=u.insert(a,c),o.du[o.currentUser.toKey()]=u}(r,i.batchId,n),await ml(r,i.changes),await wd(r.remoteStore)}catch(i){const s=kg(i,"Failed to persist write");n.reject(s)}}async function bI(t,e){const n=ne(t);try{const r=await EO(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ue(o.hu,14607):i.removedDocuments.size>0&&(ue(o.hu,42227),o.hu=!1))}),await ml(n,r,e)}catch(r){await ro(r)}}function gw(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=ne(o);c.onlineState=a;let u=!1;c.queries.forEach((h,m)=>{for(const p of m.ba)p.va(a)&&(u=!0)}),u&&Pg(c)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pL(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new Ne(Q.comparator);o=o.insert(s,vt.newNoDocument(s,te.min()));const a=ae().add(s),c=new yd(te.min(),new Map,new Ne(oe),o,a);await bI(r,c),r.Ru=r.Ru.remove(s),r.Au.delete(e),Rg(r)}else await pm(r.localStore,e,!1).then(()=>vm(r,e,n)).catch(ro)}async function gL(t,e){const n=ne(t),r=e.batch.batchId;try{const i=await TO(n.localStore,e);CI(n,r,null),AI(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ml(n,i)}catch(i){await ro(i)}}async function yL(t,e,n){const r=ne(t);try{const i=await function(o,a){const c=ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(m=>(ue(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(u,m))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);CI(r,e,n),AI(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ml(r,i)}catch(i){await ro(i)}}function AI(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function CI(t,e,n){const r=ne(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function vm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||kI(t,r)})}function kI(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Sg(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Rg(t))}function yw(t,e,n){for(const r of n)r instanceof EI?(t.Vu.addReference(r.key,e),vL(t,r)):r instanceof SI?(H(Ng,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||kI(t,r.key)):J(19791,{wu:r})}function vL(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(H(Ng,"New document in limbo: "+n),t.Eu.add(r),Rg(t))}function Rg(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new Q(Ae.fromString(e)),r=t.fu.next();t.Au.set(r,new aL(n)),t.Ru=t.Ru.insert(n,r),yI(t.remoteStore,new kr(Nn(pg(n.path)),r,"TargetPurposeLimboResolution",cd.ce))}}async function ml(t,e,n){const r=ne(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const m=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(u){i.push(u);const m=Tg.Es(c.targetId,u);s.push(m)}}))}),await Promise.all(o),r.Pu.J_(i),await async function(c,u){const h=ne(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>L.forEach(u,p=>L.forEach(p.Ts,x=>h.persistence.referenceDelegate.addReference(m,p.targetId,x)).next(()=>L.forEach(p.Is,x=>h.persistence.referenceDelegate.removeReference(m,p.targetId,x)))))}catch(m){if(!io(m))throw m;H(Eg,"Failed to update sequence numbers: "+m)}for(const m of u){const p=m.targetId;if(!m.fromCache){const x=h.vs.get(p),S=x.snapshotVersion,b=x.withLastLimboFreeSnapshotVersion(S);h.vs=h.vs.insert(p,b)}}}(r.localStore,s))}async function xL(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){H(Ng,"User change. New user:",e.toKey());const r=await fI(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new G(F.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ml(n,r.Ns)}}function wL(t,e){const n=ne(t),r=n.Au.get(e);if(r&&r.hu)return ae().add(r.key);{let i=ae();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function PI(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bI.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pL.bind(null,e),e.Pu.J_=nL.bind(null,e.eventManager),e.Pu.yu=rL.bind(null,e.eventManager),e}function _L(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yL.bind(null,e),e}class Vu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=vd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return _O(this.persistence,new vO,e.initialUser,this.serializer)}Cu(e){return new hI(_g.Vi,this.serializer)}Du(e){return new CO}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vu.provider={build:()=>new Vu};class TL extends Vu{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ue(this.persistence.referenceDelegate instanceof Ru,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new rO(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Pt.withCacheSize(this.cacheSizeBytes):Pt.DEFAULT;return new hI(r=>Ru.Vi(r,n),this.serializer)}}class xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xL.bind(null,this.syncEngine),await XO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ZO}()}createDatastore(e){const n=vd(e.databaseInfo.databaseId),r=DO(e.databaseInfo);return LO(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new UO(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gw(this.syncEngine,n,0),function(){return uw.v()?new uw:new kO}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,h){const m=new lL(i,s,o,a,c,u);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ne(i);H(Oi,"RemoteStore shutting down."),s.Ea.add(5),await fl(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="FirestoreClient";class SL{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{H(Xr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(H(Xr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=kg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lh(t,e){t.asyncQueue.verifyOperationInProgress(),H(Xr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fI(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function vw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IL(t);H(Xr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>hw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>hw(e.remoteStore,i)),t._onlineComponents=e}async function IL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Xr,"Using user provided OfflineComponentProvider");try{await Lh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Mi("Error using user provided cache. Falling back to memory cache: "+n),await Lh(t,new Vu)}}else H(Xr,"Using default OfflineComponentProvider"),await Lh(t,new TL(void 0));return t._offlineComponents}async function NI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Xr,"Using user provided OnlineComponentProvider"),await vw(t,t._uninitializedComponentsProvider._online)):(H(Xr,"Using default OnlineComponentProvider"),await vw(t,new xm))),t._onlineComponents}function bL(t){return NI(t).then(e=>e.syncEngine)}async function AL(t){const e=await NI(t),n=e.eventManager;return n.onListen=cL.bind(null,e.syncEngine),n.onUnlisten=hL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=uL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=fL.bind(null,e.syncEngine),n}function CL(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const h=new EL({next:p=>{h.Nu(),o.enqueueAndForget(()=>tL(s,m));const x=p.docs.has(a);!x&&p.fromCache?u.reject(new G(F.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&p.fromCache&&c&&c.source==="server"?u.reject(new G(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),m=new iL(pg(a.path),h,{includeMetadataChanges:!0,Ka:!0});return eL(s,m)}(await AL(t),t.asyncQueue,e,n,r)),r.promise}function kL(t,e){const n=new zr;return t.asyncQueue.enqueueAndForget(async()=>mL(await bL(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PL="ComponentProvider",xw=new Map;function NL(t,e,n,r,i){return new G4(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,RI(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firestore.googleapis.com",ww=!0;class _w{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DI,this.ssl=ww}else this.host=e.host,this.ssl=e.ssl??ww;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dI;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<tO)throw new G(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}M4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=RI(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(F.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _w({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _w(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new I4;switch(r.type){case"firstParty":return new k4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xw.get(n);r&&(H(PL,"Removing Datastore"),xw.delete(n),r.terminate())}(this),Promise.resolve()}}function RL(t,e,n,r={}){var u;t=Fa(t,Dg);const i=Zs(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(RE(`https://${a}`),DE("Firestore",!0)),s.host!==DI&&s.host!==a&&Mi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!Ri(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=gt.MOCK_USER;else{h=Q2(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new G(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new gt(p)}t._authCredentials=new b4(new ES(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vg(this.firestore,e,this._query)}}class nt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nt(this.firestore,e,this._key)}toJSON(){return{type:nt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(ul(n,nt._jsonSchema))return new nt(e,r||null,new Q(Ae.fromString(n.referencePath)))}}nt._jsonSchemaVersion="firestore/documentReference/1.0",nt._jsonSchema={type:We("string",nt._jsonSchemaVersion),referencePath:We("string")};class qa extends Vg{constructor(e,n,r){super(e,n,pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nt(this.firestore,null,new Q(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function Tw(t,e,...n){if(t=gn(t),arguments.length===1&&(e=lg.newId()),j4("doc","path",e),t instanceof Dg){const r=Ae.fromString(e,...n);return jx(r),new nt(t,null,new Q(r))}{if(!(t instanceof nt||t instanceof qa))throw new G(F.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ae.fromString(e,...n));return jx(r),new nt(t.firestore,t instanceof qa?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ew="AsyncQueue";class Sw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pI(this,"async_queue_retry"),this._c=()=>{const r=Oh();r&&H(Ew,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Oh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Oh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new zr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!io(e))throw e;H(Ew,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",Iw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Cg.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&J(47125,{Pc:Iw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Iw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class jg extends Dg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Sw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Sw(e),this._firestoreClient=void 0,await e}}}function DL(t,e){const n=typeof t=="object"?t:OE(),r=typeof t=="string"?t:Iu,i=Yp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=G2("firestore");s&&RL(i,...s)}return i}function VI(t){if(t._terminated)throw new G(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VL(t),t._firestoreClient}function VL(t){var r,i,s,o;const e=t._freezeSettings(),n=NL(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new SL(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xt(dt.fromBase64String(e))}catch(n){throw new G(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xt(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Xt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ul(e,Xt._jsonSchema))return Xt.fromBase64String(e.bytes)}}Xt._jsonSchemaVersion="firestore/bytes/1.0",Xt._jsonSchema={type:We("string",Xt._jsonSchemaVersion),bytes:We("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new lt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Dn._jsonSchemaVersion}}static fromJSON(e){if(ul(e,Dn._jsonSchema))return new Dn(e.latitude,e.longitude)}}Dn._jsonSchemaVersion="firestore/geoPoint/1.0",Dn._jsonSchema={type:We("string",Dn._jsonSchemaVersion),latitude:We("number"),longitude:We("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:mn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ul(e,mn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new mn(e.vectorValues);throw new G(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}mn._jsonSchemaVersion="firestore/vectorValue/1.0",mn._jsonSchema={type:We("string",mn._jsonSchemaVersion),vectorValues:We("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jL=/^__.*__$/;class ML{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new $i(e,this.data,this.fieldMask,n,this.fieldTransforms):new dl(e,this.data,n,this.fieldTransforms)}}function OI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{dataSource:t})}}class Mg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Mg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ju(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(OI(this.dataSource)&&jL.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class OL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vd(e)}createContext(e,n,r,i=!1){return new Mg({dataSource:e,methodName:n,targetDoc:r,path:lt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function LL(t){const e=t._freezeSettings(),n=vd(t._databaseId);return new OL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function FL(t,e,n,r,i,s={}){const o=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);BI("Data must be an object, but it was:",o,r);const a=FI(r,o);let c,u;if(s.merge)c=new un(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const m of s.mergeFields){const p=Og(e,m,n);if(!o.contains(p))throw new G(F.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);zL(h,p)||h.push(p)}c=new un(h),u=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,u=o.fieldTransforms;return new ML(new Yt(a),c,u)}function LI(t,e){if(UI(t=gn(t)))return BI("Unsupported field value:",e,t),FI(t,e);if(t instanceof MI)return function(r,i){if(!OI(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=LI(a,i.childContextForArray(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=gn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xM(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=we.fromDate(r);return{timestampValue:Nu(i.serializer,s)}}if(r instanceof we){const s=new we(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nu(i.serializer,s)}}if(r instanceof Dn)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Xt)return{bytesValue:rI(i.serializer,r._byteString)};if(r instanceof nt){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:xg(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof mn)return function(o,a){const c=o instanceof mn?o.toArray():o;return{mapValue:{fields:{[RS]:{stringValue:DS},[bu]:{arrayValue:{values:c.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return gg(a.serializer,h)})}}}}}}(r,i);if(uI(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${cg(r)}`)}(t,e)}function FI(t,e){const n={};return bS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(t,(r,i)=>{const s=LI(i,e.childContextForField(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function UI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof we||t instanceof Dn||t instanceof Xt||t instanceof nt||t instanceof MI||t instanceof mn||uI(t))}function BI(t,e,n){if(!UI(n)||!SS(n)){const r=cg(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Og(t,e,n){if((e=gn(e))instanceof jI)return e._internalPath;if(typeof e=="string")return BL(t,e);throw ju("Field path arguments must be of type string or ",t,!1,void 0,n)}const UL=new RegExp("[~\\*/\\[\\]]");function BL(t,e,n){if(e.search(UL)>=0)throw ju(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new jI(...e.split("."))._internalPath}catch{throw ju(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function ju(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new G(F.INVALID_ARGUMENT,a+t+c)}function zL(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{convertValue(e,n="none"){switch(Qr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Le(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Kr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw J(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Bi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[bu].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Le(o.doubleValue));return new mn(n)}convertGeoPoint(e){return new Dn(Le(e.latitude),Le(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ba(e));default:return null}}convertTimestamp(e){const n=Gr(e);return new we(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ae.fromString(e);ue(cI(r),9688,{name:e});const i=new za(r.get(1),r.get(3)),s=new Q(r.popFirst(5));return i.isEqual(n)||ir(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL extends $L{constructor(e){super(),this.firestore=e}convertBytes(e){return new Xt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nt(this.firestore,null,n)}}const bw="@firebase/firestore",Aw="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new nt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Og("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class WL extends zI{data(){return super.data()}}function qL(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Go{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ii extends zI{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Og("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ii._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ii._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ii._jsonSchema={type:We("string",Ii._jsonSchemaVersion),bundleSource:We("string","DocumentSnapshot"),bundleName:We("string"),bundle:We("string")};class jc extends Ii{data(e={}){return super.data(e)}}class ma{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new jc(this._firestore,this._userDataWriter,r.key,r,new Go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new jc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Go(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new jc(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Go(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:GL(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ma._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ma._jsonSchemaVersion="firestore/querySnapshot/1.0",ma._jsonSchema={type:We("string",ma._jsonSchemaVersion),bundleSource:We("string","QuerySnapshot"),bundleName:We("string"),bundle:We("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){t=Fa(t,nt);const e=Fa(t.firestore,jg),n=VI(e);return CL(n,t._key).then(r=>XL(e,t,r))}function QL(t,e,n){t=Fa(t,nt);const r=Fa(t.firestore,jg),i=qL(t.converter,e,n),s=LL(r);return YL(r,[FL(s,"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Qn.none())])}function YL(t,e){const n=VI(t);return kL(n,e)}function XL(t,e,n){const r=n.docs.get(e._key),i=new HL(t);return new Ii(t,i,e._key,r,new Go(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){S4(eo),Us(new Di("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new jg(new A4(r.getProvider("auth-internal")),new P4(o,r.getProvider("app-check-internal")),K4(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ur(bw,Aw,e),Ur(bw,Aw,"esm2020")})();const JL={apiKey:"YOUR_API_KEY",authDomain:"YOUR_AUTH_DOMAIN",projectId:"YOUR_PROJECT_ID",storageBucket:"YOUR_STORAGE_BUCKET",messagingSenderId:"YOUR_MESSAGING_SENDER_ID",appId:"YOUR_APP_ID"},$I=ME(JL),Lg=T4($I),Cw=DL($I),ZL=new Bn,e3=async()=>{try{return(await Nj(Lg,ZL)).user}catch(t){throw console.error("Error signing in with Google",t),t}},t3=()=>dj(Lg);function Mc(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mc=function(e){return typeof e}:Mc=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mc(t)}var HI="clover",n3=function(e){return e===3?"v3":e},WI="https://js.stripe.com",r3="".concat(WI,"/").concat(HI,"/stripe.js"),i3=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,s3=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var o3=function(e){return i3.test(e)||s3.test(e)},a3=function(){for(var e=document.querySelectorAll('script[src^="'.concat(WI,'"]')),n=0;n<e.length;n++){var r=e[n];if(o3(r.src))return r}return null},kw=function(e){var n="",r=document.createElement("script");r.src="".concat(r3).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},l3=function(e,n){!e||!e._registerWrapper||e._registerWrapper({name:"stripe-js",version:"8.7.0",startTime:n})},Vo=null,rc=null,ic=null,c3=function(e){return function(n){e(new Error("Failed to load Stripe.js",{cause:n}))}},u3=function(e,n){return function(){window.Stripe?e(window.Stripe):n(new Error("Stripe.js not available"))}},d3=function(e){return Vo!==null?Vo:(Vo=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe){n(window.Stripe);return}try{var i=a3();if(!(i&&e)){if(!i)i=kw(e);else if(i&&ic!==null&&rc!==null){var s;i.removeEventListener("load",ic),i.removeEventListener("error",rc),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=kw(e)}}ic=u3(n,r),rc=c3(r),i.addEventListener("load",ic),i.addEventListener("error",rc)}catch(o){r(o);return}}),Vo.catch(function(n){return Vo=null,Promise.reject(n)}))},h3=function(e,n,r){if(e===null)return null;var i=n[0];if(typeof i!="string")throw new Error("Expected publishable key to be of type string, got type ".concat(Mc(i)," instead."));var s=i.match(/^pk_test/),o=n3(e.version),a=HI;s&&o!==a&&console.warn("Stripe.js@".concat(o," was loaded on the page, but @stripe/stripe-js@").concat("8.7.0"," expected Stripe.js@").concat(a,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var c=e.apply(void 0,n);return l3(c,r),c},jo,qI=!1,GI=function(){return jo||(jo=d3(null).catch(function(e){return jo=null,Promise.reject(e)}),jo)};Promise.resolve().then(function(){return GI()}).catch(function(t){qI||console.warn(t)});var f3=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];qI=!0;var i=Date.now();return GI().then(function(s){return h3(s,n,i)})};const m3="pk_test_YOUR_KEY_HERE",p3=()=>f3(m3),g3=async t=>{if(!await p3())throw new Error("Stripe failed to initialize");console.log(`Redirecting to Stripe Checkout for price: ${t}`),alert("     Stripe ( )")},pe=({children:t,className:e="",variant:n="white",...r})=>{const i=n==="white"?"bg-white/10":"bg-black/40";return d.jsx("div",{className:`backdrop-blur-xl border border-white/10 rounded-2xl shadow-glass ${i} ${e}`,...r,children:t})},y3=({onClick:t})=>d.jsxs(W.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t("smart"),className:"w-full p-5 mb-8 rounded-2xl bg-electric-blue text-charcoal shadow-glow-blue flex items-center justify-center gap-4 group",children:[d.jsx("div",{className:"bg-charcoal/10 p-2 rounded-lg group-hover:bg-charcoal/20 transition-colors",children:d.jsx(Js,{className:"w-8 h-8"})}),d.jsxs("div",{className:"text-right",children:[d.jsx("div",{className:"text-xl font-black",children:"  - 5 "}),d.jsx("div",{className:"text-sm font-medium opacity-80",children:"-AI     "})]})]}),sc=({label:t,value:e,colorClass:n="text-electric-blue"})=>d.jsxs(pe,{className:"p-6 text-center flex flex-col items-center justify-center gap-1 hover:border-white/20 transition-colors",children:[d.jsx("div",{className:`text-3xl font-black ${n}`,children:e}),d.jsx("div",{className:"text-sm font-medium text-text-secondary",children:t})]}),oc=({icon:t,label:e,active:n=!1,onClick:r})=>d.jsxs("button",{onClick:r,className:`flex flex-col items-center gap-1 px-4 py-2 rounded-xl transition-all ${n?"bg-electric-blue/20 text-electric-blue":"text-text-secondary hover:bg-white/5"}`,children:[d.jsx(t,{className:"w-6 h-6"}),d.jsx("span",{className:"text-[10px] font-bold",children:e})]}),v3=({title:t,sub:e,onUpgrade:n,onRefer:r})=>d.jsxs(W.div,{initial:{opacity:0},animate:{opacity:1},className:"absolute inset-0 z-[50] flex flex-col items-center justify-center p-6 text-center bg-charcoal/60 backdrop-blur-md rounded-3xl",children:[d.jsx("div",{className:"w-20 h-20 bg-neon-purple/20 rounded-full flex items-center justify-center mb-6 shadow-glow-purple",children:d.jsx(Bt,{className:"w-10 h-10 text-neon-purple"})}),d.jsx("h2",{className:"text-2xl font-black mb-2 text-white",children:t}),d.jsx("p",{className:"text-text-secondary text-sm mb-8 leading-relaxed max-w-[240px]",children:e}),d.jsxs("div",{className:"w-full space-y-3",children:[d.jsx("button",{onClick:n,className:"w-full py-4 bg-gradient-to-r from-electric-blue to-neon-purple text-charcoal font-black rounded-xl shadow-glow-blue active:scale-95 transition-all",children:"  "}),d.jsx("button",{onClick:r,className:"w-full py-3 bg-white/5 border border-white/10 text-text-secondary font-bold text-sm rounded-xl hover:bg-white/10 transition-all",children:"     "})]})]}),x3=({userStats:t,onUpdate:e})=>{const[n,r]=Bw.useState(!1);return n?d.jsxs("div",{className:"fixed bottom-24 right-4 left-4 z-[200] bg-charcoal border border-white/10 rounded-2xl p-4 shadow-2xl",children:[d.jsxs("div",{className:"flex justify-between items-center mb-4",children:[d.jsx("h4",{className:"font-black text-white text-xs uppercase tracking-widest",children:" Debug Tools"}),d.jsx("button",{onClick:()=>r(!1),className:"text-text-muted hover:text-white",children:d.jsx(il,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[d.jsx("button",{onClick:()=>e({...t,dailySwipes:0}),className:"p-2 bg-white/5 rounded-lg text-[10px] font-bold text-electric-blue border border-electric-blue/20",children:"Reset Swipes (0/10)"}),d.jsx("button",{onClick:()=>e({...t,dailySwipes:10}),className:"p-2 bg-white/5 rounded-lg text-[10px] font-bold text-neon-pink border border-neon-pink/20",children:"Max Swipes (10/10)"}),d.jsx("button",{onClick:()=>e({...t,credits:(t.credits||0)+50}),className:"p-2 bg-white/5 rounded-lg text-[10px] font-bold text-cyber-yellow border border-cyber-yellow/20",children:"Add +50 Credits"}),d.jsx("button",{onClick:()=>{const i=new Date;i.setMinutes(i.getMinutes()-1),e({...t,tierExpiry:i.toISOString()})},className:"p-2 bg-white/5 rounded-lg text-[10px] font-bold text-text-muted border border-white/10",children:"Expire Tier Now"}),d.jsx("button",{onClick:()=>e({...t,tier:"free",tierExpiry:null}),className:"p-2 bg-white/5 rounded-lg text-[10px] font-bold text-white border border-white/10",children:"Set Tier: Free"}),d.jsx("button",{onClick:()=>e({...t,tier:"pro",tierExpiry:null}),className:"p-2 bg-white/5 rounded-lg text-[10px] font-bold text-neon-purple border border-neon-purple/20",children:"Set Tier: Pro"})]})]}):d.jsx("button",{onClick:()=>r(!0),className:"fixed bottom-24 right-4 z-[200] w-12 h-12 bg-charcoal border border-white/10 rounded-full flex items-center justify-center shadow-glow-purple text-xl hover:scale-110 transition-all",children:""})},w3=({onStartLearning:t,userProfile:e,userStats:n,getLevelName:r})=>{var c;const i=Object.values(n.categoryTotal||{}).reduce((u,h)=>u+Number(h),0),s=Object.values(n.categoryErrors||{}).reduce((u,h)=>u+Number(h),0),o=i>0?Math.round((i-s)/i*100):0,a=Math.floor(n.xp/10);return d.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"px-5 pt-8 pb-32",children:[d.jsxs("header",{className:"text-center mb-8",children:[d.jsxs("div",{className:"flex justify-center items-center gap-3 mb-2",children:[d.jsx("h1",{className:"text-5xl font-black bg-gradient-to-r from-electric-blue to-neon-purple bg-clip-text text-transparent tracking-tighter",children:"Bina"}),d.jsx("div",{className:"w-12 h-12 bg-white/5 backdrop-blur-md rounded-2xl flex items-center justify-center border border-white/10",children:d.jsx("span",{className:"text-2xl",children:""})})]}),d.jsx("p",{className:"text-text-secondary font-medium",children:"AI    "})]}),d.jsx("div",{className:"flex justify-center mb-8",children:d.jsxs(W.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"inline-flex items-center gap-3 px-6 py-3 rounded-full bg-gradient-to-r from-neon-purple to-neon-pink shadow-glow-purple font-black text-xl",children:[d.jsx(nx,{className:"w-6 h-6 fill-white"}),d.jsxs("span",{children:[n.streak.count,"  "]})]})}),d.jsxs("div",{className:"mb-8 px-2",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2",children:[d.jsxs("div",{className:"text-sm font-black text-white/70 uppercase tracking-wider",children:[" ",n.level,": ",r(n.level)]}),d.jsxs("div",{className:"text-sm font-black text-electric-blue",children:[n.xp," / ",n.level*500," XP"]})]}),d.jsx("div",{className:"h-2 w-full bg-white/10 rounded-full overflow-hidden border border-white/5",children:d.jsx(W.div,{initial:{width:0},animate:{width:`${n.xp%500/5}%`},className:"h-full bg-gradient-to-r from-electric-blue to-neon-purple"})})]}),d.jsx(y3,{onClick:t}),d.jsxs(pe,{className:"p-5 mb-8 bg-gradient-to-r from-neon-purple/20 to-neon-pink/20 border-neon-purple/30 cursor-pointer overflow-hidden relative group",onClick:()=>t("pricing"),children:[d.jsx(W.div,{animate:{x:[0,50,0]},transition:{duration:10,repeat:1/0},className:"absolute -top-10 -right-10 w-32 h-32 bg-neon-pink/10 blur-3xl rounded-full"}),d.jsxs("div",{className:"relative z-10 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-xs font-black text-neon-pink uppercase tracking-widest mb-1",children:"  "}),d.jsx("div",{className:"text-lg font-black text-white",children:" Bina Pro -30% !"}),d.jsx("div",{className:"text-xs text-text-secondary",children:"    -AI"})]}),d.jsx("div",{className:"bg-neon-pink text-white px-3 py-1 rounded-lg font-black text-sm",children:""})]})]}),((c=n.favorites)==null?void 0:c.length)>0&&d.jsxs("div",{className:"mb-8",children:[d.jsxs("h3",{className:"text-xl font-bold mb-4 pr-1",children:["  (",n.favorites.length,")"]}),d.jsxs(pe,{className:"p-5 flex items-center justify-between cursor-pointer hover:bg-white/5 transition-all group border-neon-pink/30 shadow-glow-pink/10",onClick:()=>t("favorites"),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 bg-neon-pink/10 rounded-xl flex items-center justify-center text-neon-pink group-hover:scale-110 transition-transform",children:d.jsx(TE,{className:"w-7 h-7 fill-neon-pink"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-lg",children:"  "}),d.jsx("div",{className:"text-xs text-text-secondary",children:"    "})]})]}),d.jsx(Ni,{className:"w-6 h-6 text-neon-pink"})]})]}),d.jsx("h3",{className:"text-xl font-bold mb-4 pr-1",children:"  "}),d.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-10",children:[d.jsx(sc,{label:" ",value:(e==null?void 0:e.targetScore)??"687",colorClass:"bg-gradient-to-r from-electric-blue to-cyber-yellow bg-clip-text text-transparent"}),d.jsx(sc,{label:" ",value:n.dailyQuestions||"0"}),d.jsx(sc,{label:" ",value:`${o}%`}),d.jsx(sc,{label:" ",value:a})]}),d.jsx("h3",{className:"text-xl font-bold mb-4 pr-1",children:" "}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsx(Mo,{icon:Fs,title:" ",sub:" : 72%",color:"text-neon-purple",bg:"bg-neon-purple/20",onClick:()=>t("analogies")}),d.jsx(Mo,{icon:Js,title:" ",sub:" ",color:"text-cyber-yellow",bg:"bg-cyber-yellow/20",onClick:()=>t("quantitative")}),d.jsx(Mo,{icon:Bt,title:"",sub:"  ",color:"text-electric-blue",bg:"bg-electric-blue/20",onClick:()=>t("english")}),d.jsx(Mo,{icon:nx,title:" ",sub:" ",color:"text-neon-pink",bg:"bg-neon-pink/20",onClick:()=>t("vocabulary")}),d.jsx(Mo,{icon:SE,title:" - ",sub:"20  | 20 ",color:"text-emerald-400",bg:"bg-emerald-400/20",onClick:()=>t("marathon")})]}),d.jsxs("div",{className:"mt-8 mb-4 flex items-center justify-between",children:[d.jsx("h3",{className:"text-xl font-bold pr-1",children:" "}),d.jsx("button",{onClick:()=>t("custom-edit"),className:"text-xs font-black text-electric-blue uppercase tracking-wider hover:underline",children:"+  "})]}),d.jsxs(pe,{className:"p-5 flex items-center justify-between cursor-pointer hover:bg-white/5 transition-all group border-dashed border-white/20",onClick:()=>t("custom"),children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"w-12 h-12 bg-white/5 rounded-xl flex items-center justify-center text-text-muted group-hover:text-electric-blue transition-colors",children:d.jsx(Ma,{className:"w-7 h-7"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold text-lg",children:"  "}),d.jsx("div",{className:"text-xs text-text-secondary",children:"    "})]})]}),d.jsx(Ni,{className:"w-6 h-6 text-text-muted group-hover:text-electric-blue"})]})]})},Mo=({icon:t,title:e,sub:n,color:r,bg:i,onClick:s})=>d.jsxs(pe,{className:"p-4 flex items-center justify-between hover:bg-white/5 transition-colors group cursor-pointer",onClick:s,children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:`w-10 h-10 ${i} rounded-lg flex items-center justify-center ${r}`,children:d.jsx(t,{className:"w-6 h-6"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-bold",children:e}),d.jsx("div",{className:"text-xs text-text-secondary",children:n})]})]}),d.jsx("button",{onClick:o=>{o.stopPropagation(),s()},className:"text-electric-blue font-bold text-sm",children:""})]}),Pw=({onBack:t,topic:e="vocabulary",awardXP:n,recordActivity:r,favorites:i=[],onToggleFavorite:s,userStats:o,onUpgrade:a,onRefer:c,...u})=>{const[h,m]=O.useState(0),[p,x]=O.useState(0),S=o.tier==="free"&&(o.dailySwipes||0)>=10,P=(()=>{switch(e){case"analogies":return Ec;case"quantitative":return Sc;case"english":return Ic;case"weakPoints":return u.weakPoints||[];case"custom":return u.customLists||[];case"favorites":return[...Tc,...Ec,...Sc,...Ic].filter(E=>i.includes(E.id));default:return Tc}})(),w=h>=P.length,y=w?P[0]:P[h],T={vocabulary:{title:" ",sub:" ",category:" "},analogies:{title:"",sub:" ",category:""},quantitative:{title:" ",sub:" ",category:""},english:{title:"",sub:"Sentence Completion",category:""},weakPoints:{title:" ",sub:"  ",category:""},custom:{title:" ",sub:" ",category:""},favorites:{title:"",sub:" ",category:""}},N=T[e]||T.vocabulary,V=O.useMemo(()=>e!=="marathon"?[]:[...[...Tc,...Ec,...Sc,...Ic]].sort(()=>.5-Math.random()).slice(0,20).map(v=>({...v,correctAnswer:v.definition||v.answer||v.word})),[e]);return e==="marathon"?d.jsx(C2,{questions:V,onClose:t,onShowExplanation:D=>{var E;return(E=u.onShowExplanation)==null?void 0:E.call(u,D)}}):d.jsxs(W.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},className:"px-5 pt-8 pb-32 h-screen flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-8",children:[d.jsx("button",{onClick:t,className:"p-2 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors",children:d.jsx(ar,{className:"w-6 h-6"})}),d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"text-xs font-bold text-text-muted uppercase tracking-widest",children:N.title}),d.jsx("div",{className:"text-sm font-black text-electric-blue",children:N.sub})]}),d.jsx("div",{className:"w-10"})," "]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex justify-between items-center mb-2 text-xs font-bold text-text-secondary",children:[d.jsx("span",{children:" "}),d.jsxs("span",{children:[Math.min(h+1,P.length),"/",P.length]})]}),d.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:d.jsx(W.div,{initial:{width:0},animate:{width:`${Math.min(h+1,P.length)/P.length*100}%`},className:"h-full bg-gradient-to-r from-neon-purple to-electric-blue shadow-glow-blue"})})]}),d.jsxs("div",{className:"flex-1 flex items-center justify-center relative",children:[S&&d.jsx(v3,{title:"  ! ",sub:" 10  .  -Plus     .",onUpgrade:a,onRefer:c}),w?d.jsxs(W.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"glass-card p-8 text-center flex flex-col items-center gap-6 w-full max-w-[360px]",children:[d.jsx("div",{className:"text-6xl",children:""}),d.jsx("h2",{className:"text-2xl font-black text-electric-blue",children:"  !"}),d.jsxs("p",{className:"text-text-secondary",children:[" ",d.jsx("span",{className:"text-electric-blue font-bold",children:p}),"  ",d.jsx("span",{className:"font-bold",children:P.length})," "]}),d.jsxs("div",{className:"flex gap-4 mt-2",children:[d.jsx("button",{onClick:()=>{m(0),x(0),n(20)},className:"px-6 py-3 rounded-xl font-bold bg-electric-blue/20 border border-electric-blue text-electric-blue hover:bg-electric-blue/30 transition-all",children:" "}),d.jsx("button",{onClick:()=>{n(20),t()},className:"px-6 py-3 rounded-xl font-bold bg-white/5 border border-white/10 text-text-secondary hover:bg-white/10 transition-all",children:""})]})]}):d.jsx(In,{mode:"wait",children:d.jsx(b2,{...y,isFavorite:i.includes(y.id),onToggleFavorite:()=>s==null?void 0:s(y.id),disabled:S,onSwipeLeft:()=>{S||(x(D=>D+1),m(D=>D+1),r(10,N.category,!0))},onSwipeRight:()=>{S||(u.onMiss&&u.onMiss(y),m(D=>D+1),r(5,N.category,!1))}},`${e}-${h}`)})]}),d.jsxs("div",{className:"flex justify-between px-8 mt-8",children:[d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-neon-pink flex items-center justify-center text-neon-pink bg-neon-pink/10 shadow-glow-purple",children:d.jsx(il,{className:"w-8 h-8"})}),d.jsx("span",{className:"text-xs font-bold text-text-secondary",children:" "})]}),d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-electric-blue flex items-center justify-center text-electric-blue bg-electric-blue/10 shadow-glow-blue",children:d.jsx(mu,{className:"w-8 h-8"})}),d.jsx("span",{className:"text-xs font-bold text-text-secondary",children:""})]})]})]})},_3=({userStats:t,userProfile:e,setActiveTab:n})=>{var p,x,S;const r=[{label:"",value:(p=t.categoryTotal)!=null&&p.?Math.round((t.categoryTotal.-(t.categoryErrors.||0))/t.categoryTotal.*100):82,color:"#00D9FF"},{label:"",value:(x=t.categoryTotal)!=null&&x.?Math.round((t.categoryTotal.-(t.categoryErrors.||0))/t.categoryTotal.*100):75,color:"#B026FF"},{label:"",value:(S=t.categoryTotal)!=null&&S.?Math.round((t.categoryTotal.-(t.categoryErrors.||0))/t.categoryTotal.*100):91,color:"#FFD700"}],i=t.activityHistory||[{day:"",value:45},{day:"",value:60},{day:"",value:30},{day:"",value:85},{day:"",value:40},{day:"",value:20},{day:"",value:10}],s=Object.values(t.categoryTotal||{}).reduce((b,P)=>b+P,0),o=Object.values(t.categoryErrors||{}).reduce((b,P)=>b+P,0),a=s>0?(s-o)/s:.8,c=(e==null?void 0:e.targetScore)||687,u=Math.min(50,t.xp/100),h=(a-.7)*100,m=Math.min(800,Math.round(c+u+h));return d.jsxs(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"px-5 pt-8 pb-32",children:[d.jsxs("header",{className:"mb-8 flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-black text-text-primary",children:""}),d.jsx("p",{className:"text-sm text-text-secondary",children:"   AI"})]}),d.jsx("div",{className:"w-12 h-12 glass-card-dark flex items-center justify-center text-neon-purple border-neon-purple/30",children:d.jsx(Ma,{className:"w-6 h-6"})})]}),d.jsxs(pe,{className:"p-8 mb-8 text-center relative overflow-hidden group",children:[d.jsx(W.div,{animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},className:"absolute -top-24 -right-24 w-48 h-48 bg-electric-blue/10 rounded-full blur-3xl"}),d.jsxs("div",{className:"relative z-10",children:[d.jsx("div",{className:"text-sm font-bold text-text-secondary uppercase tracking-[0.2em] mb-2",children:"  "}),d.jsx("div",{className:"text-6xl font-black bg-gradient-to-r from-electric-blue via-cyber-yellow to-neon-purple bg-clip-text text-transparent filter drop-shadow-[0_0_15px_rgba(0,217,255,0.4)]",children:m}),d.jsxs("div",{className:"flex items-center justify-center gap-2 mt-4 text-emerald-400 font-bold",children:[d.jsx(Gp,{className:"w-4 h-4"}),d.jsxs("span",{children:["+",Math.round(u+h),"  "]})]})]})]}),d.jsxs("div",{className:"mb-10",children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(Bt,{className:"w-5 h-5 text-cyber-yellow"}),d.jsx("h3",{className:"text-xl font-bold",children:"  "})]}),d.jsx(A2,{data:r,max:100})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[d.jsx(rl,{className:"w-5 h-5 text-neon-purple"}),d.jsx("h3",{className:"text-xl font-bold",children:"  ()"})]}),d.jsx("div",{className:"flex items-end justify-between h-32 px-2",children:i.map((b,P)=>d.jsxs("div",{className:"flex flex-col items-center gap-2 h-full",children:[d.jsx("div",{className:"flex-1 w-6 flex items-end",children:d.jsx(W.div,{initial:{height:0},animate:{height:`${b.value/90*100}%`},className:"w-full bg-white/10 rounded-t-sm border-t border-white/20 hover:bg-neon-purple/20 transition-colors"})}),d.jsx("span",{className:"text-xs font-bold text-text-muted",children:b.day})]},P))})]}),n&&d.jsxs("button",{onClick:()=>n("ai-analysis"),className:"w-full mt-8 py-4 rounded-2xl bg-gradient-to-r from-electric-blue/10 to-neon-purple/10 border border-electric-blue/20 text-white font-black flex items-center justify-center gap-3 hover:from-electric-blue/20 hover:to-neon-purple/20 transition-all group",children:[d.jsx(Bt,{className:"w-5 h-5 text-electric-blue group-hover:scale-110 transition-transform"})," AI    ",d.jsx(Ni,{className:"w-5 h-5 text-text-muted"})]})]})},T3=({achievements:t,onBack:e})=>{const n=[{id:"centurion",name:"  ",desc:" -100 XP ",icon:""},{id:"streak3",name:" ",desc:"3  ",icon:""},{id:"marathon",name:" ",desc:"  ",icon:""},{id:"perfect",name:" ",desc:"100%    20",icon:""}];return d.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"px-5 pt-12 pb-32",children:[d.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-muted mb-8 font-bold",children:[d.jsx(ar,{className:"w-5 h-5"}),d.jsx("span",{children:""})]}),d.jsx("h1",{className:"text-3xl font-black mb-6",children:" "}),d.jsx("div",{className:"grid grid-cols-1 gap-4",children:n.map(r=>{const i=t.includes(r.id);return d.jsxs(pe,{className:`p-4 flex items-center gap-4 ${i?"border-electric-blue/40":"opacity-40 grayscale"}`,children:[d.jsx("div",{className:"text-4xl",children:r.icon}),d.jsxs("div",{children:[d.jsx("div",{className:"font-black text-lg",children:r.name}),d.jsx("div",{className:"text-sm text-text-secondary",children:r.desc})]})]},r.id)})})]})},E3=({userProfile:t,onBack:e})=>{const n=t!=null&&t.examDate?new Date(t.examDate):new Date,r=Math.max(0,Math.ceil((n.getTime()-Date.now())/(1e3*60*60*24))),i=Math.ceil(r/7),s=[{title:"  ",desc:"      ",status:"completed"},{title:" ",desc:"   ",status:"current"},{title:" ",desc:"   ",status:"upcoming"},{title:" ",desc:"   ",status:"upcoming"}];return d.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"px-5 pt-12 pb-32",children:[d.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-muted mb-8 font-bold",children:[d.jsx(ar,{className:"w-5 h-5"}),d.jsx("span",{children:""})]}),d.jsx("h2",{className:"text-3xl font-black mb-2 text-neon-purple",children:" "}),d.jsxs("p",{className:"text-text-secondary mb-8",children:[" ",r,"  (-",i," ) "]}),d.jsxs("div",{className:"space-y-6 relative",children:[d.jsx("div",{className:"absolute top-0 right-4 bottom-0 w-0.5 bg-white/5"}),s.map((o,a)=>d.jsxs("div",{className:"relative pr-10",children:[d.jsx("div",{className:`absolute right-3 top-2 w-3 h-3 rounded-full border-2 ${o.status==="completed"?"bg-emerald-400 border-emerald-400":o.status==="current"?"bg-neon-purple border-neon-purple shadow-glow-purple":"bg-charcoal border-white/20"}`}),d.jsxs(pe,{className:`p-4 ${o.status==="upcoming"?"opacity-50":""}`,children:[d.jsx("h4",{className:"font-black text-lg",children:o.title}),d.jsx("p",{className:"text-sm text-text-secondary",children:o.desc})]})]},a))]})]})},S3=({userStats:t,weakPoints:e,onBack:n,onStartLearning:r})=>{const i=t.categoryErrors||{},s=t.categoryTotal||{},a=[{key:" ",label:" ",icon:"",color:"#00D9FF",topic:"vocabulary"},{key:"",label:"",icon:"",color:"#B026FF",topic:"analogies"},{key:"",label:"",icon:"",color:"#FFD700",topic:"quantitative"},{key:"",label:"",icon:"",color:"#FF0077",topic:"english"}].map(y=>{const T=Object.entries(s).filter(([D])=>D.toLowerCase().includes(y.key.toLowerCase())||y.key.toLowerCase().includes(D.toLowerCase())).reduce((D,[,E])=>D+E,0)||s[y.key]||0,N=Object.entries(i).filter(([D])=>D.toLowerCase().includes(y.key.toLowerCase())||y.key.toLowerCase().includes(D.toLowerCase())).reduce((D,[,E])=>D+E,0)||i[y.key]||0,V=T>0?Math.round((T-N)/T*100):null;return{...y,total:T,errors:N,accuracy:V}}),c=[...a].sort((y,T)=>y.accuracy===null&&T.accuracy===null?0:y.accuracy===null?1:T.accuracy===null?-1:y.accuracy-T.accuracy),u=a.some(y=>y.total>0),h=c.find(y=>y.accuracy!==null),m=[...c].reverse().find(y=>y.accuracy!==null),p=y=>y===null?"text-text-muted":y>=85?"text-emerald-400":y>=65?"text-cyber-yellow":"text-neon-pink",x=y=>y===null?"bg-white/10":y>=85?"bg-emerald-400":y>=65?"bg-cyber-yellow":"bg-neon-pink",S=y=>y===null?"":y>=90?"":y>=75?"":y>=60?"":"",b={};(e||[]).forEach(y=>{const T=y.category||"";b[T]=(b[T]||0)+1});const P=Object.entries(b).sort(([,y],[,T])=>T-y).slice(0,5),w=t.tier==="free";return d.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"px-5 pt-12 pb-32 space-y-6 relative overflow-hidden",children:[w&&d.jsxs("div",{className:"absolute inset-0 z-[40] flex flex-col items-center justify-center p-8 text-center bg-charcoal/40 backdrop-blur-md",children:[d.jsx("div",{className:"w-16 h-16 bg-neon-purple/20 rounded-2xl flex items-center justify-center mb-4 shadow-glow-purple",children:d.jsx(Ma,{className:"w-8 h-8 text-neon-purple"})}),d.jsx("h3",{className:"text-xl font-black mb-2 text-white italic",children:"  AI "}),d.jsx("p",{className:"text-text-secondary text-sm mb-6 max-w-[220px]",children:"        ."}),d.jsx("button",{onClick:()=>r==null?void 0:r("pricing"),className:"px-8 py-3 bg-neon-purple text-white font-black rounded-xl shadow-glow-purple hover:scale-105 transition-all",children:" -Plus"})]}),d.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-text-muted font-bold",children:[d.jsx(ar,{className:"w-5 h-5"}),d.jsx("span",{children:""})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-black mb-1",children:" AI "}),d.jsx("p",{className:"text-text-secondary text-sm",children:"     "})]}),u?d.jsxs(pe,{className:"p-5 border-electric-blue/30 relative overflow-hidden",children:[d.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-electric-blue via-neon-purple to-neon-pink"}),d.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[d.jsx("div",{className:"w-10 h-10 bg-electric-blue/10 rounded-xl flex items-center justify-center flex-shrink-0",children:d.jsx(Bt,{className:"w-6 h-6 text-electric-blue"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] font-black tracking-widest text-electric-blue uppercase mb-1",children:"Bina AI Insight"}),d.jsx("p",{className:"text-sm text-text-secondary leading-relaxed",children:h&&m&&h.key!==m.key?d.jsxs(d.Fragment,{children:[d.jsx("span",{className:"text-white font-bold",children:m.label}),"    (",m.accuracy,"% )."," ",d.jsx("span",{className:"text-neon-pink font-bold",children:h.label}),"     ",h.accuracy,"% ."," ","     ."]}):h?d.jsxs(d.Fragment,{children:["-AI       ",d.jsx("span",{className:"text-neon-pink font-bold",children:h.label}),"  ",h.accuracy,"% .    !"]}):"   -AI     ."})]})]}),h&&d.jsxs("button",{onClick:()=>r==null?void 0:r(h.topic),className:"w-full py-3 rounded-xl bg-electric-blue/10 border border-electric-blue/30 text-electric-blue font-black text-sm hover:bg-electric-blue/20 transition-colors",children:["  ",h.label," "]})]}):d.jsxs(pe,{className:"p-6 text-center border-white/5",children:[d.jsx("div",{className:"text-4xl mb-3",children:""}),d.jsx("div",{className:"font-black text-lg mb-2",children:"-AI   "}),d.jsx("p",{className:"text-text-secondary text-sm",children:"        "})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-black mb-4 flex items-center gap-2",children:[d.jsx(Ma,{className:"w-5 h-5 text-neon-purple"}),"  "]}),d.jsx("div",{className:"space-y-4",children:c.map(y=>d.jsxs(pe,{className:"p-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsx("span",{className:"text-xl",children:y.icon}),d.jsxs("div",{children:[d.jsx("div",{className:"font-black",children:y.label}),d.jsxs("div",{className:"text-xs text-text-muted",children:[y.total,"  | ",y.errors," "]})]})]}),d.jsxs("div",{className:"text-left",children:[d.jsx("div",{className:`text-2xl font-black ${p(y.accuracy)}`,children:y.accuracy!==null?`${y.accuracy}%`:""}),d.jsx("div",{className:"text-xs text-text-muted text-left",children:S(y.accuracy)})]})]}),d.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:d.jsx(W.div,{initial:{width:0},animate:{width:y.accuracy!==null?`${y.accuracy}%`:"0%"},transition:{duration:.8,ease:"easeOut",delay:.1},className:`h-full rounded-full ${x(y.accuracy)}`,style:{boxShadow:y.accuracy!==null&&y.accuracy>=85?"0 0 8px rgba(52,211,153,0.5)":void 0}})})]},y.key))})]}),P.length>0&&d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-black mb-4 flex items-center gap-2",children:[d.jsx(Js,{className:"w-5 h-5 text-neon-pink"}),"  ( )"]}),d.jsx("div",{className:"space-y-2",children:P.map(([y,T],N)=>{const V=P[0][1],D=Math.round(T/V*100);return d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsxs("div",{className:"w-6 text-xs font-black text-text-muted text-center",children:["#",N+1]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[d.jsx("span",{className:"font-bold",children:y}),d.jsxs("span",{className:"text-neon-pink font-black",children:[T," "]})]}),d.jsx("div",{className:"h-1.5 bg-white/5 rounded-full overflow-hidden",children:d.jsx(W.div,{initial:{width:0},animate:{width:`${D}%`},transition:{duration:.6,delay:N*.1},className:"h-full bg-gradient-to-r from-neon-pink to-neon-purple rounded-full"})})]})]},y)})})]}),d.jsxs("div",{children:[d.jsxs("h3",{className:"text-lg font-black mb-4 flex items-center gap-2",children:[d.jsx(Gp,{className:"w-5 h-5 text-cyber-yellow"}),"  "]}),d.jsxs("div",{className:"space-y-3",children:[h&&h.accuracy!==null&&h.accuracy<75&&d.jsxs(pe,{className:"p-4 border-neon-pink/20 flex items-start gap-3",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-black text-sm",children:[" ",h.label]}),d.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:["  ",h.accuracy,"%  15     -10%"]})]})]}),(e||[]).length>3&&d.jsxs(pe,{className:"p-4 border-cyber-yellow/20 flex items-start gap-3",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-black text-sm",children:["  ",e.length,"  "]}),d.jsx("div",{className:"text-xs text-text-secondary mt-1",children:"      "})]})]}),m&&m.accuracy!==null&&m.accuracy>=85&&d.jsxs(pe,{className:"p-4 border-emerald-400/20 flex items-start gap-3",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsxs("div",{children:[d.jsxs("div",{className:"font-black text-sm",children:[m.label,"    !"]}),d.jsxs("div",{className:"text-xs text-text-secondary mt-1",children:["  ",m.accuracy,"%      "]})]})]}),!u&&d.jsxs(pe,{className:"p-4 border-electric-blue/20 flex items-start gap-3",children:[d.jsx("span",{className:"text-2xl",children:""}),d.jsxs("div",{children:[d.jsx("div",{className:"font-black text-sm",children:" !"}),d.jsx("div",{className:"text-xs text-text-secondary mt-1",children:" 20  -AI     "})]})]})]})]})]})},I3=({userStats:t,onBack:e,onUpdateStats:n,notifSettings:r,notifPermission:i,onUpdateNotif:s,onRequestPermission:o,onTestNotif:a})=>{const c=({value:m,onChange:p})=>d.jsx("button",{onClick:()=>p(!m),className:`w-14 h-7 rounded-full transition-all relative flex-shrink-0 ${m?"bg-electric-blue shadow-glow-blue":"bg-white/10"}`,style:{direction:"ltr"},children:d.jsx("div",{className:"absolute top-1.5 w-4 h-4 bg-white rounded-full shadow-sm transition-all duration-200",style:{left:m?"28px":"4px"}})}),u=i==="denied",h=i==="granted";return d.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"px-5 pt-12 pb-32 space-y-5",children:[d.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-text-muted mb-2 font-bold",children:[d.jsx(ar,{className:"w-5 h-5"}),d.jsx("span",{children:""})]}),d.jsxs("div",{children:[d.jsx("h2",{className:"text-3xl font-black mb-1 text-cyber-yellow",children:" AI"}),d.jsx("p",{className:"text-text-secondary text-sm",children:"  Bina   "})]}),d.jsx(pe,{className:"p-5",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("div",{className:"text-text-muted text-xs uppercase font-bold mb-1",children:""}),d.jsxs("div",{className:"text-3xl font-black",children:[" ",t.level]}),d.jsxs("div",{className:"text-text-secondary text-xs mt-1",children:[t.xp," XP "]})]}),d.jsxs("div",{className:"grid grid-cols-2 gap-2 text-center",children:[d.jsxs("div",{className:"bg-emerald-400/10 rounded-xl p-3",children:[d.jsx("div",{className:"text-emerald-400 text-xs font-bold",children:""}),d.jsx("div",{className:"font-black text-sm",children:""})]}),d.jsxs("div",{className:"bg-neon-pink/10 rounded-xl p-3",children:[d.jsx("div",{className:"text-neon-pink text-xs font-bold",children:""}),d.jsx("div",{className:"font-black text-sm",children:""})]})]})]})}),d.jsxs(pe,{className:"p-5 border-electric-blue/20",children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:"w-9 h-9 bg-electric-blue/10 rounded-xl flex items-center justify-center",children:d.jsx(Bt,{className:"w-5 h-5 text-electric-blue"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-black",children:"AI Teacher Mode "}),d.jsx("div",{className:"text-xs text-text-secondary",children:"   "})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-text-secondary",children:"  "}),d.jsx(c,{value:!!t.teacherMode,onChange:m=>n==null?void 0:n({...t,teacherMode:m})})]}),d.jsx(In,{children:t.teacherMode&&d.jsx(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"mt-3 text-xs text-electric-blue font-bold bg-electric-blue/10 rounded-lg p-3",children:"     Bina    !"})})]}),d.jsxs(pe,{className:`p-5 ${r!=null&&r.enabled?"border-cyber-yellow/30":""}`,children:[d.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[d.jsx("div",{className:`w-9 h-9 rounded-xl flex items-center justify-center ${r!=null&&r.enabled?"bg-cyber-yellow/10":"bg-white/5"}`,children:r!=null&&r.enabled?d.jsx(tx,{className:"w-5 h-5 text-cyber-yellow"}):d.jsx(T2,{className:"w-5 h-5 text-text-muted"})}),d.jsxs("div",{children:[d.jsx("div",{className:"font-black",children:"  "}),d.jsx("div",{className:"text-xs text-text-secondary",children:"  "})]})]}),u&&d.jsx("div",{className:"mb-4 p-3 bg-neon-pink/10 border border-neon-pink/20 rounded-xl text-xs text-neon-pink font-bold",children:"    .     ."}),!h&&!u&&d.jsx("button",{onClick:o,className:"w-full mb-4 py-3 rounded-xl bg-cyber-yellow/10 border border-cyber-yellow/30 text-cyber-yellow font-bold text-sm hover:bg-cyber-yellow/20 transition-colors",children:"  "}),d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("span",{className:"text-sm font-bold",children:"  "}),d.jsx(c,{value:!!(r!=null&&r.enabled),onChange:m=>{if(m&&!h){o();return}s==null||s({...r,enabled:m})}})]}),d.jsx(In,{children:(r==null?void 0:r.enabled)&&h&&d.jsxs(W.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-text-secondary",children:" "}),d.jsx("input",{type:"time",value:r.reminderTime,onChange:m=>s==null?void 0:s({...r,reminderTime:m.target.value}),className:"bg-black/40 border border-white/10 rounded-lg px-3 py-1.5 text-white font-mono text-sm focus:outline-none focus:border-electric-blue/50"})]}),d.jsx("div",{className:"space-y-3 pt-2 border-t border-white/5",children:[{key:"streakReminder",label:"   "},{key:"examCountdown",label:"   "},{key:"weakPointsNudge",label:"    "}].map(({key:m,label:p})=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{className:"text-sm text-text-secondary",children:p}),d.jsx(c,{value:!!r[m],onChange:x=>s==null?void 0:s({...r,[m]:x})})]},m))}),d.jsxs("button",{onClick:a,className:"w-full py-3 rounded-xl bg-white/5 border border-white/10 text-text-secondary font-bold text-sm hover:bg-white/10 transition-colors flex items-center justify-center gap-2",children:[d.jsx(tx,{className:"w-4 h-4"}),"   "]})]})})]})]})},b3=({onBack:t,currentTier:e="free",onSelectPlan:n})=>{const r=[{id:"free",name:"",price:"0",features:["10  ","  "," ","  ()"],cta:" ",tier:"free"},{id:"plus",name:"Bina Plus",price:"39",period:"/",save:"149 -6  ( 36%)",features:["  ","  (  )","  AI ","    ","  "],cta:" -Plus",popular:!0,tier:"plus"},{id:"pro",name:"Bina Pro",price:"59",period:"/",save:"199 -6  ( 44%)",features:["   -Plus"," AI   ","   ","   24 ",' " " '],cta:" -Pro",tier:"pro"}];return d.jsxs(W.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"px-5 pt-12 pb-32 min-h-screen bg-charcoal",children:[d.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-text-muted mb-6 font-bold hover:text-white transition-colors",children:[d.jsx(ar,{className:"w-5 h-5"}),d.jsx("span",{children:""})]}),d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-4xl font-black mb-2 bg-gradient-to-r from-electric-blue via-neon-purple to-neon-pink bg-clip-text text-transparent italic",children:"Bina Premium"}),d.jsx("p",{className:"text-text-secondary text-sm",children:"    -800"})]}),d.jsx("div",{className:"space-y-6",children:r.map(i=>{const s=e===i.id;return d.jsxs(pe,{className:`p-6 border-2 transition-all relative overflow-hidden ${i.popular?"border-neon-purple/50 shadow-glow-purple":s?"border-electric-blue/30":"border-white/5"}`,children:[i.popular&&d.jsx("div",{className:"absolute top-0 right-0 bg-neon-purple text-white px-4 py-1 rounded-bl-xl font-black text-[10px] tracking-widest uppercase",children:"  "}),d.jsxs("div",{className:"flex justify-between items-start mb-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"text-2xl font-black text-white",children:i.name}),i.save&&d.jsx("div",{className:"text-[10px] font-bold text-emerald-400 mt-1 uppercase tracking-wider",children:i.save})]}),d.jsxs("div",{className:"text-right",children:[d.jsx("span",{className:"text-3xl font-black text-white",children:i.price}),i.period&&d.jsx("span",{className:"text-sm text-text-secondary",children:i.period})]})]}),d.jsx("ul",{className:"space-y-3 mb-8",children:i.features.map((o,a)=>d.jsxs("li",{className:"flex items-start gap-2 text-sm text-text-secondary",children:[d.jsx("div",{className:"mt-1 flex-shrink-0",children:d.jsx(mu,{className:"w-4 h-4 text-emerald-400"})}),d.jsx("span",{children:o})]},a))}),d.jsx("button",{onClick:()=>{s||(i.id==="free"?n==null||n(i.tier):g3(i.id==="plus"?"price_PLUS_ID":"price_PRO_ID"))},className:`w-full py-4 rounded-xl font-black transition-all ${s?"bg-white/5 text-text-muted cursor-default":i.popular?"bg-neon-purple text-white shadow-glow-purple hover:scale-[1.02]":"bg-electric-blue text-charcoal hover:scale-[1.02]"}`,children:i.cta})]},i.id)})}),d.jsxs("p",{className:"mt-8 text-center text-[10px] text-text-muted leading-relaxed px-8",children:["  .   . ",d.jsx("br",{}),"      ."]})]})},A3=({userStats:t,userProfile:e,user:n,setActiveTab:r,onEditProfile:i,onLogout:s,onRedeem:o,onSimulateFriend:a,showToast:c})=>{var S,b,P,w;const u=[{icon:pu,label:" ",color:"text-electric-blue",action:()=>i()},{icon:Bt,label:" AI ",color:"text-cyber-yellow",action:()=>r("ai-settings")},{icon:rl,label:" ",color:"text-neon-purple",action:()=>r("study-plan")},{icon:Fs,label:"",color:"text-emerald-400",action:()=>r("achievements")},{icon:il,label:"",color:"text-neon-pink",action:()=>s()}],h=e!=null&&e.examDate?new Date(e.examDate).toLocaleDateString("he-IL",{month:"long",year:"numeric"}):" 2024",m=(e==null?void 0:e.dailyMinutes)||60,p=Math.min(100,t.dailyQuestions/50*100),x=Math.min(100,(((b=(S=t.activityHistory)==null?void 0:S.find(y=>y.day===["","","","","","",""][new Date().getDay()]))==null?void 0:b.value)||0)/m*100);return d.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"px-5 pt-12 pb-32 relative",children:[d.jsxs("div",{className:"flex flex-col items-center mb-10",children:[d.jsx("div",{className:"relative mb-4",children:d.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-to-r from-electric-blue to-neon-purple p-1 shadow-glow-blue",children:d.jsx("div",{className:"w-full h-full rounded-full bg-charcoal flex items-center justify-center overflow-hidden",children:n!=null&&n.photoURL?d.jsx("img",{src:n.photoURL,alt:"Profile",className:"w-full h-full object-cover"}):d.jsx(pu,{className:"w-12 h-12 text-text-secondary"})})})}),d.jsx("h2",{className:"text-2xl font-black",children:(n==null?void 0:n.displayName)||(e==null?void 0:e.name)||" Bina"}),d.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[d.jsxs("p",{className:"text-text-secondary text-sm",children:[" : ",h]}),d.jsx("span",{className:"w-1 h-1 bg-text-muted rounded-full"}),d.jsxs("div",{className:"flex items-center gap-1 text-cyber-yellow text-xs font-bold",children:[d.jsx(Bt,{className:"w-3 h-3 fill-cyber-yellow"}),d.jsxs("span",{children:[t.credits||0," Bina Credits"]})]})]})]}),d.jsx("div",{className:"mb-6",children:d.jsxs(pe,{className:"p-5 bg-gradient-to-r from-neon-purple/20 to-neon-pink/20 border-neon-purple/30",children:[d.jsxs("div",{className:"flex justify-between items-center mb-3",children:[d.jsx("h3",{className:"font-black text-white",children:"  -  Plus "}),d.jsx("div",{className:"bg-neon-purple text-white px-2 py-0.5 rounded text-[10px] font-black italic",children:": 10 Points"})]}),d.jsx("p",{className:"text-xs text-text-secondary mb-4 leading-relaxed",children:"  Bina  .     10 Bina Credits     !"}),d.jsxs("div",{className:"flex gap-2 mb-4",children:[d.jsxs("div",{className:"flex-1 bg-black/40 border border-white/10 rounded-lg px-3 py-2 text-[10px] font-mono text-text-muted flex items-center overflow-hidden",children:["bina.app/ref/",t.referralCode]}),d.jsx("button",{onClick:()=>{navigator.clipboard.writeText(`bina.app/ref/${t.referralCode}`),c(" ! ")},className:"bg-neon-purple text-white px-4 py-2 rounded-lg font-black text-xs hover:scale-105 transition-all shadow-glow-purple",children:""})]}),d.jsxs("div",{className:"space-y-2",children:[d.jsx("button",{onClick:()=>o==null?void 0:o(),disabled:t.credits<10,className:`w-full py-3 rounded-xl font-black text-sm flex items-center justify-center gap-2 transition-all ${t.credits>=10?"bg-cyber-yellow text-charcoal shadow-glow-yellow":"bg-white/5 text-text-muted opacity-50 cursor-not-allowed"}`,children:t.tier==="plus"&&t.tierExpiry?d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Plus   "})," ",d.jsx("div",{className:"text-[10px] opacity-70",children:" "})]}):d.jsx(d.Fragment,{children:" 10   Plus "})}),d.jsx("button",{onClick:()=>a==null?void 0:a(),className:"w-full py-2 bg-white/5 border border-white/10 text-emerald-400 font-bold text-[10px] rounded-lg hover:bg-white/10 transition-all uppercase tracking-widest",children:"    (+10)"})]})]})}),d.jsxs("div",{className:"mb-8",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 pr-1",children:" "}),d.jsxs(pe,{className:"p-6 space-y-4",children:[d.jsxs("div",{className:"flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Fs,{className:"w-5 h-5 text-electric-blue"}),d.jsx("span",{className:"font-bold text-sm",children:" "})]}),d.jsxs("span",{className:"text-electric-blue font-black",children:[t.dailyQuestions||0,"/50"]})]}),d.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:d.jsx(W.div,{initial:{width:0},animate:{width:`${p}%`},className:"h-full bg-electric-blue shadow-glow-blue"})}),d.jsxs("div",{className:"pt-2 flex justify-between items-center",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx(Bt,{className:"w-5 h-5 text-cyber-yellow"}),d.jsx("span",{className:"font-bold text-sm",children:" "})]}),d.jsxs("span",{className:"text-cyber-yellow font-black",children:[((w=(P=t.activityHistory)==null?void 0:P.find(y=>y.day===["","","","","","",""][new Date().getDay()]))==null?void 0:w.value)||0,"/",m," '"]})]}),d.jsx("div",{className:"h-2 bg-white/5 rounded-full overflow-hidden",children:d.jsx(W.div,{initial:{width:0},animate:{width:`${x}%`},className:"h-full bg-cyber-yellow shadow-glow-yellow"})})]})]}),d.jsxs("div",{className:"space-y-3",children:[d.jsx("h3",{className:"text-xl font-bold mb-4 pr-1",children:" "}),u.map((y,T)=>d.jsxs(pe,{className:"p-4 flex items-center justify-between hover:bg-white/5 cursor-pointer transition-colors group",onClick:y.action,children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:`p-2 rounded-lg bg-white/5 ${y.color}`,children:d.jsx(y.icon,{className:"w-5 h-5"})}),d.jsx("span",{className:"font-bold text-sm",children:y.label})]}),d.jsx(Ni,{className:"w-5 h-5 text-text-muted group-hover:text-text-primary transition-colors"})]},T))]})]})},C3=({onSave:t,onBack:e,onStartLearning:n})=>{const[r,i]=O.useState(""),[s,o]=O.useState(!1),[a,c]=O.useState(!1),[u,h]=O.useState([]),m=S=>/[\u05d0-\u05ea]/.test(S),p=async S=>{var b;try{const w=m(S)?"he|en":"en|he",T=await(await fetch(`https://api.mymemory.translated.net/get?q=${encodeURIComponent(S)}&langpair=${w}`)).json(),N=(b=T==null?void 0:T.responseData)==null?void 0:b.translatedText;if(N&&N.toLowerCase()!==S.toLowerCase())return N}catch{}return`(${S})`},x=async()=>{const S=r.split(`
`).map(w=>w.trim()).filter(Boolean);if(S.length===0)return;c(!0),h([]);const b=[],P=[];for(let w=0;w<S.length;w++){const y=S[w],T=y.includes(":"),N=y.includes(" - ");let V=y,D="";if(T){const[E,...v]=y.split(":");V=E.trim(),D=v.join(":").trim()}else if(N){const[E,...v]=y.split(" - ");V=E.trim(),D=v.join(" - ").trim()}D||(D=await p(V)),P.push({word:V,definition:D}),h([...P]),b.push({id:`custom-${Date.now()}-${w}`,word:V,definition:D,example:"  ",category:" ",difficulty:"medium"})}c(!1),b.length>0&&(t(b),o(!0))};return d.jsxs(W.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"px-5 pt-8 pb-32 h-screen flex flex-col",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("button",{onClick:e,className:"p-2 bg-white/5 rounded-xl border border-white/10 hover:bg-white/10 transition-colors",children:d.jsx(ar,{className:"w-6 h-6"})}),d.jsx("h2",{className:"text-2xl font-black text-electric-blue",children:"  "}),d.jsx("div",{className:"w-10"})]}),d.jsxs(pe,{className:"p-5 flex-1 flex flex-col gap-4 overflow-hidden",children:[d.jsxs("div",{className:"text-sm text-text-secondary leading-relaxed",children:[d.jsx("span",{className:"font-bold text-white",children:"      ."}),d.jsx("br",{}),d.jsx("span",{className:"text-text-muted text-xs",children:"    Bina  ! "}),d.jsx("br",{}),d.jsxs("span",{className:"text-text-muted text-xs",children:["   : ",d.jsx("code",{className:"text-neon-purple",children:"Apple : "})]})]}),s?d.jsx("div",{className:"flex-1 overflow-y-auto space-y-2",children:u.map((S,b)=>d.jsxs(W.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:b*.03},className:"flex items-center justify-between bg-black/30 rounded-xl px-4 py-3 border border-white/5",children:[d.jsx("span",{className:"font-black text-white",children:S.word}),d.jsx("span",{className:"text-text-secondary text-sm",children:S.definition})]},b))}):a?d.jsxs("div",{className:"flex-1 overflow-y-auto space-y-2",children:[d.jsx("div",{className:"text-center text-electric-blue font-bold text-sm mb-3 animate-pulse",children:" Bina    ..."}),u.map((S,b)=>d.jsxs(W.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},className:"flex items-center justify-between bg-black/30 rounded-xl px-4 py-3 border border-white/5",children:[d.jsx("span",{className:"font-black text-white",children:S.word}),d.jsx("span",{className:"text-text-secondary text-sm",children:S.definition})]},b))]}):d.jsx("textarea",{value:r,onChange:S=>{i(S.target.value),o(!1)},placeholder:`Apple
Banana
Ubiquitous

`,className:"flex-1 bg-black/40 border border-white/10 rounded-xl p-4 text-text-primary font-mono text-sm focus:outline-none focus:border-electric-blue/50 transition-colors resize-none",dir:"auto"}),s?d.jsxs("div",{className:"space-y-3 flex-shrink-0",children:[d.jsxs("div",{className:"text-center text-emerald-400 font-bold text-sm py-1",children:[" ",u.length,"    !"]}),d.jsx("button",{onClick:n,className:"w-full py-4 rounded-xl bg-gradient-to-r from-electric-blue to-neon-purple text-charcoal font-black text-lg shadow-glow-blue active:scale-95 transition-all",children:"  "}),d.jsx("button",{onClick:()=>{o(!1),h([])},className:"w-full py-3 rounded-xl bg-white/5 border border-white/10 text-text-secondary font-bold text-sm",children:" "})]}):d.jsx("button",{onClick:x,disabled:!r.trim()||a,className:"w-full py-4 rounded-xl bg-gradient-to-r from-electric-blue to-neon-purple text-charcoal font-black text-lg shadow-glow-blue disabled:opacity-50 disabled:cursor-not-allowed active:scale-95 transition-all flex-shrink-0 flex items-center justify-center gap-2",children:a?d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"w-5 h-5 border-2 border-charcoal/40 border-t-charcoal rounded-full animate-spin"}),"..."]}):"  "})]})]})},k3=({card:t,onClose:e,onAction:n})=>d.jsx(W.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"fixed top-8 left-4 right-4 z-[100]",children:d.jsxs(pe,{className:"p-4 border-electric-blue/50 shadow-glow-blue relative overflow-hidden group",children:[d.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-electric-blue animate-pulse"}),d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:"w-12 h-12 rounded-xl bg-electric-blue/20 flex items-center justify-center text-electric-blue",children:d.jsx(Bt,{className:"w-7 h-7"})}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex justify-between items-start",children:[d.jsx("div",{className:"text-[10px] font-black tracking-widest text-electric-blue mb-1 uppercase",children:"Surprise AI Challenge"}),d.jsx("button",{onClick:e,className:"text-text-muted hover:text-white transition-colors",children:d.jsx(il,{className:"w-4 h-4"})})]}),d.jsxs("div",{className:"text-base font-bold text-white mb-2",children:["   ",d.jsxs("span",{className:"text-electric-blue",children:['"',t.word,'"']}),"?"]}),d.jsx("div",{className:"flex gap-2",children:d.jsx("button",{onClick:()=>n(),className:"text-xs font-black bg-electric-blue/10 text-electric-blue px-3 py-1.5 rounded-lg border border-electric-blue/30 hover:bg-electric-blue/20 transition-all",children:" "})})]})]})]})}),P3=({item:t,onClose:e,tier:n="free",onUpgrade:r})=>{const i=n!=="pro",s=t.explanation||`    "${t.word||t.id}",  -Bina     ${t.category}.`;return d.jsx(W.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[200] flex items-center justify-center p-6 bg-charcoal/80 backdrop-blur-xl",children:d.jsxs(pe,{className:"max-w-md w-full p-8 border-electric-blue/50 shadow-glow-blue overflow-hidden relative",children:[d.jsx("div",{className:"absolute top-0 right-0 p-4",children:d.jsx("button",{onClick:e,className:"text-text-muted hover:text-white transition-colors",children:d.jsx(il,{className:"w-6 h-6"})})}),d.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[d.jsx("div",{className:"w-12 h-12 rounded-2xl bg-electric-blue/20 flex items-center justify-center text-electric-blue",children:d.jsx(Bt,{className:"w-7 h-7"})}),d.jsxs("div",{children:[d.jsx("div",{className:"text-[10px] font-black tracking-widest text-electric-blue uppercase",children:"Bina AI Explainer"}),d.jsx("h3",{className:"text-xl font-black text-white",children:t.word||" "})]})]}),d.jsx("div",{className:`text-lg text-text-secondary leading-relaxed mb-8 pr-1 min-h-[100px] relative ${i?"overflow-hidden":""}`,children:i?d.jsxs("div",{className:"absolute inset-0 z-10 flex flex-col items-center justify-center text-center bg-charcoal/20 backdrop-blur-md rounded-xl p-4",children:[d.jsx("div",{className:"w-10 h-10 bg-neon-pink/20 rounded-full flex items-center justify-center mb-3",children:d.jsx(Bt,{className:"w-6 h-6 text-neon-pink"})}),d.jsx("div",{className:"text-sm font-black text-white mb-1 italic",children:" Bina Pro "}),d.jsx("div",{className:"text-[10px] text-text-secondary mb-4",children:"      "}),d.jsx("button",{onClick:r,className:"text-xs font-black bg-neon-pink text-white px-4 py-2 rounded-lg shadow-glow-pink hover:scale-105 transition-all",children:" -Pro"})]}):d.jsx(W.p,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:s})}),d.jsx("button",{onClick:e,className:"w-full py-4 bg-white/5 border border-white/10 text-text-secondary font-black rounded-xl hover:bg-white/10 transition-all",children:""})]})})};function N3(){const[t,e]=O.useState("home"),[n,r]=O.useState(null),[i,s]=O.useState(null),[o,a]=O.useState(!0),c=B=>{r(B),setTimeout(()=>r(null),3e3)},[u,h]=O.useState(!1),[m,p]=O.useState("vocabulary"),[x,S]=O.useState(()=>{const B=localStorage.getItem("bina_custom_lists");return B?JSON.parse(B):[]}),[b,P]=O.useState(()=>{const B=localStorage.getItem("bina_weak_points");return B?JSON.parse(B):[]}),[w,y]=O.useState(null),[T,N]=O.useState(null),V=B=>{N(B),setTimeout(()=>N(null),4e3)},[D,E]=O.useState(()=>{const B=localStorage.getItem("bina_user_stats");return B?JSON.parse(B):{xp:0,level:1,streak:{count:1,lastDate:new Date().toISOString().split("T")[0]},achievements:[],categoryErrors:{},categoryTotal:{},dailyQuestions:0,activityHistory:[{day:"",value:0},{day:"",value:0},{day:"",value:0},{day:"",value:0},{day:"",value:0},{day:"",value:0}],favorites:[],teacherMode:!1,tier:"free",tierExpiry:null,dailySwipes:0,lastSwipeDate:new Date().toISOString().split("T")[0],credits:10,referralCode:`BINA-${Math.random().toString(36).substring(2,7).toUpperCase()}`}}),[v,I]=O.useState(null),[A,k]=O.useState(()=>V2()),[R,C]=O.useState(()=>rx()),[Re,Tt]=O.useState(()=>!!localStorage.getItem("bina_onboarding")),[Be,Te]=O.useState(()=>{const B=localStorage.getItem("bina_onboarding");return B?JSON.parse(B):null});O.useEffect(()=>{M2(),A.enabled&&rx()==="granted"&&Qf(A,b.length,Be==null?void 0:Be.examDate);const B=Lg.onAuthStateChanged(async Z=>{if(s(Z),Z){const Me=await KL(Tw(Cw,"users",Z.uid));if(Me.exists()){const de=Me.data();de.stats&&E(de.stats),de.profile&&(Te(de.profile),Tt(!0))}}a(!1)});return()=>B()},[]),O.useEffect(()=>{i&&QL(Tw(Cw,"users",i.uid),{stats:D,profile:Be,lastUpdated:new Date().toISOString()},{merge:!0})},[D,Be,i]),O.useEffect(()=>{A.enabled&&R==="granted"&&Qf(A,b.length,Be==null?void 0:Be.examDate)},[A,R]);const z=B=>{k(B),j2(B)},K=B=>{const Z=!localStorage.getItem("bina_onboarding");if(localStorage.setItem("bina_onboarding",JSON.stringify(B)),Te(B),Tt(!0),Z){const Me={xp:0,level:1,streak:{count:1,lastDate:new Date().toISOString().split("T")[0]},achievements:[],categoryErrors:{},categoryTotal:{},dailyQuestions:0,activityHistory:[{day:"",value:0},{day:"",value:0},{day:"",value:0},{day:"",value:0},{day:"",value:0},{day:"",value:0},{day:"",value:0}],favorites:[],teacherMode:!1,tier:"free",tierExpiry:null,dailySwipes:0,lastSwipeDate:new Date().toISOString().split("T")[0],credits:10,referralCode:`BINA-${Math.random().toString(36).substring(2,7).toUpperCase()}`};E(Me),localStorage.setItem("bina_user_stats",JSON.stringify(Me))}};O.useEffect(()=>{localStorage.setItem("bina_custom_lists",JSON.stringify(x))},[x]),O.useEffect(()=>{localStorage.setItem("bina_weak_points",JSON.stringify(b))},[b]),O.useEffect(()=>{localStorage.setItem("bina_user_stats",JSON.stringify(D))},[D]),O.useEffect(()=>{const B=new Date().toISOString().split("T")[0],Z=D.streak.lastDate,Me=D.lastSwipeDate,de=D.tierExpiry;if(de&&new Date>new Date(de)&&E(Je=>({...Je,tier:"free",tierExpiry:null})),Me!==B&&E(Je=>({...Je,dailySwipes:0,lastSwipeDate:B})),Z!==B){const Je=new Date(Z),vn=new Date(B),it=Math.floor((vn.getTime()-Je.getTime())/(1e3*3600*24));it===1?E(ze=>({...ze,streak:{count:ze.streak.count+1,lastDate:B}})):it>1&&E(ze=>({...ze,streak:{count:1,lastDate:B}}))}},[]);const X=(B,Z,Me)=>{E(de=>{const Je=de.xp+B,vn=Math.floor(Je/500)+1,it=new Date().toISOString().split("T")[0],ze=de.streak.lastDate!==it;let Ie=[...de.achievements];Je>=100&&!Ie.includes("centurion")&&(Ie.push("centurion"),setTimeout(()=>V("  :  -100 XP!"),500));let qe={...de.categoryErrors},cr={...de.categoryTotal},_d=ze?Z?1:0:(de.dailyQuestions||0)+(Z?1:0);Z&&(cr[Z]=(cr[Z]||0)+1,Me===!1&&(qe[Z]=(qe[Z]||0)+1));const gl=["","","","","","",""],Td=new Date().getDay(),ri=gl[Td],yl=(de.activityHistory||[]).map(ur=>ur.day===ri&&Z?{...ur,value:(ur.value||0)+1}:{...ur}),ao={...de,xp:Je,level:vn,achievements:Ie,categoryErrors:qe,categoryTotal:cr,dailyQuestions:_d,activityHistory:yl,streak:{...de.streak,lastDate:it},dailySwipes:Z?(de.dailySwipes||0)+1:de.dailySwipes||0,lastSwipeDate:it};return localStorage.setItem("bina_user_stats",JSON.stringify(ao)),ao})},me=()=>{if(D.credits<10){c("  ! ");return}const B=new Date;B.setHours(B.getHours()+24),E(Z=>({...Z,tier:"plus",tierExpiry:B.toISOString(),credits:Z.credits-10})),c(" !   Plus -24   ")},Se=()=>{E(B=>({...B,credits:(B.credits||0)+10})),c(" !  10  ")},On=()=>{Tt(!0)},kt=async()=>{await t3(),localStorage.clear(),window.location.reload()},Ln=B=>{E(Z=>{const Me=Z.favorites||[],de=Me.includes(B)?Me.filter(Je=>Je!==B):[...Me,B];return{...Z,favorites:de}})},Et=B=>X(B),yn=B=>X(0,B,!1),oo=B=>{const Z=["","","","",""];return Z[Math.min(B-1,Z.length-1)]},ni=(B="vocabulary")=>{let Z=B;if(B==="smart"){const de=["vocabulary","analogies","quantitative","english"],Je=D.categoryErrors,vn=Object.keys(Je).filter(it=>Je[it]>0);if(vn.length>0){const it=vn.reduce((ze,Ie)=>Je[ze]>Je[Ie]?ze:Ie);Tc.some(ze=>ze.category===it)?Z="vocabulary":Ec.some(ze=>ze.category===it)?Z="analogies":Sc.some(ze=>ze.category===it)?Z="quantitative":Ic.some(ze=>ze.category===it)?Z="english":Z=de[Math.floor(Math.random()*de.length)]}else b.length>0&&Math.random()>.6?Z="weakPoints":Z=de[Math.floor(Math.random()*de.length)]}const Me=B==="quantitative"||B==="english"||Z==="quantitative"||Z==="english";if(D.tier==="free"&&Me){e("pricing");return}if(B==="favorites"&&(Z="favorites"),B==="marathon"){p("marathon"),h(!0);return}p(Z),h(!0)},pl=B=>{P(Z=>Z.find(Me=>Me.id===B.id)?Z:[...Z,B].slice(-20)),yn(B.category),Et(5),Math.random()>.4&&setTimeout(()=>y(B),1500)};return Re?d.jsxs("div",{className:"min-h-screen bg-charcoal text-text-primary font-sans selection:bg-electric-blue/30 overflow-x-hidden scanline-overlay",dir:"rtl",children:[d.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[d.jsx("div",{className:"absolute top-[10%] left-[5%] w-64 h-64 bg-electric-blue/10 rounded-full blur-3xl animate-float",style:{animationDuration:"8s"}}),d.jsx("div",{className:"absolute top-[60%] right-[10%] w-96 h-96 bg-neon-purple/10 rounded-full blur-3xl animate-float",style:{animationDelay:"2s",animationDuration:"10s"}}),d.jsx("div",{className:"absolute bottom-[10%] left-[20%] w-48 h-48 bg-neon-pink/5 rounded-full blur-3xl animate-float",style:{animationDelay:"4s",animationDuration:"7s"}})]}),d.jsxs("div",{className:"relative z-10 max-w-md mx-auto min-h-screen flex flex-col",children:[d.jsx(In,{children:n&&d.jsx(W.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"fixed top-8 left-4 right-4 z-50 pointer-events-none",children:d.jsx(pe,{className:"p-3 bg-charcoal/80 border-electric-blue/50 text-center font-bold text-sm text-electric-blue shadow-glow-blue",children:n})})}),d.jsx(In,{mode:"wait",children:w&&d.jsx(k3,{card:w,onClose:()=>y(null),onAction:()=>{ni("weakPoints"),y(null)}},"surprise")}),d.jsx(In,{children:T&&d.jsx(W.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-20 left-4 right-4 z-[110] pointer-events-none",children:d.jsx("div",{className:"bg-gradient-to-r from-cyber-yellow to-neon-pink p-px rounded-xl shadow-glow-purple",children:d.jsxs("div",{className:"bg-charcoal p-4 rounded-xl flex items-center gap-4",children:[d.jsx("div",{className:"text-2xl",children:""}),d.jsx("div",{className:"font-black text-white",children:T})]})})})}),d.jsx(In,{mode:"wait",children:u?d.jsx(Pw,{topic:m,onBack:()=>h(!1),weakPoints:b,customLists:x,onMiss:B=>{pl(B),D.teacherMode&&I(B)},awardXP:Et,recordActivity:X,favorites:D.favorites,onToggleFavorite:Ln,onShowExplanation:I,userStats:D,onUpgrade:()=>{h(!1),e("pricing")},onRefer:()=>{h(!1),e("profile")}},`learning-${m}`):d.jsxs(W.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3,ease:"easeInOut"},className:"flex-1",children:[t==="home"&&d.jsx(w3,{onStartLearning:B=>{B==="custom-edit"?e("custom-edit"):B==="pricing"?e("pricing"):ni(B)},userProfile:Be,userStats:D,getLevelName:oo}),t==="custom-edit"&&d.jsx(C3,{onSave:B=>{S(B),localStorage.setItem("bina_custom_lists",JSON.stringify(B))},onStartLearning:()=>{e("home"),setTimeout(()=>ni("custom"),100)},onBack:()=>e("home")}),t==="learning"&&d.jsx(Pw,{topic:"vocabulary",onBack:()=>e("home"),awardXP:Et,recordActivity:X,onMiss:pl,userStats:D,onUpgrade:()=>{e("pricing")},onRefer:()=>{e("profile")}}),t==="stats"&&d.jsx(_3,{userStats:D,userProfile:Be,setActiveTab:e}),t==="profile"&&d.jsx(A3,{userStats:D,userProfile:Be,user:i,setActiveTab:e,onEditProfile:()=>Tt(!1),onLogout:kt,onRedeem:me,onSimulateFriend:Se,showToast:c}),t==="achievements"&&d.jsx(T3,{achievements:D.achievements,onBack:()=>e("profile")}),t==="study-plan"&&d.jsx(E3,{userProfile:Be,onBack:()=>e("profile")}),t==="ai-analysis"&&d.jsx(S3,{userStats:D,weakPoints:b,onBack:()=>e("stats"),onStartLearning:B=>{e("home"),setTimeout(()=>ni(B),100)}}),t==="ai-settings"&&d.jsx(I3,{userStats:D,onBack:()=>e("profile"),onUpdateStats:B=>{E(B),localStorage.setItem("bina_user_stats",JSON.stringify(B))},notifSettings:A,notifPermission:R,onUpdateNotif:z,onRequestPermission:async()=>{const B=await O2();C(B),B==="granted"&&z({...A,enabled:!0})},onTestNotif:L2}),t==="pricing"&&d.jsx(b3,{onBack:()=>e("home"),currentTier:D.tier,onSelectPlan:B=>{E(Z=>({...Z,tier:B})),e("home")}})]},t)})]}),d.jsx(In,{children:v&&d.jsx(P3,{item:v,onClose:()=>I(null),tier:D.tier,onUpgrade:()=>{I(null),h(!1),e("pricing")}})}),!u&&d.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-black/60 backdrop-blur-2xl border-t border-white/10 px-4 py-4 flex justify-around items-center z-50",children:[d.jsx(oc,{icon:EE,label:"",active:t==="home",onClick:()=>e("home")}),d.jsx(oc,{icon:Fs,label:"",active:t==="learning",onClick:()=>e("learning")}),d.jsx(oc,{icon:Ma,label:"",active:t==="stats",onClick:()=>e("stats")}),d.jsx(oc,{icon:pu,label:"",active:t==="profile",onClick:()=>e("profile")})]}),d.jsx(x3,{userStats:D,onUpdate:B=>{E(B),localStorage.setItem("bina_user_stats",JSON.stringify(B))}})]}):d.jsx(D2,{onComplete:K,onCancel:On,onGoogleLogin:e3,initialProfile:Be})}Fh.createRoot(document.getElementById("root")).render(d.jsx(Bw.StrictMode,{children:d.jsx(N3,{})}));
